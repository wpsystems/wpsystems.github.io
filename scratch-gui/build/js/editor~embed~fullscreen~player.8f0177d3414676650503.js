(window.webpackJsonpGUI=window.webpackJsonpGUI||[]).push([[2],[,,,,,,,function(e,t,n){"use strict";var a=n(4),o=n.n(a),r=n(0),s=n.n(r),i=n(1),l=n.n(i),c=n(208),d=n.n(c),u=n(749),p=n.n(u);const m=["alignContent","alignItems","alignSelf","basis","children","className","componentRef","direction","element","grow","height","justifyContent","width","wrap","shrink","style"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}!function(){const e=function(e){let t=601,n=987654321;const a=4294967295;return function(){n=36969*(65535&n)+(n>>16)&a,t=18e3*(65535&t)+(t>>16)&a;let e=(n<<16)+t&a;return e/=4294967296,e+1}}()}();const b=e=>{const{alignContent:t,alignItems:n,alignSelf:a,basis:r,children:s,className:i,componentRef:c,direction:d,element:u,grow:b,height:_,justifyContent:v,width:y,wrap:w,shrink:S,style:E}=e,C=f(e,m);return l.a.createElement(u,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:o()(i,p.a.box),ref:c,style:Object.assign({alignContent:t,alignItems:n,alignSelf:a,flexBasis:r,flexDirection:d,flexGrow:b,flexShrink:S,flexWrap:w,justifyContent:v,width:y,height:_},{},E)},C),s)};b.propTypes={alignContent:s.a.oneOf(["flex-start","flex-end","center","space-between","space-around","stretch"]),alignItems:s.a.oneOf(["flex-start","flex-end","center","baseline","stretch"]),alignSelf:s.a.oneOf(["auto","flex-start","flex-end","center","baseline","stretch"]),basis:s.a.oneOfType([s.a.number,s.a.oneOf(["auto"])]),children:s.a.node,className:s.a.string,componentRef:s.a.func,direction:s.a.oneOf(["row","row-reverse","column","column-reverse"]),element:s.a.string,grow:s.a.number,height:s.a.oneOfType([s.a.number,s.a.string]),justifyContent:s.a.oneOf(["flex-start","flex-end","center","space-between","space-around"]),shrink:s.a.number,style:d.a,width:s.a.oneOfType([s.a.number,s.a.string]),wrap:s.a.oneOf(["nowrap","wrap","wrap-reverse"])},b.defaultProps={element:"div",style:{}},t.a=b},function(e,t,n){var a=n(1539);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},,,function(e,t,n){"use strict";n.d(t,"d",(function(){return k})),n.d(t,"z",(function(){return C})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return P})),n.d(t,"c",(function(){return x})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return E})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return p})),n.d(t,"o",(function(){return u})),n.d(t,"n",(function(){return m})),n.d(t,"p",(function(){return b})),n.d(t,"q",(function(){return _})),n.d(t,"r",(function(){return y})),n.d(t,"s",(function(){return w})),n.d(t,"t",(function(){return S})),n.d(t,"u",(function(){return v})),n.d(t,"v",(function(){return M})),n.d(t,"w",(function(){return F})),n.d(t,"x",(function(){return T})),n.d(t,"y",(function(){return R})),n.d(t,"A",(function(){return L})),n.d(t,"B",(function(){return D})),n.d(t,"C",(function(){return A})),n.d(t,"D",(function(){return N})),n.d(t,"E",(function(){return j}));var a=n(50);const o="scratch-gui/project-state/DONE_LOADING_VM_WITHOUT_ID",r="scratch-gui/project-state/RETURN_TO_SHOWING",s="scratch-gui/project-state/START_ERROR",i="0",l=n.n(a)()({NOT_LOADED:null,ERROR:null,AUTO_UPDATING:null,CREATING_COPY:null,CREATING_NEW:null,FETCHING_NEW_DEFAULT:null,FETCHING_WITH_ID:null,LOADING_VM_FILE_UPLOAD:null,LOADING_VM_NEW_DEFAULT:null,LOADING_VM_WITH_ID:null,MANUAL_UPDATING:null,REMIXING:null,SHOWING_WITH_ID:null,SHOWING_WITHOUT_ID:null,UPDATING_BEFORE_COPY:null,UPDATING_BEFORE_NEW:null}),c=Object.keys(l),d=e=>e===l.FETCHING_WITH_ID||e===l.FETCHING_NEW_DEFAULT,u=e=>e===l.LOADING_VM_WITH_ID||e===l.LOADING_VM_NEW_DEFAULT,p=e=>e===l.LOADING_VM_FILE_UPLOAD||e===l.LOADING_VM_WITH_ID||e===l.LOADING_VM_NEW_DEFAULT,m=e=>e===l.LOADING_VM_FILE_UPLOAD,h=e=>e===l.CREATING_NEW,g=e=>e===l.FETCHING_NEW_DEFAULT||e===l.LOADING_VM_NEW_DEFAULT||e===l.CREATING_NEW,f=e=>e===l.CREATING_COPY,b=e=>e===l.MANUAL_UPDATING,_=e=>e===l.REMIXING,v=e=>e===l.AUTO_UPDATING||e===l.MANUAL_UPDATING||e===l.UPDATING_BEFORE_COPY||e===l.UPDATING_BEFORE_NEW,y=e=>e===l.SHOWING_WITH_ID||e===l.SHOWING_WITHOUT_ID,w=e=>e===l.SHOWING_WITH_ID,S=e=>e===l.SHOWING_WITHOUT_ID,E=e=>e===l.ERROR,C={error:null,projectData:null,projectId:null,loadingState:l.NOT_LOADED},k=function(e,t){switch(void 0===e&&(e=C),t.type){case"scratch-gui/project-state/DONE_CREATING_NEW":return e.loadingState===l.CREATING_NEW?Object.assign({},e,{loadingState:l.SHOWING_WITH_ID,projectId:t.projectId}):e;case"scratch-gui/project-state/DONE_FETCHING_WITH_ID":return e.loadingState===l.FETCHING_WITH_ID?Object.assign({},e,{loadingState:l.LOADING_VM_WITH_ID,projectData:t.projectData}):e;case"scratch-gui/project-state/DONE_FETCHING_DEFAULT":return e.loadingState===l.FETCHING_NEW_DEFAULT?Object.assign({},e,{loadingState:l.LOADING_VM_NEW_DEFAULT,projectData:t.projectData}):e;case o:return e.loadingState===l.LOADING_VM_FILE_UPLOAD||e.loadingState===l.LOADING_VM_NEW_DEFAULT?Object.assign({},e,{loadingState:l.SHOWING_WITHOUT_ID,projectId:i}):e;case"scratch-gui/project-state/DONE_LOADING_VM_WITH_ID":return e.loadingState===l.LOADING_VM_WITH_ID?Object.assign({},e,{loadingState:l.SHOWING_WITH_ID}):e;case"scratch-gui/project-state/DONE_LOADING_VM_TO_SAVE":return e.loadingState===l.LOADING_VM_FILE_UPLOAD?Object.assign({},e,{loadingState:l.AUTO_UPDATING}):e;case"scratch-gui/project-state/DONE_REMIXING":return e.loadingState===l.REMIXING?Object.assign({},e,{loadingState:l.SHOWING_WITH_ID,projectId:t.projectId}):e;case"scratch-gui/project-state/DONE_CREATING_COPY":return e.loadingState===l.CREATING_COPY?Object.assign({},e,{loadingState:l.SHOWING_WITH_ID,projectId:t.projectId}):e;case"scratch-gui/project-state/DONE_UPDATING":return e.loadingState===l.AUTO_UPDATING||e.loadingState===l.MANUAL_UPDATING?Object.assign({},e,{loadingState:l.SHOWING_WITH_ID}):e;case"scratch-gui/project-state/DONE_UPDATING_BEFORE_COPY":return e.loadingState===l.UPDATING_BEFORE_COPY?Object.assign({},e,{loadingState:l.CREATING_COPY}):e;case"scratch-gui/project-state/DONE_UPDATING_BEFORE_NEW":return e.loadingState===l.UPDATING_BEFORE_NEW?Object.assign({},e,{loadingState:l.FETCHING_NEW_DEFAULT,projectId:i}):e;case r:return null===e.projectId||e.projectId===i?Object.assign({},e,{loadingState:l.SHOWING_WITHOUT_ID,projectId:i}):Object.assign({},e,{loadingState:l.SHOWING_WITH_ID});case"scratch-gui/project-state/SET_PROJECT_ID":return e.projectId===t.projectId?e:e.loadingState===l.SHOWING_WITH_ID||e.loadingState!==l.SHOWING_WITHOUT_ID?t.projectId===i||null===t.projectId?Object.assign({},e,{loadingState:l.FETCHING_NEW_DEFAULT,projectId:i}):Object.assign({},e,{loadingState:l.FETCHING_WITH_ID,projectId:t.projectId}):t.projectId!==i&&null!==t.projectId?Object.assign({},e,{loadingState:l.FETCHING_WITH_ID,projectId:t.projectId}):e;case"scratch-gui/project-state/START_AUTO_UPDATING":return e.loadingState===l.SHOWING_WITH_ID?Object.assign({},e,{loadingState:l.AUTO_UPDATING}):e;case"scratch-gui/project-state/START_CREATING_NEW":return e.loadingState===l.SHOWING_WITHOUT_ID?Object.assign({},e,{loadingState:l.CREATING_NEW}):e;case"scratch-gui/project-state/START_FETCHING_NEW":return[l.SHOWING_WITH_ID,l.SHOWING_WITHOUT_ID].includes(e.loadingState)?Object.assign({},e,{loadingState:l.FETCHING_NEW_DEFAULT,projectId:i}):e;case"scratch-gui/project-state/START_LOADING_VM_FILE_UPLOAD":return[l.NOT_LOADED,l.SHOWING_WITH_ID,l.SHOWING_WITHOUT_ID].includes(e.loadingState)?Object.assign({},e,{loadingState:l.LOADING_VM_FILE_UPLOAD}):e;case"scratch-gui/project-state/START_MANUAL_UPDATING":return e.loadingState===l.SHOWING_WITH_ID?Object.assign({},e,{loadingState:l.MANUAL_UPDATING}):e;case"scratch-gui/project-state/START_REMIXING":return e.loadingState===l.SHOWING_WITH_ID?Object.assign({},e,{loadingState:l.REMIXING}):e;case"scratch-gui/project-state/START_UPDATING_BEFORE_CREATING_COPY":return e.loadingState===l.SHOWING_WITH_ID?Object.assign({},e,{loadingState:l.UPDATING_BEFORE_COPY}):e;case"scratch-gui/project-state/START_UPDATING_BEFORE_CREATING_NEW":return e.loadingState===l.SHOWING_WITH_ID?Object.assign({},e,{loadingState:l.UPDATING_BEFORE_NEW}):e;case s:return[l.FETCHING_NEW_DEFAULT,l.FETCHING_WITH_ID,l.LOADING_VM_NEW_DEFAULT,l.LOADING_VM_WITH_ID].includes(e.loadingState)?Object.assign({},e,{loadingState:l.ERROR,error:t.error}):[l.AUTO_UPDATING,l.CREATING_COPY,l.MANUAL_UPDATING,l.REMIXING,l.UPDATING_BEFORE_COPY,l.UPDATING_BEFORE_NEW].includes(e.loadingState)?Object.assign({},e,{loadingState:l.SHOWING_WITH_ID,error:t.error}):e.loadingState===l.CREATING_NEW?e.projectId===i||null===e.projectId?Object.assign({},e,{loadingState:l.SHOWING_WITHOUT_ID,error:t.error}):Object.assign({},e,{loadingState:l.SHOWING_WITH_ID,error:t.error}):e;default:return e}},x=()=>({type:"scratch-gui/project-state/START_CREATING_NEW"}),O=(e,t)=>{switch(t){case l.CREATING_NEW:return{type:"scratch-gui/project-state/DONE_CREATING_NEW",projectId:e};case l.CREATING_COPY:return{type:"scratch-gui/project-state/DONE_CREATING_COPY",projectId:e};case l.REMIXING:return{type:"scratch-gui/project-state/DONE_REMIXING",projectId:e}}},F=(e,t)=>{switch(t){case l.FETCHING_WITH_ID:return{type:"scratch-gui/project-state/DONE_FETCHING_WITH_ID",projectData:e};case l.FETCHING_NEW_DEFAULT:return{type:"scratch-gui/project-state/DONE_FETCHING_DEFAULT",projectData:e}}},T=(e,t,n)=>{switch(e){case l.LOADING_VM_WITH_ID:return n?{type:"scratch-gui/project-state/DONE_LOADING_VM_WITH_ID"}:{type:r};case l.LOADING_VM_FILE_UPLOAD:return n?t?{type:"scratch-gui/project-state/DONE_LOADING_VM_TO_SAVE"}:{type:o}:{type:r};case l.LOADING_VM_NEW_DEFAULT:return n?{type:o}:{type:s};default:return}},I=e=>{switch(e){case l.AUTO_UPDATING:case l.MANUAL_UPDATING:return{type:"scratch-gui/project-state/DONE_UPDATING"};case l.UPDATING_BEFORE_COPY:return{type:"scratch-gui/project-state/DONE_UPDATING_BEFORE_COPY"};case l.UPDATING_BEFORE_NEW:return{type:"scratch-gui/project-state/DONE_UPDATING_BEFORE_NEW"}}},R=e=>({type:s,error:e}),j=e=>({type:"scratch-gui/project-state/SET_PROJECT_ID",projectId:e}),D=e=>e?{type:"scratch-gui/project-state/START_UPDATING_BEFORE_CREATING_NEW"}:{type:"scratch-gui/project-state/START_FETCHING_NEW"},A=e=>{switch(e){case l.NOT_LOADED:case l.SHOWING_WITH_ID:case l.SHOWING_WITHOUT_ID:return{type:"scratch-gui/project-state/START_LOADING_VM_FILE_UPLOAD"}}},P=()=>({type:"scratch-gui/project-state/START_AUTO_UPDATING"}),M=()=>({type:"scratch-gui/project-state/START_MANUAL_UPDATING"}),N=()=>({type:"scratch-gui/project-state/START_UPDATING_BEFORE_CREATING_COPY"}),L=()=>({type:"scratch-gui/project-state/START_REMIXING"})},,function(e,t,n){var a=n(1526);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},,,,function(e,t,n){"use strict";n.r(t);var a=n(111),o=n.n(a);o.a.enable(),t.default=o()("gui")},,function(e,t,n){"use strict";n.d(t,"m",(function(){return o})),n.d(t,"n",(function(){return a})),n.d(t,"o",(function(){return i})),n.d(t,"q",(function(){return l})),n.d(t,"r",(function(){return c})),n.d(t,"s",(function(){return d})),n.d(t,"u",(function(){return u})),n.d(t,"w",(function(){return p})),n.d(t,"v",(function(){return m})),n.d(t,"x",(function(){return g})),n.d(t,"p",(function(){return h})),n.d(t,"y",(function(){return f})),n.d(t,"t",(function(){return b})),n.d(t,"a",(function(){return _})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return w})),n.d(t,"i",(function(){return E})),n.d(t,"g",(function(){return C})),n.d(t,"h",(function(){return k})),n.d(t,"j",(function(){return S})),n.d(t,"k",(function(){return x})),n.d(t,"b",(function(){return O})),n.d(t,"l",(function(){return F})),n.d(t,"f",(function(){return T}));const a={backdropLibrary:!1,costumeLibrary:!1,extensionLibrary:!1,loadingProject:!1,telemetryModal:!1,soundLibrary:!1,spriteLibrary:!1,soundRecorder:!1,connectionModal:!1,tipsLibrary:!1,usernameModal:!1,settingsModal:!1},o=function(e,t){switch(void 0===e&&(e=a),t.type){case"scratch-gui/modals/OPEN_MODAL":return Object.assign({},e,{[t.modal]:!0});case"scratch-gui/modals/CLOSE_MODAL":return Object.assign({},e,{[t.modal]:!1});default:return e}},r=function(e){return{type:"scratch-gui/modals/OPEN_MODAL",modal:e}},s=function(e){return{type:"scratch-gui/modals/CLOSE_MODAL",modal:e}},i=function(){return r("backdropLibrary")},l=function(){return r("costumeLibrary")},c=function(){return r("extensionLibrary")},d=function(){return r("loadingProject")},u=function(){return r("soundLibrary")},p=function(){return r("spriteLibrary")},m=function(){return r("soundRecorder")},h=function(){return r("connectionModal")},g=function(){return r("tipsLibrary")},f=function(){return r("usernameModal")},b=function(){return r("settingsModal")},_=function(){return s("backdropLibrary")},v=function(){return s("costumeLibrary")},y=function(){return s("extensionLibrary")},w=function(){return s("loadingProject")},S=function(){return s("telemetryModal")},E=function(){return s("spriteLibrary")},C=function(){return s("soundLibrary")},k=function(){return s("soundRecorder")},x=function(){return s("tipsLibrary")},O=function(){return s("connectionModal")},F=function(){return s("usernameModal")},T=function(){return s("settingsModal")}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s}));var a=n(50),o=n.n(a),r=n(35);const s=o()({large:null,small:null}),i=o()({large:null,largeConstrained:null,small:null}),l=.675,c={};c[i.large]=1,c[i.largeConstrained]=.85,c[i.small]=.5,t.e={standardStageWidth:r.a.width,standardStageHeight:r.a.height,fullSizeMinWidth:1096+Math.max(0,r.a.width-480),fullSizePaintMinWidth:1250+Math.max(0,r.a.width-480)}},,,,function(e,t,n){var a=n(1430);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"r",(function(){return a})),n.d(t,"j",(function(){return r})),n.d(t,"m",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"o",(function(){return l})),n.d(t,"p",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"n",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"d",(function(){return h})),n.d(t,"g",(function(){return g})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"i",(function(){return _})),n.d(t,"q",(function(){return v})),n.d(t,"k",(function(){return y}));const a={framerate:30,interpolation:!1,cloud:!0,username:"",highQualityPen:!1,compilerOptions:{enabled:!0,warpTimer:!1},runtimeOptions:{maxClones:300,miscLimits:!0,fencing:!0},isWindowFullScreen:!1,dimensions:[0,0],author:{username:"",thumbnail:""},description:{instructions:"",credits:""},compileErrors:[],fileHandle:null,usernameInvalid:!1,hasCloudVariables:!1},o=function(e,t){switch(void 0===e&&(e=a),t.type){case"tw/SET_FRAMERATE":return Object.assign({},e,{framerate:t.framerate});case"tw/SET_INTERPOLATION":return Object.assign({},e,{interpolation:t.interpolation});case"tw/SET_COMPILER_OPTIONS":return Object.assign({},e,{compilerOptions:t.compilerOptions});case"tw/SET_RUNTIME_OPTIONS":return Object.assign({},e,{runtimeOptions:t.runtimeOptions});case"tw/SET_USERNAME":return Object.assign({},e,{username:t.username});case"tw/SET_CLOUD":return Object.assign({},e,{cloud:t.cloud});case"tw/SET_HIGH_QUALITY_PEN":return Object.assign({},e,{highQualityPen:t.highQualityPen});case"tw/SET_WINDOW_FULLSCREEN":return Object.assign({},e,{isWindowFullScreen:t.isWindowFullScreen});case"tw/SET_DIMENSIONS":return Object.assign({},e,{dimensions:t.dimensions});case"tw/SET_AUTHOR":return Object.assign({},e,{author:t.author});case"tw/SET_DESCRIPTION":return Object.assign({},e,{description:t.description});case"tw/ADD_COMPILE_ERROR":return Object.assign({},e,{compileErrors:[t.error,...e.compileErrors.slice(0,4)]});case"tw/CLEAR_COMPILE_ERRORS":return Object.assign({},e,{compileErrors:[]});case"tw/SET_FILE_HANDLE":return Object.assign({},e,{fileHandle:t.fileHandle});case"tw/SET_USERNAME_INVALID":return Object.assign({},e,{usernameInvalid:t.usernameInvalid});case"tw/SET_HAS_CLOUD_VARIABLES":return Object.assign({},e,{hasCloudVariables:t.hasCloudVariables});default:return e}},r=function(e){return{type:"tw/SET_FRAMERATE",framerate:e}},s=function(e){return{type:"tw/SET_INTERPOLATION",interpolation:e}},i=function(e){return{type:"tw/SET_COMPILER_OPTIONS",compilerOptions:e}},l=function(e){return{type:"tw/SET_RUNTIME_OPTIONS",runtimeOptions:e}},c=function(e){return{type:"tw/SET_USERNAME",username:e}},d=function(e){return{type:"tw/SET_CLOUD",cloud:e}},u=function(e){return{type:"tw/SET_HIGH_QUALITY_PEN",highQualityPen:e}},p=function(e){return{type:"tw/SET_WINDOW_FULLSCREEN",isWindowFullScreen:e}},m=function(e){return{type:"tw/SET_DIMENSIONS",dimensions:e}},h=function(e){return{type:"tw/SET_AUTHOR",author:e}},g=function(e){return{type:"tw/SET_DESCRIPTION",description:e}},f=function(e){return{type:"tw/ADD_COMPILE_ERROR",error:e}},b=function(){return{type:"tw/CLEAR_COMPILE_ERRORS"}},_=function(e){return{type:"tw/SET_FILE_HANDLE",fileHandle:e}},v=function(e){return{type:"tw/SET_USERNAME_INVALID",usernameInvalid:e}},y=function(e){return{type:"tw/SET_HAS_CLOUD_VARIABLES",hasCloudVariables:e}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return u}));var a=n(82),o=n(156);const r={visible:!0,alertsList:[]},s=e=>e.filter(e=>e.alertType===a.b.STANDARD||e.alertType===a.b.EXTENSION),i=e=>e.filter(e=>e.alertType===a.b.INLINE),l=function(e,t){switch(void 0===e&&(e=r),t.type){case"scratch-gui/alerts/SHOW_ALERT":{const n=t.alertId;if(n){const o={alertId:n,level:a.a.WARN},r=a.c.find(e=>e.alertId===n);if(r){const n=e.alertsList.filter(e=>!r.clearList||-1===r.clearList.indexOf(e.alertId));return t.data&&t.data.message&&(o.message=t.data.message),o.alertType=r.alertType||a.b.STANDARD,o.closeButton=r.closeButton,o.content=r.content,o.iconURL=r.iconURL,o.iconSpinner=r.iconSpinner,o.level=r.level,o.showDownload=r.showDownload,o.showSaveNow=r.showSaveNow,n.push(o),Object.assign({},e,{alertsList:n})}}return e}case"scratch-gui/alerts/SHOW_EXTENSION_ALERT":{const n=t.data.extensionId;if(n){const t=o.a.find(e=>e.extensionId===n);if(t){const o=e.alertsList.slice(),r={alertType:a.b.EXTENSION,closeButton:!0,extensionId:n,extensionName:t.name,iconURL:t.connectionSmallIconURL,level:a.a.WARN,showReconnect:!0};return o.push(r),Object.assign({},e,{alertsList:o})}}return e}case"scratch-gui/alerts/CLOSE_ALERT_WITH_ID":case"scratch-gui/alerts/CLOSE_ALERT":{if(t.alertId&&(t.index=e.alertsList.findIndex(e=>e.alertId===t.alertId),-1===t.index))return e;const n=e.alertsList.slice();return n.splice(t.index,1),Object.assign({},e,{alertsList:n})}case"scratch-gui/alerts/CLOSE_ALERTS_WITH_ID":return Object.assign({},e,{alertsList:e.alertsList.filter(e=>e.alertId!==t.alertId)});default:return e}},c=function(e){return{type:"scratch-gui/alerts/CLOSE_ALERT",index:e}},d=function(e){return{type:"scratch-gui/alerts/CLOSE_ALERT_WITH_ID",alertId:e}},u=function(e){return{type:"scratch-gui/alerts/SHOW_ALERT",alertId:e}},p=function(e){return{type:"scratch-gui/alerts/SHOW_EXTENSION_ALERT",data:e}},m=function(e,t){const n=a.c.find(e=>e.alertId===t);n&&(e(u(t)),n.maxDisplaySecs&&setTimeout(()=>{e(function(e){return{type:"scratch-gui/alerts/CLOSE_ALERTS_WITH_ID",alertId:e}}(t))},1e3*n.maxDisplaySecs))}},function(e,t,n){var a=n(1535);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){"use strict";var a=n(706),o=n.n(a),r=n(2),s=n(84);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d=Object(r.d)({variable:{id:"gui.defaultProject.variable",defaultMessage:"my variable"}});d=l(l({},d),s.a);const u=e=>e.defaultMessage;var p=e=>{const t=e||u;return{targets:[{isStage:!0,name:"Stage",variables:{"`jEk@4|i[#Fk?(8x)AV.-my variable":[t(d.variable),0]},lists:{},broadcasts:{},blocks:{},currentCostume:0,costumes:[{assetId:"cd21514d0531fdffb22204e0ec5ed84a",name:t(d.backdrop,{index:1}),md5ext:"cd21514d0531fdffb22204e0ec5ed84a.svg",dataFormat:"svg",rotationCenterX:240,rotationCenterY:180}],sounds:[],volume:100},{isStage:!1,name:t(d.sprite,{index:1}),variables:{},lists:{},broadcasts:{},blocks:{},comments:{},currentCostume:0,costumes:[{assetId:"b4ab6b3b69de1bc3ed6a94ace172a0b0",name:t(d.costume,{index:1}),bitmapResolution:1,md5ext:"b4ab6b3b69de1bc3ed6a94ace172a0b0.svg",dataFormat:"svg",rotationCenterX:44,rotationCenterY:44}],sounds:[],volume:100,visible:!0,x:0,y:0,size:100,direction:90,draggable:!1,rotationStyle:"all around"}],meta:{semver:"3.0.0",vm:"0.1.0",agent:""}}},m=n(707),h=n.n(m),g=n(708),f=n.n(g),b=n(113);var _=e=>{const t=new b.TextEncoder,n=p(e);return[{id:0,assetType:"Project",dataFormat:"JSON",data:JSON.stringify(n)},{id:"cd21514d0531fdffb22204e0ec5ed84a",assetType:"ImageVector",dataFormat:"SVG",data:t.encode(h.a)},{id:"b4ab6b3b69de1bc3ed6a94ace172a0b0",assetType:"ImageVector",dataFormat:"SVG",data:t.encode(f.a)}]},v=n(345),y=n(17);class w extends o.a{constructor(){super(),this.cacheDefaultProject()}addOfficialScratchWebStores(){this.addWebStore([this.AssetType.Project],this.getProjectGetConfig.bind(this),this.getProjectCreateConfig.bind(this),this.getProjectUpdateConfig.bind(this)),this.addWebStore([this.AssetType.ImageVector,this.AssetType.ImageBitmap,this.AssetType.Sound],this.getAssetGetConfig.bind(this),this.getAssetCreateConfig.bind(this),this.getAssetCreateConfig.bind(this))}setProjectHost(e){this.projectHost=e}getProjectGetConfig(e){return"".concat(this.projectHost,"/").concat(e.assetId)}getProjectCreateConfig(){return{url:"".concat(this.projectHost,"/"),withCredentials:!0}}getProjectUpdateConfig(e){return{url:"".concat(this.projectHost,"/").concat(e.assetId),withCredentials:!0}}setAssetHost(e){this.assetHost=e}getAssetGetConfig(e){return"".concat(this.assetHost,"/internalapi/asset/").concat(e.assetId,".").concat(e.dataFormat,"/get/")}getAssetCreateConfig(e){return{method:"post",url:"".concat(this.assetHost,"/").concat(e.assetId,".").concat(e.dataFormat),withCredentials:!0}}setTranslatorFunction(e){this.translator=e,this.cacheDefaultProject()}cacheDefaultProject(){_(this.translator).forEach(e=>this.builtinHelper._store(this.AssetType[e.assetType],this.DataFormat[e.dataFormat],e.data,e.id));Object(v.b)(this.translator).forEach(e=>this.builtinHelper._store(this.AssetType[e.assetType],this.DataFormat[e.dataFormat],e.data,e.id))}async load(e,t,n){let a;for(let o=0;o<3;o++)try{return await super.load(e,t,n)}catch(e){0===o&&(a=e),y.default.warn("Attempt to get ".concat(t," failed, trying again"),e),await new Promise(e=>setTimeout(e,1e3*(o+1)*Math.random()))}throw new Error("Cannot fetch asset: ".concat(a))}}const S=new w;t.a=S},,function(e,t,n){var a=n(1441);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},,function(e,t,n){var a=n(1449);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){"use strict";n.d(t,"j",(function(){return o})),n.d(t,"p",(function(){return a})),n.d(t,"q",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"r",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"u",(function(){return m})),n.d(t,"g",(function(){return h})),n.d(t,"m",(function(){return g})),n.d(t,"s",(function(){return f})),n.d(t,"e",(function(){return b})),n.d(t,"k",(function(){return _})),n.d(t,"v",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"n",(function(){return w})),n.d(t,"w",(function(){return S})),n.d(t,"i",(function(){return E})),n.d(t,"o",(function(){return C})),n.d(t,"t",(function(){return k})),n.d(t,"f",(function(){return x})),n.d(t,"l",(function(){return O}));const a={aboutMenu:!1,accountMenu:!1,fileMenu:!1,editMenu:!1,languageMenu:!1,loginMenu:!1,errorMenu:!1},o=function(e,t){switch(void 0===e&&(e=a),t.type){case"scratch-gui/menus/OPEN_MENU":return Object.assign({},e,{[t.menu]:!0});case"scratch-gui/menus/CLOSE_MENU":return Object.assign({},e,{[t.menu]:!1});default:return e}},r=e=>({type:"scratch-gui/menus/OPEN_MENU",menu:e}),s=e=>({type:"scratch-gui/menus/CLOSE_MENU",menu:e}),i=()=>r("aboutMenu"),l=()=>s("aboutMenu"),c=e=>e.scratchGui.menus.aboutMenu,d=()=>r("accountMenu"),u=()=>s("accountMenu"),p=e=>e.scratchGui.menus.accountMenu,m=()=>r("fileMenu"),h=()=>s("fileMenu"),g=e=>e.scratchGui.menus.fileMenu,f=()=>r("editMenu"),b=()=>s("editMenu"),_=e=>e.scratchGui.menus.editMenu,v=()=>r("languageMenu"),y=()=>s("languageMenu"),w=e=>e.scratchGui.menus.languageMenu,S=()=>r("loginMenu"),E=()=>s("loginMenu"),C=e=>e.scratchGui.menus.loginMenu,k=()=>r("errorMenu"),x=()=>s("errorMenu"),O=e=>e.scratchGui.menus.errorMenu},function(e,t,n){"use strict";t.a=(()=>{if("undefined"==typeof URLSearchParams)return{width:480,height:360};const e=new URLSearchParams(location.search);if(!e.has("size"))return{width:480,height:360};const t=e.get("size"),[n,a,o]=t.match(/^(\d+)[^\d]+(\d+)$/);if(!a||!o)return{width:480,height:360};return{width:Math.max(0,Math.min(4096,+a)),height:Math.max(0,Math.min(4096,+o))}})()},,function(e,t,n){var a=n(1439);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},,function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r}));const a=0,o=1,r=2,s={activeTabIndex:a},i=function(e,t){switch(void 0===e&&(e=s),t.type){case"scratch-gui/navigation/ACTIVATE_TAB":return Object.assign({},e,{activeTabIndex:t.activeTabIndex});default:return e}},l=function(e){return{type:"scratch-gui/navigation/ACTIVATE_TAB",activeTabIndex:e}}},,,,,function(e,t,n){var a=n(1395);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},,function(e,t,n){var a=n(1436);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},,,,,,,,function(e,t,n){var a=n(1548);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){"use strict";var a=n(4),o=n.n(a),r=n(0),s=n.n(r),i=n(1),l=n.n(i),c=n(352),d=n.n(c);const u=["className","disabled","iconClassName","iconSrc","iconWidth","iconHeight","onClick","children"];function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const h=e=>{let{className:t,disabled:n,iconClassName:a,iconSrc:r,iconWidth:s,iconHeight:i,onClick:c,children:h}=e,g=m(e,u);n&&(c=function(){});const f=r&&l.a.createElement("img",{className:o()(a,d.a.icon),draggable:!1,src:r,height:i,width:s});return l.a.createElement("span",p({className:o()(d.a.outlinedButton,t),role:"button",onClick:c},g),f,l.a.createElement("div",{className:d.a.content},h))};h.propTypes={children:s.a.node,className:s.a.string,disabled:s.a.bool,iconClassName:s.a.string,iconSrc:s.a.string,iconHeight:s.a.string,iconWidth:s.a.string,onClick:s.a.func},t.a=h},,function(e,t,n){var a=n(1447);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},,,,function(e,t,n){var a=n(1401);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r}));const a="",o=function(e,t){switch(void 0===e&&(e=a),t.type){case"projectTitle/SET_PROJECT_TITLE":return t.title;default:return e}},r=e=>({type:"projectTitle/SET_PROJECT_TITLE",title:e})},function(e,t,n){"use strict";const a=document.getElementById("app");for(;a.firstChild;)a.removeChild(a.firstChild);document.body.classList.add("tw-loaded"),t.a=a},,function(e,t,n){var a=n(1545);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s}));const a={isEmbedded:!1,isFullScreen:!1,isPlayerOnly:!1,hasEverEnteredEditor:!0},o=function(e,t){switch(void 0===e&&(e=a),t.type){case"scratch-gui/mode/SET_FULL_SCREEN":return Object.assign({},e,{isFullScreen:t.isFullScreen});case"scratch-gui/mode/SET_PLAYER":return Object.assign({},e,{isPlayerOnly:t.isPlayerOnly,hasEverEnteredEditor:e.hasEverEnteredEditor||!t.isPlayerOnly});default:return e}},r=function(e){return{type:"scratch-gui/mode/SET_FULL_SCREEN",isFullScreen:e}},s=function(e){return{type:"scratch-gui/mode/SET_PLAYER",isPlayerOnly:e}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return isRendererSupported})),__webpack_require__.d(__webpack_exports__,"c",(function(){return isEvalSupported})),__webpack_require__.d(__webpack_exports__,"a",(function(){return isAudioContextSupported})),__webpack_require__.d(__webpack_exports__,"b",(function(){return isBrowserSupported}));var scratch_render__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(270),scratch_render__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(scratch_render__WEBPACK_IMPORTED_MODULE_0__);let _isRendererSupported=null;const isRendererSupported=()=>(null===_isRendererSupported&&(_isRendererSupported=scratch_render__WEBPACK_IMPORTED_MODULE_0___default.a.isSupported()),_isRendererSupported);let _isEvalSupported=null;const isEvalSupported=()=>{if(null===_isEvalSupported){let evalCheck=0;try{eval("evalCheck=1")}catch(e){}_isEvalSupported=1===evalCheck}return _isEvalSupported},isAudioContextSupported=()=>!(!window.AudioContext&&!window.webkitAudioContext),isBrowserSupported=()=>isEvalSupported()&&isAudioContextSupported()},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"j",(function(){return h})),n.d(t,"f",(function(){return g}));var a=n(83),o=n(81);const r="scratch-gui/cards/END_DRAG",s={visible:!1,content:o.a,activeDeckId:null,step:0,x:0,y:0,expanded:!0,dragging:!1},i=function(e,t){switch(void 0===e&&(e=s),t.type){case"scratch-gui/cards/CLOSE_CARDS":return Object.assign({},e,{visible:!1});case"scratch-gui/cards/SHRINK_EXPAND_CARDS":return Object.assign({},e,{expanded:!e.expanded});case"scratch-gui/cards/VIEW_CARDS":return Object.assign({},e,{visible:!0});case"scratch-gui/cards/ACTIVATE_DECK":return Object.assign({},e,{activeDeckId:t.activeDeckId,step:0,x:0,y:0,expanded:!0,visible:!0});case"scratch-gui/cards/NEXT_STEP":return null!==e.activeDeckId?(a.a.event({category:"how-to",action:"next step",label:"".concat(e.activeDeckId," - ").concat(e.step)}),Object.assign({},e,{step:e.step+1})):e;case"scratch-gui/cards/PREV_STEP":return null!==e.activeDeckId&&e.step>0?Object.assign({},e,{step:e.step-1}):e;case"scratch-gui/cards/DRAG_CARD":return Object.assign({},e,{x:t.x,y:t.y});case"scratch-gui/cards/START_DRAG":return Object.assign({},e,{dragging:!0});case r:return Object.assign({},e,{dragging:!1});default:return e}},l=function(e){return{type:"scratch-gui/cards/ACTIVATE_DECK",activeDeckId:e}},c=function(){return{type:"scratch-gui/cards/CLOSE_CARDS"}},d=function(){return{type:"scratch-gui/cards/SHRINK_EXPAND_CARDS"}},u=function(){return{type:"scratch-gui/cards/NEXT_STEP"}},p=function(){return{type:"scratch-gui/cards/PREV_STEP"}},m=function(e,t){return{type:"scratch-gui/cards/DRAG_CARD",x:e,y:t}},h=function(){return{type:"scratch-gui/cards/START_DRAG"}},g=function(){return{type:r}}},function(e,t,n){var a=n(1423);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1513);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s}));var a=n(11);const o=(e,t)=>{e(Object(a.E)(t))},r=e=>{let t=e.toString();return t.length>0&&(t="?".concat(t),t=t.replace(/=(?=$|&)/g,"").replace(/%2F/g,"/").replace(/%3A/g,":")),t},s=e=>{const t=r(e);location.search!==t&&history.replaceState(null,null,"".concat(location.pathname).concat(t).concat(location.hash))}},function(e,t,n){"use strict";var a=n(1),o=n.n(a),r=n(0),s=n.n(r),i=n(7),l=n(2),c=n(194),d=n.n(c),u=n(750),p=n.n(u);const m=e=>o.a.createElement("div",{className:d.a.crashWrapper},o.a.createElement(i.a,{className:d.a.body},o.a.createElement("img",{className:d.a.reloadIcon,src:p.a}),o.a.createElement("p",{className:d.a.header},o.a.createElement(l.a,{defaultMessage:"Oops! Something went wrong.",id:"gui.crashMessage.label"})),o.a.createElement("p",null,o.a.createElement(l.a,{defaultMessage:"We are so sorry, but it looks like TurboWarp has crashed. Please refresh your page to try again.",id:"tw.gui.crashMessage.description"})),e.errorMessage&&o.a.createElement("p",{className:d.a.errorMessage},e.errorMessage),e.eventId&&o.a.createElement("p",null,o.a.createElement(l.a,{defaultMessage:"Your error was logged with id {errorId}",id:"gui.crashMessage.errorNumber",values:{errorId:e.eventId}})),o.a.createElement("button",{className:d.a.reloadButton,onClick:e.onReload},o.a.createElement(l.a,{defaultMessage:"Reload",id:"gui.crashMessage.reload"}))));m.propTypes={eventId:s.a.string,errorMessage:s.a.string,onReload:s.a.func.isRequired};var h=m,g=n(17);var f=n(83);class b extends o.a.Component{constructor(e){super(e),this.state={hasError:!1,errorId:null}}componentDidCatch(e,t){e=e||{stack:"Unknown stack",message:"Unknown error"},window.Sentry&&window.Sentry.withScope(n=>{Object.keys(t).forEach(e=>{n.setExtra(e,t[e])}),n.setExtra("action",this.props.action),window.Sentry.captureException(e)}),f.a.twEvent("Crash"),this.setState({hasError:!0,errorId:window.Sentry?window.Sentry.lastEventId():null,errorMessage:"".concat(e&&e.message||e)}),g.default.error("Unhandled Error: ".concat(e.stack,"\nComponent stack: ").concat(t.componentStack))}handleBack(){window.history.back()}handleReload(){window.location.replace(window.location.origin+window.location.pathname)}render(){return this.state.hasError?o.a.createElement(h,{eventId:this.state.errorId,errorMessage:this.state.errorMessage,onReload:this.handleReload}):this.props.children}}b.propTypes={action:s.a.string.isRequired,children:s.a.node};var _=b;t.a=function(e){return function(t){return n=>o.a.createElement(_,{action:e},o.a.createElement(t,n))}}},function(e,t,n){"use strict";t.a={}},function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(1),o=n.n(a),r=n(2),s=n(50),i=n.n(s),l=n(219),c=n.n(l);const d=i()({STANDARD:null,EXTENSION:null,INLINE:null}),u={SUCCESS:"success",INFO:"info",WARN:"warn"},p=[{alertId:"createSuccess",alertType:d.STANDARD,clearList:["createSuccess","creating","createCopySuccess","creatingCopy","createRemixSuccess","creatingRemix","saveSuccess","saving"],content:o.a.createElement(r.a,{defaultMessage:"New project created.",id:"gui.alerts.createsuccess"}),iconURL:c.a,level:u.SUCCESS,maxDisplaySecs:5},{alertId:"createCopySuccess",alertType:d.STANDARD,clearList:["createSuccess","creating","createCopySuccess","creatingCopy","createRemixSuccess","creatingRemix","saveSuccess","saving"],content:o.a.createElement(r.a,{defaultMessage:"Project saved as a copy.",id:"gui.alerts.createcopysuccess"}),iconURL:c.a,level:u.SUCCESS,maxDisplaySecs:5},{alertId:"createRemixSuccess",alertType:d.STANDARD,clearList:["createSuccess","creating","createCopySuccess","creatingCopy","createRemixSuccess","creatingRemix","saveSuccess","saving"],content:o.a.createElement(r.a,{defaultMessage:"Project saved as a remix.",id:"gui.alerts.createremixsuccess"}),iconURL:c.a,level:u.SUCCESS,maxDisplaySecs:5},{alertId:"creating",alertType:d.STANDARD,clearList:["createSuccess","creating","createCopySuccess","creatingCopy","createRemixSuccess","creatingRemix","saveSuccess","saving"],content:o.a.createElement(r.a,{defaultMessage:"Creating new…",id:"gui.alerts.creating"}),iconSpinner:!0,level:u.SUCCESS},{alertId:"creatingCopy",alertType:d.STANDARD,clearList:["createSuccess","creating","createCopySuccess","creatingCopy","createRemixSuccess","creatingRemix","saveSuccess","saving"],content:o.a.createElement(r.a,{defaultMessage:"Copying project…",id:"gui.alerts.creatingCopy"}),iconSpinner:!0,level:u.SUCCESS},{alertId:"creatingRemix",alertType:d.STANDARD,clearList:["createSuccess","creating","createCopySuccess","creatingCopy","createRemixSuccess","creatingRemix","saveSuccess","saving"],content:o.a.createElement(r.a,{defaultMessage:"Remixing project…",id:"gui.alerts.creatingRemix"}),iconSpinner:!0,level:u.SUCCESS},{alertId:"creatingError",clearList:["createSuccess","creating","createCopySuccess","creatingCopy","createRemixSuccess","creatingRemix","saveSuccess","saving"],closeButton:!0,content:o.a.createElement(r.a,{defaultMessage:"Could not create the project. Please try again!",id:"gui.alerts.creatingError"}),level:u.WARN},{alertId:"savingError",clearList:["createSuccess","creating","createCopySuccess","creatingCopy","createRemixSuccess","creatingRemix","saveSuccess","saving"],showDownload:!0,closeButton:!1,content:o.a.createElement(r.a,{defaultMessage:"Project could not save.",id:"gui.alerts.savingError"}),level:u.WARN},{alertId:"saveSuccess",alertType:d.INLINE,clearList:["saveSuccess","saving","savingError","twSaveToDiskSuccess"],content:o.a.createElement(r.a,{defaultMessage:"Project saved.",id:"gui.alerts.savesuccess"}),iconURL:c.a,level:u.SUCCESS,maxDisplaySecs:3},{alertId:"twSaveToDiskSuccess",alertType:d.INLINE,clearList:["saveSuccess","saving","savingError","twSaveToDiskSuccess"],content:o.a.createElement(r.a,{defaultMessage:"Saved to your computer.",id:"tw.alerts.savedToDisk"}),iconURL:c.a,level:u.SUCCESS,maxDisplaySecs:3},{alertId:"saving",alertType:d.INLINE,clearList:["saveSuccess","saving","savingError","twSaveToDiskSuccess"],content:o.a.createElement(r.a,{defaultMessage:"Saving project…",id:"gui.alerts.saving"}),iconSpinner:!0,level:u.INFO},{alertId:"twAutosaving",alertType:d.INLINE,content:o.a.createElement(r.a,{defaultMessage:"Creating restore point…",id:"tw.alerts.autosaving"}),iconSpinner:!0,level:u.INFO},{alertId:"cloudInfo",alertType:d.STANDARD,clearList:["cloudInfo"],content:o.a.createElement(r.a,{defaultMessage:"Please note, cloud variables only support numbers, not letters or symbols. {learnMoreLink}",id:"gui.alerts.cloudInfo",values:{learnMoreLink:o.a.createElement("a",{href:"https://scratch.mit.edu/info/faq/#clouddata",rel:"noopener noreferrer",target:"_blank"},o.a.createElement(r.a,{defaultMessage:"Learn more.",id:"gui.alerts.cloudInfoLearnMore"}))}}),closeButton:!0,level:u.SUCCESS,maxDisplaySecs:15},{alertId:"importingAsset",alertType:d.STANDARD,clearList:[],content:o.a.createElement(r.a,{defaultMessage:"Importing…",id:"gui.alerts.importing"}),iconSpinner:!0,level:u.SUCCESS}]},function(e,t,n){"use strict";const a={event(){},twEvent(e){void 0}};t.a=a},function(e,t,n){"use strict";var a=n(2);t.a=Object(a.d)({backdrop:{id:"gui.sharedMessages.backdrop",defaultMessage:"backdrop{index}"},costume:{id:"gui.sharedMessages.costume",defaultMessage:"costume{index}"},sprite:{id:"gui.sharedMessages.sprite",defaultMessage:"Sprite{index}"},pop:{id:"gui.sharedMessages.pop",defaultMessage:"pop"},replaceProjectWarning:{id:"gui.sharedMessages.replaceProjectWarning",defaultMessage:"Replace contents of the current project?"},loadFromComputerTitle:{id:"gui.sharedMessages.loadFromComputerTitle",defaultMessage:"Load from your computer"}})},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return i}));const a="scratch-gui/project-changed/SET_PROJECT_CHANGED",o=!1,r=function(e,t){switch(void 0===e&&(e=o),t.type){case a:return t.changed;default:return e}},s=()=>({type:a,changed:!0}),i=()=>({type:a,changed:!1})},,,,function(e,t,n){var a=n(1391);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){"use strict";t.a=(e,t)=>{const n=document.createElement("a");if(document.body.appendChild(n),navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(t,e);else if("download"in HTMLAnchorElement.prototype){const a=window.URL.createObjectURL(t);n.href=a,n.download=e,n.type=t.type,n.click(),window.setTimeout(()=>{document.body.removeChild(n),window.URL.revokeObjectURL(a)},1e3)}else{let e=window.open("","_blank");const n=new FileReader;n.onloadend=function(){e.location.href=n.result,e=null},n.readAsDataURL(t)}}},,function(e,t,n){var a=n(1392);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1400);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1514);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1536);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1542);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},,,function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(1),s=n.n(r),i=n(4),l=n.n(i),c=n(431),d=n.n(c);const u=["small"];function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const h=e=>{const{small:t}=e,n=m(e,u);return s.a.createElement("input",p({},n,{className:l()(d.a.inputForm,e.className,{[d.a.inputSmall]:t})}))};h.propTypes={className:o.a.string,small:o.a.bool},h.defaultProps={small:!1},t.a=h},function(e,t,n){var a=n(1431);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1540);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"TextEncoder",(function(){return a})),n.d(t,"TextDecoder",(function(){return o}));const a="function"==typeof TextEncoder?TextEncoder:class{constructor(e){if(null!=e&&"utf-8"!==e&&"utf8"!==e)throw new Error("Encoding is not supported");this.encoding="utf-8"}encode(e){if("string"!=typeof e)throw new TypeError("Argument is not a string");e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}},o="function"==typeof TextDecoder?TextDecoder:class{constructor(e){if(null!=e&&"utf-8"!==e&&"utf8"!==e)throw new Error("Encoding is not supported");this.encoding="utf-8"}decode(e){const t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);let n="";for(let e=0;e<t.length;e++)n+=String.fromCharCode(t[e]);return decodeURIComponent(escape(n))}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));const a="scratch-gui/restore-deletion/RESTORE_UPDATE",o={restoreFun:null,deletedItem:""},r=function(e,t){switch(void 0===e&&(e=o),t.type){case a:return Object.assign({},e,t.state);default:return e}},s=function(e){return{type:a,state:{restoreFun:e.restoreFun,deletedItem:e.deletedItem}}}},,function(e,t,n){var a=n(1410);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1432);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1531);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},,,,,function(e,t,n){"use strict";var a=n(5),o=n.n(a),r=n(0),s=n.n(r),i=n(1),l=n.n(i);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}t.a=function(e){class t extends l.a.Component{constructor(e){super(e),o()(this,["handleChange","handleKeyPress","handleFlush"]),this.state={value:null}}handleKeyPress(e){"Enter"===e.key&&(this.handleFlush(),e.target.blur())}handleFlush(){const e="number"==typeof this.props.value,t=!e||!isNaN(this.state.value);null!==this.state.value&&t&&this.props.onSubmit(e?Number(this.state.value):this.state.value),this.setState({value:null})}handleChange(e){this.setState({value:e.target.value})}render(){const t=null===this.state.value?this.props.value:this.state.value;return l.a.createElement(e,c({},this.props,{value:t,onBlur:this.handleFlush,onChange:this.handleChange,onKeyPress:this.handleKeyPress}))}}return t.propTypes={onSubmit:s.a.func.isRequired,value:s.a.oneOfType([s.a.string,s.a.number])},t}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return u}));var a=n(17);const o={monitors:{},savedMonitorPositions:{}},r=function(e,t){return e.monitors.hasOwnProperty(t.monitorId)?(a.default.error("Can't add monitor, monitor with id ".concat(t.monitorId," already exists.")),e):(n=t.upperStart,o=t.lowerEnd,!(isNaN(n.x)||isNaN(n.y)||isNaN(o.x)||isNaN(o.y))&&n.x<o.x&&n.y<o.y?{monitors:Object.assign({},e.monitors,{[t.monitorId]:{upperStart:t.upperStart,lowerEnd:t.lowerEnd}}),savedMonitorPositions:t.savePosition?Object.assign({},e.savedMonitorPositions,{[t.monitorId]:{x:t.upperStart.x,y:t.upperStart.y}}):e.savedMonitorPositions}:(a.default.error("Monitor rectangle not formatted correctly"),e));var n,o},s=function(e,t){switch(void 0===e&&(e=o),t.type){case"scratch-gui/monitors/ADD_MONITOR_RECT":return r(e,t);case"scratch-gui/monitors/MOVE_MONITOR_RECT":return function(e,t){if(!e.monitors.hasOwnProperty(t.monitorId))return a.default.error("Can't move monitor, monitor with id ".concat(t.monitorId," does not exist.")),e;if(isNaN(t.newX)||isNaN(t.newY))return a.default.error("Monitor rectangle not formatted correctly"),e;const n=e.monitors[t.monitorId];if(n.upperStart.x===t.newX&&n.upperStart.y===t.newY)return e;const o=n.lowerEnd.x-n.upperStart.x,r=n.lowerEnd.y-n.upperStart.y;return{monitors:Object.assign({},e.monitors,{[t.monitorId]:{upperStart:{x:t.newX,y:t.newY},lowerEnd:{x:t.newX+o,y:t.newY+r}}}),savedMonitorPositions:Object.assign({},e.savedMonitorPositions,{[t.monitorId]:{x:t.newX,y:t.newY}})}}(e,t);case"scratch-gui/monitors/RESIZE_MONITOR_RECT":return function(e,t){if(!e.monitors.hasOwnProperty(t.monitorId))return a.default.error("Can't resize monitor, monitor with id ".concat(t.monitorId," does not exist.")),e;if(isNaN(t.newWidth)||isNaN(t.newHeight)||t.newWidth<=0||t.newHeight<=0)return a.default.error("Monitor rectangle not formatted correctly"),e;const n=e.monitors[t.monitorId],o={upperStart:n.upperStart,lowerEnd:{x:n.upperStart.x+t.newWidth,y:n.upperStart.y+t.newHeight}};return o.lowerEnd.x===n.lowerEnd.x&&o.lowerEnd.y===n.lowerEnd.y?e:{monitors:Object.assign({},e.monitors,{[t.monitorId]:o}),savedMonitorPositions:e.savedMonitorPositions}}(e,t);case"scratch-gui/monitors/REMOVE_MONITOR_RECT":return function(e,t){if(!e.monitors.hasOwnProperty(t.monitorId))return a.default.error("Can't remove monitor, monitor with id ".concat(t.monitorId," does not exist.")),e;const n=Object.assign({},e.monitors);return delete n[t.monitorId],{monitors:n,savedMonitorPositions:e.savedMonitorPositions}}(e,t);default:return e}},i=function(e,t,n,a){if(e.savedMonitorPositions.hasOwnProperty(t)){const o=e.savedMonitorPositions[t];return{upperStart:o,lowerEnd:{x:o.x+n,y:o.y+a}}}const o=[0],r=[0];let s=null,i=null;for(const t in e.monitors){let n=e.monitors[t].lowerEnd.x;n=50*Math.ceil(n/50),o.push(n),r.push(Math.ceil(e.monitors[t].lowerEnd.y))}o.sort((e,t)=>e-t),r.sort((e,t)=>e-t);let l=null;for(const t of o)if(t!==s){s=t;e:for(const o of r){if(o===i)continue;i=o;const r={upperStart:{x:t+5,y:o+5},lowerEnd:{x:t+5+n,y:o+5+a}},s={upperStart:{x:t,y:o},lowerEnd:{x:t+n+10,y:o+a+10}};for(const t in e.monitors)if(c=e.monitors[t],d=s,!(c.upperStart.x>=d.lowerEnd.x||d.upperStart.x>=c.lowerEnd.x||c.upperStart.y>=d.lowerEnd.y||d.upperStart.y>=c.lowerEnd.y))continue e;if(!(s.lowerEnd.x>400||s.lowerEnd.y>300))return r;l||s.upperStart.x+40>400||s.upperStart.y+40>300||(l=r)}}var c,d;if(l)return l;const u=Math.ceil(200*Math.random()),p=Math.ceil(260*Math.random());return{upperStart:{x:u,y:p},lowerEnd:{x:u+n,y:p+a}}},l=function(e,t,n,a){return{type:"scratch-gui/monitors/ADD_MONITOR_RECT",monitorId:e,upperStart:t,lowerEnd:n,savePosition:a}},c=function(e,t,n){return{type:"scratch-gui/monitors/MOVE_MONITOR_RECT",monitorId:e,newX:t,newY:n}},d=function(e,t,n){return{type:"scratch-gui/monitors/RESIZE_MONITOR_RECT",monitorId:e,newWidth:t,newHeight:n}},u=function(e){return{type:"scratch-gui/monitors/REMOVE_MONITOR_RECT",monitorId:e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i}));const a={running:!1,started:!1,turbo:!1},o=function(e,t){switch(void 0===e&&(e=a),t.type){case"scratch-gui/vm-status/SET_STARTED_STATE":return Object.assign({},e,{started:t.started});case"scratch-gui/vm-status/SET_RUNNING_STATE":return Object.assign({},e,{running:t.running});case"scratch-gui/vm-status/SET_TURBO_STATE":return Object.assign({},e,{turbo:t.turbo});default:return e}},r=function(e){return{type:"scratch-gui/vm-status/SET_STARTED_STATE",started:e}},s=function(e){return{type:"scratch-gui/vm-status/SET_RUNNING_STATE",running:e}},i=function(e){return{type:"scratch-gui/vm-status/SET_TURBO_STATE",turbo:e}}},function(e,t,n){var a=n(1509);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s}));const a={sprite:null,receivedBlocks:!1},o=function(e,t){switch(void 0===e&&(e=a),t.type){case"scratch-gui/hovered-target/SET_HOVERED_SPRITE":return{sprite:t.spriteId,receivedBlocks:!1};case"scratch-gui/hovered-target/SET_RECEIVED_BLOCKS":return{sprite:e.sprite,receivedBlocks:t.receivedBlocks};default:return e}},r=function(e){return{type:"scratch-gui/hovered-target/SET_HOVERED_SPRITE",spriteId:e,meta:{throttle:30}}},s=function(e){return{type:"scratch-gui/hovered-target/SET_RECEIVED_BLOCKS",receivedBlocks:e}}},function(e,t,n){"use strict";let a=null;const o=()=>!!a;t.a={isLoaded:o,get:()=>(o()||(a=n(921)),a)}},,,,function(e,t,n){"use strict";t.a={available:()=>!!window.showSaveFilePicker,showOpenFilePicker:async()=>{const[e]=await window.showOpenFilePicker({multiple:!1,types:[{description:"Scratch Project",accept:{"application/x.scratch.sb3":[".sb",".sb2",".sb3"]}}]});return e},showSaveFilePicker:e=>window.showSaveFilePicker({suggestedName:e,types:[{description:"Scratch 3 Project",accept:{"application/x.scratch.sb3":".sb3"}}],excludeAcceptAllOption:!0}),createWritable:e=>e.createWritable(),closeWritable:async e=>{await e.close()},writeToWritable:async(e,t)=>{await e.write(t)}}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(58),o=n.n(a),r=n(0),s=n.n(r),i=n(1),l=n.n(i),c=n(615),d=n.n(c),u=n(208),p=n.n(u);class m extends l.a.Component{constructor(e){super(e),this.setContainer=this.setContainer.bind(this)}componentDidMount(){this.container.appendChild(this.props.domElement)}componentWillUnmount(){this.container.removeChild(this.props.domElement)}setContainer(e){this.container=e}render(){return Object.assign(this.props.domElement,o()(this.props,["domElement","children","style"])),this.props.style&&(this.props.domElement.style.cssText=d.a.string(this.props.style)),l.a.createElement("div",{ref:this.setContainer})}}m.propTypes={domElement:s.a.instanceOf(Element).isRequired,style:p.a},t.a=m},function(e,t,n){"use strict";var a=n(1),o=n.n(a),r=n(0),s=n.n(r),i=n(6),l=n(38),c=n(312),d=n(416),u=n(188),p=n(73),m=n(98),h=n(185);const g=["isFullScreen","isPlayerOnly","isTelemetryEnabled","showTelemetryModal"];function f(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const b=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d;t.a=function(e,t){class a extends o.a.Component{constructor(e){super(e);let a,o={},r={},s=u.c;const i=Object(h.b)(Object.keys(m.a));if("en"!==i&&(s=Object(u.b)(s,i)),t)r={locales:u.a},o={locales:s},a=b();else{const t=n(1956),i=t.default,{guiInitialState:l,guiMiddleware:c,initFullScreen:d,initPlayer:p,initEmbedded:m,initTelemetryModal:h}=t,{ScratchPaintReducer:g}=n(419);let f=l;e.isFullScreen||e.isPlayerOnly?(e.isFullScreen&&(f=d(f)),e.isPlayerOnly&&(f=p(f))):e.showTelemetryModal&&(f=h(f)),e.isEmbedded&&(f=m(f)),r={locales:u.a,scratchGui:i,scratchPaint:g},o={locales:s,scratchGui:f},a=b(c)}const c=Object(l.c)(r);this.store=Object(l.e)((e,t)=>{const n=c(e,t);return d.a.appStateReducer(t,n),n},o,a),window.ReduxStore=this.store,d.a.appStateStore=this.store}componentDidUpdate(e){t||(e.isPlayerOnly!==this.props.isPlayerOnly&&this.store.dispatch(Object(p.d)(this.props.isPlayerOnly)),e.isFullScreen!==this.props.isFullScreen&&this.store.dispatch(Object(p.c)(this.props.isFullScreen)))}render(){const t=this.props,{isFullScreen:n,isPlayerOnly:a,isTelemetryEnabled:r,showTelemetryModal:s}=t,l=f(t,g);return o.a.createElement(i.a,{store:this.store},o.a.createElement(c.a,null,o.a.createElement(e,l)))}}return a.propTypes={isFullScreen:s.a.bool,isPlayerOnly:s.a.bool,isTelemetryEnabled:s.a.bool,showTelemetryModal:s.a.bool,isEmbedded:s.a.bool},a}},function(e,t,n){"use strict";var a=n(1),o=n.n(a),r=n(2),s=n(680),i=n.n(s),l=n(681),c=n.n(l),d=n(682),u=n.n(d),p=n(683),m=n.n(p),h=n(684),g=n.n(h),f=n(685),b=n.n(f),_=n(686),v=n.n(_),y=n(687),w=n.n(y),S=n(688),E=n.n(S),C=n(689),k=n.n(C),x=n(690),O=n.n(x),F=n(691),T=n.n(F),I=n(692),R=n.n(I),j=n(313),D=n.n(j),A=n(693),P=n.n(A),M=n(694),N=n.n(M),L=n(314),B=n.n(L),U=n(695),q=n.n(U),G=n(696),z=n.n(G),H=n(315),W=n.n(H),V=n(697),K=n.n(V),X=n(698),Q=n.n(X),Y=n(699),J=n.n(Y),Z=n(316),$=n.n(Z),ee=n(700),te=n.n(ee),ne=n(701),ae=n.n(ne),oe=n(702),re=n.n(oe),se=n(317),ie=n.n(se),le=n(703),ce=n.n(le),de=n(704),ue=n.n(de),pe=n(705),me=n.n(pe);t.a=[{name:o.a.createElement(r.a,{defaultMessage:"Music",id:"gui.extension.music.name"}),extensionId:"music",iconURL:i.a,insetIconURL:c.a,description:o.a.createElement(r.a,{defaultMessage:"Play instruments and drums.",id:"gui.extension.music.description"}),featured:!0},{name:o.a.createElement(r.a,{defaultMessage:"Pen",id:"gui.extension.pen.name"}),extensionId:"pen",iconURL:u.a,insetIconURL:m.a,description:o.a.createElement(r.a,{defaultMessage:"Draw with your sprites.",id:"gui.extension.pen.description"}),featured:!0},{name:o.a.createElement(r.a,{defaultMessage:"Video Sensing",id:"gui.extension.videosensing.name"}),extensionId:"videoSensing",iconURL:g.a,insetIconURL:b.a,description:o.a.createElement(r.a,{defaultMessage:"Sense motion with the camera.",id:"gui.extension.videosensing.description"}),featured:!0},{name:o.a.createElement(r.a,{defaultMessage:"Text to Speech",id:"gui.extension.text2speech.name"}),extensionId:"text2speech",collaborator:"Amazon Web Services",iconURL:v.a,insetIconURL:w.a,description:o.a.createElement(r.a,{defaultMessage:"Make your projects talk.",id:"gui.extension.text2speech.description"}),featured:!0,internetConnectionRequired:!0},{name:o.a.createElement(r.a,{defaultMessage:"Translate",id:"gui.extension.translate.name"}),extensionId:"translate",collaborator:"Google",iconURL:E.a,insetIconURL:k.a,description:o.a.createElement(r.a,{defaultMessage:"Translate text into many languages.",id:"gui.extension.translate.description"}),featured:!0,internetConnectionRequired:!0},{name:"Makey Makey",extensionId:"makeymakey",collaborator:"JoyLabz",iconURL:O.a,insetIconURL:T.a,description:o.a.createElement(r.a,{defaultMessage:"Make anything into a key.",id:"gui.extension.makeymakey.description"}),featured:!0},{name:"micro:bit",extensionId:"microbit",collaborator:"micro:bit",iconURL:R.a,insetIconURL:D.a,description:o.a.createElement(r.a,{defaultMessage:"Connect your projects with the world.",id:"gui.extension.microbit.description"}),featured:!0,disabled:!1,bluetoothRequired:!0,internetConnectionRequired:!0,launchPeripheralConnectionFlow:!0,useAutoScan:!1,connectionIconURL:P.a,connectionSmallIconURL:D.a,connectingMessage:o.a.createElement(r.a,{defaultMessage:"Connecting",id:"gui.extension.microbit.connectingMessage"}),helpLink:"https://scratch.mit.edu/microbit"},{name:"LEGO MINDSTORMS EV3",extensionId:"ev3",collaborator:"LEGO",iconURL:N.a,insetIconURL:B.a,description:o.a.createElement(r.a,{defaultMessage:"Build interactive robots and more.",id:"gui.extension.ev3.description"}),featured:!0,disabled:!1,bluetoothRequired:!0,internetConnectionRequired:!0,launchPeripheralConnectionFlow:!0,useAutoScan:!1,connectionIconURL:q.a,connectionSmallIconURL:B.a,connectingMessage:o.a.createElement(r.a,{defaultMessage:"Connecting. Make sure the pin on your EV3 is set to 1234.",id:"gui.extension.ev3.connectingMessage"}),helpLink:"https://scratch.mit.edu/ev3"},{name:"LEGO BOOST",extensionId:"boost",collaborator:"LEGO",iconURL:J.a,insetIconURL:$.a,description:o.a.createElement(r.a,{defaultMessage:"Bring robotic creations to life.",id:"gui.extension.boost.description"}),featured:!0,disabled:!1,bluetoothRequired:!0,internetConnectionRequired:!0,launchPeripheralConnectionFlow:!0,useAutoScan:!0,connectionIconURL:te.a,connectionSmallIconURL:$.a,connectionTipIconURL:ae.a,connectingMessage:o.a.createElement(r.a,{defaultMessage:"Connecting",id:"gui.extension.boost.connectingMessage"}),helpLink:"https://scratch.mit.edu/boost"},{name:"LEGO Education WeDo 2.0",extensionId:"wedo2",collaborator:"LEGO",iconURL:z.a,insetIconURL:W.a,description:o.a.createElement(r.a,{defaultMessage:"Build with motors and sensors.",id:"gui.extension.wedo2.description"}),featured:!0,disabled:!1,bluetoothRequired:!0,internetConnectionRequired:!0,launchPeripheralConnectionFlow:!0,useAutoScan:!0,connectionIconURL:K.a,connectionSmallIconURL:W.a,connectionTipIconURL:Q.a,connectingMessage:o.a.createElement(r.a,{defaultMessage:"Connecting",id:"gui.extension.wedo2.connectingMessage"}),helpLink:"https://scratch.mit.edu/wedo"},{name:"Go Direct Force & Acceleration",extensionId:"gdxfor",collaborator:"Vernier",iconURL:re.a,insetIconURL:ie.a,description:o.a.createElement(r.a,{defaultMessage:"Sense push, pull, motion, and spin.",id:"gui.extension.gdxfor.description"}),featured:!0,disabled:!1,bluetoothRequired:!0,internetConnectionRequired:!0,launchPeripheralConnectionFlow:!0,useAutoScan:!1,connectionIconURL:ce.a,connectionSmallIconURL:ie.a,connectingMessage:o.a.createElement(r.a,{defaultMessage:"Connecting",id:"gui.extension.gdxfor.connectingMessage"}),helpLink:"https://scratch.mit.edu/vernier"},{name:o.a.createElement(r.a,{defaultMessage:"TurboWarp Blocks",id:"tw.twExtension.name"}),extensionId:"tw",iconURL:ue.a,description:o.a.createElement(r.a,{defaultMessage:"Weird new blocks. Not compatible with Scratch.",id:"tw.twExtension.description"}),featured:!0},{name:o.a.createElement(r.a,{defaultMessage:"Custom Extension",id:"tw.customExtension.name"}),extensionId:"",iconURL:me.a,description:o.a.createElement(r.a,{defaultMessage:"Load custom extensions from URLs. For developers. Experimental.",id:"tw.customExtension.description"}),featured:!0}]},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(1),o=n.n(a),r=n(0),s=n.n(r),i=n(6),l=n(5),c=n.n(l),d=n(12),u=n.n(d),p=n(17),m=n(2),h=n(26),g=n(11),f=n(73),b=n(327),_=n(79);const v=["intl","isFullScreen","isPlayerOnly","isEmbedded","projectChanged","compilerOptions","runtimeOptions","highQualityPen","framerate","interpolation","turbo","onSetIsFullScreen","onSetIsPlayerOnly","onSetProjectId","onSetUsername","reduxProjectId","routingStyle","username","vm"];function y(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const w=Object(m.d)({invalidFPS:{id:"tw.invalidParameters.fps",defaultMessage:'"fps" URL parameter is invalid'},invalidClones:{id:"tw.invalidParameters.clones",defaultMessage:'"clone" URL parameter is invalid'}}),S=()=>{const e=location.hash.match(/#(\d+)/);return null===e?null:e[1]};class E{constructor({onSetProjectId:e,onSetIsPlayerOnly:t,onSetIsFullScreen:n}){this.onSetProjectId=e,this.onSetIsPlayerOnly=t,this.onSetIsFullScreen=n}onhashchange(){}onpathchange(){}generateURL(){return""}}class C extends E{onhashchange(){this.onSetProjectId(S()||g.e)}generateURL({projectId:e}){return"".concat(location.pathname).concat(location.search,"#").concat(e)}}const k={none:E,hash:C,filehash:class extends C{constructor(e){super(e),this.playerPath=location.pathname.substring(0,location.pathname.lastIndexOf("/")+1),this.editorPath="".concat(this.playerPath,"editor.html"),this.fullscreenPath="".concat(this.playerPath,"fullscreen.html")}onpathchange(){const e=location.pathname;e===this.playerPath?(this.onSetIsPlayerOnly(!0),this.onSetIsFullScreen(!1)):e===this.editorPath?(this.onSetIsPlayerOnly(!1),this.onSetIsFullScreen(!1)):e===this.fullscreenPath&&this.onSetIsFullScreen(!0)}generateURL({projectId:e,isPlayerOnly:t,isFullScreen:n}){let a="",o="";return"0"!==e&&(o="#".concat(e)),a=n?this.fullscreenPath:t?this.playerPath:this.editorPath,"".concat(a).concat(location.search).concat(o)}},wildcard:class extends E{constructor(e){super(e),this.root=""}onhashchange(){const e=S();if(e){this.onSetProjectId(e)&&history.replaceState(null,null,"".concat(location.pathname).concat(location.search))}else this.parseURL(!1)}onpathchange(){this.parseURL(!0)}parseURL(e){const t=location.pathname.substr(this.root.length).split("/"),n=e=>{e?this.onSetProjectId(e):this.onSetProjectId(g.e)},a=t=>{e&&("fullscreen"===t?this.onSetIsFullScreen(!0):"editor"===t?(this.onSetIsPlayerOnly(!1),this.onSetIsFullScreen(!1)):(this.onSetIsPlayerOnly(!0),this.onSetIsFullScreen(!1)))};+t[0]&&Number.isFinite(+t[0])?(n(t[0]),a(t[1])):(this.onSetProjectId(g.e),a(t[0]))}generateURL({projectId:e,isPlayerOnly:t,isFullScreen:n}){const a=[];"0"!==e&&a.push(e),n?a.push("fullscreen"):t||a.push("editor");const o="".concat(this.root).concat(a.join("/")),r="".concat(location.origin).concat(this.root).concat("0"===e?"":e);return(()=>{let e=document.querySelector("link[rel=canonical]");return e||(e=document.createElement("link"),e.rel="canonical",document.head.appendChild(e)),e})().href=r,"".concat(o).concat(location.search).concat(location.hash)}}},x=function(e){class t extends o.a.Component{constructor(e){super(e),c()(this,["handleHashChange","handlePopState","onSetProjectId","onSetIsPlayerOnly","onSetIsFullScreen"])}componentDidMount(){const e=new URLSearchParams(location.search);if(e.has("fps")){const t=+e.get("fps");Number.isNaN(t)||t<0?alert(this.props.intl.formatMessage(w.invalidFPS)):this.props.vm.setFramerate(t)}else e.has("60fps")&&this.props.vm.setFramerate(60);if(e.has("interpolate")&&this.props.vm.setInterpolation(!0),e.has("username")){const t=e.get("username");this.doNotPersistUsername=t,this.props.onSetUsername(t)}else{const e=this.props.isEmbedded?null:(e=>{try{return localStorage.getItem(e)}catch(e){}return null})("tw:username");if(null===e){const e=Object(b.a)();this.props.onSetUsername(e),this.props.isEmbedded&&(this.doNotPersistUsername=e)}else this.props.onSetUsername(e)}if(e.has("hqpen")&&this.props.vm.renderer.setUseHighQualityRender(!0),e.has("turbo")&&this.props.vm.setTurboMode(!0),(e.has("stuck")||e.has("warp_timer"))&&this.props.vm.setCompilerOptions({warpTimer:!0}),e.has("nocompile")&&this.props.vm.setCompilerOptions({enabled:!1}),e.has("clones")){const t=+e.get("clones");Number.isNaN(t)||t<0?alert(this.props.intl.formatMessage(w.invalidClones)):this.props.vm.setRuntimeOptions({maxClones:t})}e.has("offscreen")&&this.props.vm.setRuntimeOptions({fencing:!1}),e.has("limitless")&&this.props.vm.setRuntimeOptions({miscLimits:!1});for(const t of e.getAll("extension"))confirm("Load extension: ".concat(t))&&this.props.vm.extensionManager.loadExtensionURL(t);const t={onSetProjectId:this.onSetProjectId,onSetIsPlayerOnly:this.onSetIsPlayerOnly,onSetIsFullScreen:this.onSetIsFullScreen};this.router=((e,t)=>{const n=["none","hash"];if(("http:"===location.protocol||"https:"===location.protocol)&&n.push("filehash"),n.includes(e)||(p.default.warn("routing style is unknown or not supported: ".concat(e,", falling back to hash")),e="hash"),k.hasOwnProperty(e))return new k[e](t);throw new Error("unknown router: ".concat(e))})(this.props.routingStyle,t),this.router.onhashchange(),window.addEventListener("hashchange",this.handleHashChange),window.addEventListener("popstate",this.handlePopState)}componentDidUpdate(e){if(this.props.username!==e.username&&this.props.username!==this.doNotPersistUsername&&((e,t)=>{try{localStorage.setItem(e,t)}catch(e){}})("tw:username",this.props.username),this.props.reduxProjectId!==e.reduxProjectId||this.props.isPlayerOnly!==e.isPlayerOnly||this.props.isFullScreen!==e.isFullScreen){const e="".concat(location.pathname).concat(location.search).concat(location.hash),t={projectId:this.props.reduxProjectId,isPlayerOnly:this.props.isPlayerOnly,isFullScreen:this.props.isFullScreen},n=this.router.generateURL(t);n&&n!==e&&history.pushState(null,null,n)}if(this.props.runtimeOptions!==e.runtimeOptions||this.props.compilerOptions!==e.compilerOptions||this.props.highQualityPen!==e.highQualityPen||this.props.framerate!==e.framerate||this.props.interpolation!==e.interpolation||this.props.turbo!==e.turbo){const e=new URLSearchParams(location.search),t=this.props.runtimeOptions,n=this.props.compilerOptions;e.delete("60fps"),30===this.props.framerate?e.delete("fps"):e.set("fps",this.props.framerate),this.props.interpolation?e.set("interpolate",""):e.delete("interpolate"),this.props.turbo?e.set("turbo",""):e.delete("turbo"),this.props.highQualityPen?e.set("hqpen",""):e.delete("hqpen"),n.enabled&&e.delete("nocompile"),this.props.isPlayerOnly&&(n.warpTimer?e.set("stuck",""):e.delete("stuck")),300===t.maxClones?e.delete("clones"):e.set("clones",t.maxClones),t.fencing?e.delete("offscreen"):e.set("offscreen",""),t.miscLimits?e.delete("limitless"):e.set("limitless",""),Object(_.c)(e)}}componentWillUnmount(){window.removeEventListener("hashchange",this.handleHashChange),window.removeEventListener("popstate",this.handlePopState)}handleHashChange(){this.router.onhashchange()}handlePopState(){this.router.onpathchange()}onSetProjectId(e){return"".concat(e)==="".concat(this.props.reduxProjectId)||!(this.props.projectChanged&&!confirm("Are you sure you want to switch project?"))&&(this.props.onSetProjectId(e),!0)}onSetIsPlayerOnly(e){this.props.onSetIsPlayerOnly(e)}onSetIsFullScreen(e){this.props.onSetIsFullScreen(e)}render(){const t=this.props,{intl:n,isFullScreen:a,isPlayerOnly:r,isEmbedded:s,projectChanged:i,compilerOptions:l,runtimeOptions:c,highQualityPen:d,framerate:u,interpolation:p,turbo:m,onSetIsFullScreen:h,onSetIsPlayerOnly:g,onSetProjectId:f,onSetUsername:b,reduxProjectId:_,routingStyle:w,username:S,vm:E}=t,C=y(t,v);return o.a.createElement(e,C)}}t.propTypes={intl:m.f,isFullScreen:s.a.bool,isPlayerOnly:s.a.bool,isEmbedded:s.a.bool,projectChanged:s.a.bool,projectId:s.a.string,compilerOptions:s.a.shape({}),runtimeOptions:s.a.shape({}),highQualityPen:s.a.bool,framerate:s.a.number,interpolation:s.a.bool,turbo:s.a.bool,onSetIsFullScreen:s.a.func,onSetIsPlayerOnly:s.a.func,onSetProjectId:s.a.func,onSetUsername:s.a.func,reduxProjectId:s.a.oneOfType([s.a.string,s.a.number]),routingStyle:s.a.oneOf(Object.keys(k)),username:s.a.string,vm:s.a.instanceOf(u.a)},t.defaultProps={routingStyle:"filehash"};return Object(m.e)(Object(i.b)(e=>({isFullScreen:e.scratchGui.mode.isFullScreen,isPlayerOnly:e.scratchGui.mode.isPlayerOnly,isEmbedded:e.scratchGui.mode.isEmbedded,projectChanged:e.scratchGui.projectChanged,reduxProjectId:e.scratchGui.projectState.projectId,compilerOptions:e.scratchGui.tw.compilerOptions,runtimeOptions:e.scratchGui.tw.runtimeOptions,highQualityPen:e.scratchGui.tw.highQualityPen,framerate:e.scratchGui.tw.framerate,interpolation:e.scratchGui.tw.interpolation,turbo:e.scratchGui.vmStatus.turbo,username:e.scratchGui.tw.username,vm:e.scratchGui.vm}),e=>({onSetIsFullScreen:t=>e(Object(f.c)(t)),onSetIsPlayerOnly:t=>e(Object(f.d)(t)),onSetProjectId:t=>e(Object(g.E)(t)),onSetUsername:t=>e(Object(h.p)(t))}))(t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(5),o=n.n(a),r=n(1),s=n.n(r),i=n(0),l=n.n(i),c=n(2),d=n(6),u=n(17),p=n(84),m=n(136),h=n(26),g=n(11),f=n(66),b=n(19),_=n(34);const v=["cancelFileUpload","closeFileMenu","isLoadingUpload","isShowingWithoutId","loadingState","onLoadingFinished","onLoadingStarted","onSetFileHandle","onSetProjectTitle","projectChanged","requestProjectUpload","userOwnsProject"];function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const S=Object(c.d)({loadError:{id:"gui.projectLoader.loadError",defaultMessage:"The project file that was selected failed to load."}}),E=function(e){class t extends s.a.Component{constructor(e){super(e),o()(this,["createFileObjects","getProjectTitleFromFilename","handleFinishedLoadingUpload","handleStartSelectingFileUpload","handleChange","onload","removeFileObjects"]),this.expectingFileUploadFinish=!1}componentDidUpdate(e){this.props.isLoadingUpload&&!e.isLoadingUpload&&this.expectingFileUploadFinish&&this.handleFinishedLoadingUpload()}componentWillUnmount(){this.removeFileObjects()}handleStartSelectingFileUpload(){this.expectingFileUploadFinish=!0,this.createFileObjects()}createFileObjects(){this.removeFileObjects(),this.fileReader=new FileReader,this.fileReader.onload=this.onload,m.a.available()?(async()=>{try{const e=await m.a.showOpenFilePicker(),t=await e.getFile();this.handleChange({target:{files:[t]}}),t.name.endsWith(".sb3")?this.props.onSetFileHandle(e):this.props.onSetFileHandle(null)}catch(e){if(e&&"AbortError"===e.name)return;console.error(e)}})():(this.inputElement=document.createElement("input"),this.inputElement.accept=".sb,.sb2,.sb3",this.inputElement.style="display: none;",this.inputElement.type="file",this.inputElement.onchange=this.handleChange,document.body.appendChild(this.inputElement),this.inputElement.click())}handleChange(e){const{intl:t,isShowingWithoutId:n,loadingState:a,projectChanged:o,userOwnsProject:r}=this.props,s=e.target;if(s.files){this.fileToUpload=s.files[0];let e=!0;(r||o&&n)&&(e=confirm(t.formatMessage(p.a.replaceProjectWarning))),e?this.props.requestProjectUpload(a):this.removeFileObjects(),this.props.closeFileMenu()}}handleFinishedLoadingUpload(){this.expectingFileUploadFinish=!1,this.fileToUpload&&this.fileReader?this.fileReader.readAsArrayBuffer(this.fileToUpload):(this.props.cancelFileUpload(this.props.loadingState),this.removeFileObjects())}getProjectTitleFromFilename(e){if(!e)return"";const t=e.match(/^(.*)\.sb[23]?$/);return t?t[1].substring(0,100):""}onload(){if(this.fileReader){this.props.onLoadingStarted();const e=this.fileToUpload&&this.fileToUpload.name;let t=!1;this.props.vm.stop(),this.props.vm.loadProject(this.fileReader.result).then(()=>{if(e){const t=this.getProjectTitleFromFilename(e);this.props.onSetProjectTitle(t)}this.props.vm.renderer.draw(),t=!0}).catch(e=>{u.default.warn(e),alert(this.props.intl.formatMessage(S.loadError))}).then(()=>{this.props.onLoadingFinished(this.props.loadingState,t),this.removeFileObjects()})}}removeFileObjects(){this.inputElement&&(this.inputElement.value=null,document.body.removeChild(this.inputElement)),this.inputElement=null,this.fileReader=null,this.fileToUpload=null}render(){const t=this.props,{cancelFileUpload:n,closeFileMenu:a,isLoadingUpload:o,isShowingWithoutId:r,loadingState:i,onLoadingFinished:l,onLoadingStarted:c,onSetFileHandle:d,onSetProjectTitle:u,projectChanged:p,requestProjectUpload:m,userOwnsProject:h}=t,g=w(t,v);return s.a.createElement(s.a.Fragment,null,s.a.createElement(e,y({onStartSelectingFileUpload:this.handleStartSelectingFileUpload},g)))}}t.propTypes={canSave:l.a.bool,cancelFileUpload:l.a.func,closeFileMenu:l.a.func,intl:c.f.isRequired,isLoadingUpload:l.a.bool,isShowingWithoutId:l.a.bool,loadingState:l.a.oneOf(g.a),onLoadingFinished:l.a.func,onLoadingStarted:l.a.func,onSetProjectTitle:l.a.func,projectChanged:l.a.bool,requestProjectUpload:l.a.func,userOwnsProject:l.a.bool,vm:l.a.shape({loadProject:l.a.func,stop:l.a.func}),onSetFileHandle:l.a.func};return Object(c.e)(Object(d.b)((e,t)=>{const n=e.scratchGui.projectState.loadingState,a=e.session&&e.session.session&&e.session.session.user;return{isLoadingUpload:Object(g.n)(n),isShowingWithoutId:Object(g.t)(n),loadingState:n,projectChanged:e.scratchGui.projectChanged,userOwnsProject:t.authorUsername&&a&&t.authorUsername===a.username,vm:e.scratchGui.vm}},(e,t)=>({cancelFileUpload:t=>e(Object(g.x)(t,!1,!1)),closeFileMenu:()=>e(Object(_.g)()),onLoadingFinished:(n,a)=>{e(Object(g.x)(n,t.canSave,a)),e(Object(b.e)()),e(Object(_.g)())},onLoadingStarted:()=>e(Object(b.s)()),onSetProjectTitle:t=>e(Object(f.c)(t)),requestProjectUpload:t=>e(Object(g.C)(t)),onSetFileHandle:t=>e(Object(h.i)(t))}),(e,t,n)=>Object.assign({},e,t,n))(t))}},,function(e,t,n){e.exports=n.p+"static/assets/e587d9d7e9a2f1f28041ba5c15db7a40.svg"},function(e,t,n){e.exports=n.p+"static/assets/301439e2e5ab88b658368ee525e6752b.svg"},function(e,t,n){e.exports=n.p+"static/assets/551aae506dfa65ce3b45713b5300a678.svg"},function(e,t,n){"use strict";var a=n(5),o=n.n(a),r=n(0),s=n.n(r),i=n(1),l=n.n(i),c=n(6),d=n(66),u=n(97),p=n(92),m=n(27),h=n(26),g=n(136),f=n(17);class b extends l.a.Component{constructor(e){super(e),o()(this,["downloadProject","saveAsNew","saveToLastFile","saveToLastFileOrNew"])}startedSaving(){this.props.onShowSavingAlert()}finishedSaving(){this.props.onProjectUnchanged(),this.props.onShowSaveSuccessAlert(),this.props.onSaveFinished&&this.props.onSaveFinished()}downloadProject(){this.startedSaving(),this.props.saveProjectSb3().then(e=>{this.finishedSaving(),Object(u.a)(this.props.projectFilename,e)})}async saveAsNew(){try{const e=await g.a.showSaveFilePicker(this.props.projectFilename);await this.saveToHandle(e),this.props.onSetFileHandle(e);const t=(e=>{if(!e)return"";const t=e.match(/^(.*)\.sb[23]?$/);return t?t[1].substring(0,100):""})(e.name);t&&this.props.onSetProjectTitle(t)}catch(e){this.handleSaveError(e)}}async saveToLastFile(){try{await this.saveToHandle(this.props.fileHandle)}catch(e){this.handleSaveError(e)}}saveToLastFileOrNew(){return this.props.fileHandle?this.saveToLastFile():this.saveAsNew()}async saveToHandle(e){const t=await g.a.createWritable(e);try{this.startedSaving();const e=await this.props.saveProjectSb3();await g.a.writeToWritable(t,e),this.finishedSaving()}finally{await g.a.closeWritable(t)}}handleSaveError(e){e&&"AbortError"===e.name||(f.default.error(e),this.props.onShowSaveErrorAlert())}render(){const{children:e}=this.props;return e(this.props.className,this.downloadProject,g.a.available()?{available:!0,name:this.props.fileHandle?this.props.fileHandle.name:null,saveAsNew:this.saveAsNew,saveToLastFile:this.saveToLastFile,saveToLastFileOrNew:this.saveToLastFileOrNew,smartSave:this.saveToLastFileOrNew}:{available:!1,smartSave:this.downloadProject})}}const _=(e,t)=>{let n=e;return n&&0!==n.length||(n=t),"".concat(n.substring(0,100),".sb3")};b.propTypes={children:s.a.func,className:s.a.string,fileHandle:s.a.shape({name:s.a.string}),onSaveFinished:s.a.func,projectFilename:s.a.string,saveProjectSb3:s.a.func,onSetFileHandle:s.a.func,onSetProjectTitle:s.a.func,onShowSavingAlert:s.a.func,onShowSaveSuccessAlert:s.a.func,onShowSaveErrorAlert:s.a.func,onProjectUnchanged:s.a.func},b.defaultProps={className:""};t.a=Object(c.b)(e=>({fileHandle:e.scratchGui.tw.fileHandle,saveProjectSb3:e.scratchGui.vm.saveProjectSb3.bind(e.scratchGui.vm),projectFilename:_(e.scratchGui.projectTitle,d.b)}),e=>({onSetFileHandle:t=>e(Object(h.i)(t)),onSetProjectTitle:t=>e(Object(d.c)(t)),onShowSavingAlert:()=>Object(m.g)(e,"saving"),onShowSaveSuccessAlert:()=>Object(m.g)(e,"twSaveToDiskSuccess"),onShowSaveErrorAlert:()=>e(Object(m.i)("savingError")),onProjectUnchanged:()=>e(Object(p.d)())}))(b)},function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(1),s=n.n(r),i=n(64),l=n.n(i),c=n(7),d=n(2),u=n(74),p=n(287),m=n.n(p),h=n(839),g=n.n(h);const f=["intl"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const w=Object(d.d)({label:{id:"gui.unsupportedBrowser.label",defaultMessage:"Browser is not supported"}}),S=e=>{let{intl:t}=e,n=y(e,f);const a=w.label;return s.a.createElement(l.a,{isOpen:!0,className:m.a.modalContent,contentLabel:t.formatMessage(_({},w.label)),overlayClassName:m.a.modalOverlay,onRequestClose:n.onBack},s.a.createElement("div",{dir:n.isRtl?"rtl":"ltr"},s.a.createElement(c.a,{className:m.a.illustration},s.a.createElement("img",{src:g.a})),s.a.createElement(c.a,{className:m.a.body},s.a.createElement("h2",null,s.a.createElement(d.a,a)),Object(u.c)()?null:s.a.createElement("p",null,s.a.createElement(d.a,{defaultMessage:"A browser extension is interfering with TurboWarp's ability to compile scripts. Try turning off your adblocker and refreshing. This site does not contain advertisements.",id:"tw.browserModal.eval"})),Object(u.a)()?null:s.a.createElement("p",null,s.a.createElement(d.a,{defaultMessage:'This browser does not support features that this app requires. If you\'re using a "privacy" browser, try switching to a normal browser.',id:"tw.browserModal.audio"})),s.a.createElement("p",null,s.a.createElement(d.a,{defaultMessage:"Make sure you're using a recent version of Google Chrome, Mozilla Firefox, Microsoft Edge, or Apple Safari.",id:"tw.browserModal.desc"})))))};S.propTypes={intl:d.f.isRequired,isRtl:o.a.bool,onBack:o.a.func.isRequired};const E=Object(d.e)(S);E.setAppElement=l.a.setAppElement,t.a=E},function(e,t,n){"use strict";var a=n(1),o=n.n(a),r=n(0),s=n.n(r),i=n(38),l=n(6),c=n(64),d=n.n(c),u=n(12),p=n.n(u),m=n(2),h=n(80),g=n(11),f=n(39),b=n(19),_=n(58),v=n.n(_),y=n(275),w=n(268);var S=n(312);const E=["locale","onSetLanguage"];function C(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var k=function(e){class t extends o.a.Component{componentDidUpdate(e){e.locale!==this.props.locale&&this.props.onSetLanguage(this.props.locale)}render(){const t=this.props,{locale:n,onSetLanguage:a}=t,r=C(t,E);return o.a.createElement(S.a,null,o.a.createElement(e,r))}}t.propTypes={locale:s.a.string,onSetLanguage:s.a.func},t.defaultProps={onSetLanguage:()=>{}};return Object(l.b)(e=>({locale:e.locales.locale}),()=>({}))(t)},x=n(158),O=n(5),F=n.n(O),T=n(92),I=n(17),R=n(29),j=n(345);let D=0,A=0,P=0,M=0,N=(e,t,n,a)=>{};const L=e=>{N=e,N(P,M,A,D)};let B=null;const U=()=>{N(P,M,A,D),B=null},q=e=>{e<0&&(e=0),e>1&&(e=1),M=e,null===B&&(B=requestAnimationFrame(U))},G=e=>{P!==e&&(P=e,A=0,D=0,q(0))},z=e=>(G(1),new Promise((t,n)=>{const a=new XMLHttpRequest;a.responseType="blob",a.onload=()=>{t(new Response(a.response,{status:a.status,statusText:a.statusText}))},a.onloadend=()=>q(1),a.onerror=()=>n(new Error("[tw-progress-monitor] xhr failed")),a.onprogress=e=>{e.lengthComputable&&q(e.loaded/e.total)},a.open("GET",e),a.send()})),H=window.fetch;window.fetch=(e,t)=>{const n="object"==typeof t&&t&&"GET"===t.method,a="string"==typeof e&&/^https:\/\/projects\.scratch\.mit\.edu\/\d+$/.test(e);return n&&a?z(e):H(e,t)};const W=e=>{const t=e.data;Array.isArray(t)&&(A+=t.length,q(A/D))};if(window.Worker){let e=null;const t=window.Worker.prototype.postMessage;window.Worker.prototype.postMessage=function(n){null===e&&n&&n.url&&n.id&&n.options&&(e=this,e.addEventListener("message",W)),e===this&&(G(2),D++),t.call(this,n)}}const V=["assetHost","intl","isLoadingProject","loadingState","onActivateTab","onError","onFetchedProjectData","onProjectUnchanged","projectHost","projectId","reduxProjectId","setProjectId","isFetchingWithId"];function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function X(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Q=n(66);const Y=["intl","isAnyCreatingNewState","isShowingWithoutId","onChangedProjectTitle","onUpdateProjectTitle","projectTitle","reduxProjectTitle"];function J(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Z=Object(m.d)({defaultProjectTitle:{id:"tw.gui.defaultProjectTitle",defaultMessage:"Project"}});var $=n(329),ee=n(537),te=n(130),ne=n.n(te),ae=n(190),oe=n.n(ae),re=function(e,t,n){const a={body:t,headers:{"Content-Type":"application/json"},withCredentials:!0},o=null==e,r={};n.hasOwnProperty("originalId")&&(r.original_id=n.originalId),n.hasOwnProperty("isCopy")&&(r.is_copy=n.isCopy),n.hasOwnProperty("isRemix")&&(r.is_remix=n.isRemix),n.hasOwnProperty("title")&&(r.title=n.title);let s=ne.a.stringify(r);return s&&(s="?".concat(s)),o?Object.assign(a,{method:"post",url:"".concat(R.a.projectHost,"/").concat(s)}):Object.assign(a,{method:"put",url:"".concat(R.a.projectHost,"/").concat(e).concat(s)}),new Promise((t,n)=>{oe()(a,(a,r)=>{if(a)return n(a);if(200!==r.statusCode)return n(r.statusCode);let s;try{s=JSON.parse(r.body)}catch(e){return n(e)}s.id=e,o&&(s.id=s["content-name"]),t(s)})})},se=n(27),ie=n(276);const le=["autoSaveTimeoutId","autoSaveIntervalSecs","isCreatingCopy","isCreatingNew","projectChanged","isAnyCreatingNewState","isLoading","isManualUpdating","isRemixing","isShowingSaveable","isShowingWithId","isShowingWithoutId","isUpdating","loadingState","onAutoUpdateProject","onCreatedProject","onCreateProject","onProjectError","onRemixing","onSetProjectUnchanged","onSetProjectThumbnailer","onSetProjectSaver","onShowAlert","onShowCopySuccessAlert","onShowRemixSuccessAlert","onShowCreatingCopyAlert","onShowCreatingRemixAlert","onShowSaveSuccessAlert","onShowSavingAlert","onUpdatedProject","onUpdateProjectData","onUpdateProjectThumbnail","reduxProjectId","reduxProjectTitle","setAutoSaveTimeoutId"];function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function de(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ue=n(81),pe=n(83);var me=n(75);var he=n(187),ge=n(272),fe=n(274),be=n(126),_e=n(273),ve=n(26);const ye=["attachKeyboardEvents","projectChanged","shouldUpdateTargets","shouldUpdateProjectChanged","onBlockDragUpdate","onGreenFlag","onKeyDown","onKeyUp","onMicListeningUpdate","onMonitorsUpdate","onTargetsUpdate","onProjectChanged","onProjectRunStart","onProjectRunStop","onProjectSaved","onRuntimeStarted","onRuntimeStopped","onTurboModeOff","onTurboModeOn","hasCloudVariables","onHasCloudVariablesChanged","onFramerateChanged","onInterpolationChanged","onCompilerOptionsChanged","onRuntimeOptionsChanged","onCompileError","onClearCompileErrors","onShowExtensionAlert"];function we(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}let Se=0,Ee=!1;var Ce=function(e){class t extends o.a.Component{constructor(e){super(e),F()(this,["handleKeyDown","handleKeyUp","handleProjectChanged","handleTargetsUpdate","handleCloudDataUpdate","handleCompileError"]),this.props.vm.on("targetsUpdate",this.handleTargetsUpdate),this.props.vm.on("MONITORS_UPDATE",this.props.onMonitorsUpdate),this.props.vm.on("BLOCK_DRAG_UPDATE",this.props.onBlockDragUpdate),this.props.vm.on("TURBO_MODE_ON",this.props.onTurboModeOn),this.props.vm.on("TURBO_MODE_OFF",this.props.onTurboModeOff),this.props.vm.on("PROJECT_RUN_START",this.props.onProjectRunStart),this.props.vm.on("PROJECT_RUN_STOP",this.props.onProjectRunStop),this.props.vm.on("PROJECT_CHANGED",this.handleProjectChanged),this.props.vm.on("RUNTIME_STARTED",this.props.onRuntimeStarted),this.props.vm.on("RUNTIME_STOPPED",this.props.onRuntimeStopped),this.props.vm.on("PROJECT_START",this.props.onGreenFlag),this.props.vm.on("PERIPHERAL_CONNECTION_LOST_ERROR",this.props.onShowExtensionAlert),this.props.vm.on("MIC_LISTENING",this.props.onMicListeningUpdate),this.props.vm.on("MIC_LISTENING",this.props.onMicListeningUpdate),this.props.vm.on("HAS_CLOUD_DATA_UPDATE",this.handleCloudDataUpdate),this.props.vm.on("COMPILER_OPTIONS_CHANGED",this.props.onCompilerOptionsChanged),this.props.vm.on("RUNTIME_OPTIONS_CHANGED",this.props.onRuntimeOptionsChanged),this.props.vm.on("FRAMERATE_CHANGED",this.props.onFramerateChanged),this.props.vm.on("INTERPOLATION_CHANGED",this.props.onInterpolationChanged),this.props.vm.on("COMPILE_ERROR",this.handleCompileError),this.props.vm.on("RUNTIME_STARTED",this.props.onClearCompileErrors)}componentDidMount(){this.props.attachKeyboardEvents&&(document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)),this.props.vm.postIOData("userData",{username:this.props.username})}componentDidUpdate(e){e.username!==this.props.username&&this.props.vm.postIOData("userData",{username:this.props.username}),this.props.shouldUpdateTargets&&!e.shouldUpdateTargets&&this.props.vm.emitTargetsUpdate(!1)}componentWillUnmount(){this.props.vm.removeListener("PERIPHERAL_CONNECTION_LOST_ERROR",this.props.onShowExtensionAlert),this.props.attachKeyboardEvents&&(document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp))}handleCloudDataUpdate(e){this.props.hasCloudVariables!==e&&this.props.onHasCloudVariablesChanged(e)}handleCompileError(e,t){const n="".concat(t);n.includes("edge-activated hat")||n.includes("Script explicitly disables compilation")||(Ee||(Ee=!0,pe.a.twEvent("Compile Error")),this.props.onCompileError({sprite:e.getName(),error:n,id:Se++}))}handleProjectChanged(){this.props.shouldUpdateProjectChanged&&!this.props.projectChanged&&this.props.onProjectChanged()}handleTargetsUpdate(e){this.props.shouldUpdateTargets&&this.props.onTargetsUpdate(e)}handleKeyDown(e){if(e.target!==document&&e.target!==document.body)return;const t=e.key&&"Dead"!==e.key?e.key:e.keyCode;this.props.vm.postIOData("keyboard",{key:t,keyCode:e.keyCode,isDown:!0}),(32===e.keyCode||e.keyCode>=37&&e.keyCode<=40)&&e.preventDefault(),8===e.keyCode&&e.preventDefault(),222!==e.keyCode&&191!==e.keyCode||e.preventDefault()}handleKeyUp(e){const t=e.key&&"Dead"!==e.key?e.key:e.keyCode;this.props.vm.postIOData("keyboard",{key:t,keyCode:e.keyCode,isDown:!1}),e.target!==document&&e.target!==document.body&&e.preventDefault()}render(){const t=this.props,{attachKeyboardEvents:n,projectChanged:a,shouldUpdateTargets:r,shouldUpdateProjectChanged:s,onBlockDragUpdate:i,onGreenFlag:l,onKeyDown:c,onKeyUp:d,onMicListeningUpdate:u,onMonitorsUpdate:p,onTargetsUpdate:m,onProjectChanged:h,onProjectRunStart:g,onProjectRunStop:f,onProjectSaved:b,onRuntimeStarted:_,onRuntimeStopped:v,onTurboModeOff:y,onTurboModeOn:w,hasCloudVariables:S,onHasCloudVariablesChanged:E,onFramerateChanged:C,onInterpolationChanged:k,onCompilerOptionsChanged:x,onRuntimeOptionsChanged:O,onCompileError:F,onClearCompileErrors:T,onShowExtensionAlert:I}=t,R=we(t,ye);return o.a.createElement(e,R)}}t.propTypes={attachKeyboardEvents:s.a.bool,onBlockDragUpdate:s.a.func.isRequired,onGreenFlag:s.a.func,onKeyDown:s.a.func,onKeyUp:s.a.func,onMicListeningUpdate:s.a.func.isRequired,onMonitorsUpdate:s.a.func.isRequired,onProjectChanged:s.a.func.isRequired,onProjectRunStart:s.a.func.isRequired,onProjectRunStop:s.a.func.isRequired,onProjectSaved:s.a.func.isRequired,onRuntimeStarted:s.a.func.isRequired,onRuntimeStopped:s.a.func.isRequired,onShowExtensionAlert:s.a.func.isRequired,onTargetsUpdate:s.a.func.isRequired,onTurboModeOff:s.a.func.isRequired,onTurboModeOn:s.a.func.isRequired,hasCloudVariables:s.a.bool,onHasCloudVariablesChanged:s.a.func.isRequired,onFramerateChanged:s.a.func.isRequired,onInterpolationChanged:s.a.func.isRequired,onCompilerOptionsChanged:s.a.func.isRequired,onRuntimeOptionsChanged:s.a.func.isRequired,onCompileError:s.a.func,onClearCompileErrors:s.a.func,projectChanged:s.a.bool,shouldUpdateTargets:s.a.bool,shouldUpdateProjectChanged:s.a.bool,username:s.a.string,vm:s.a.instanceOf(p.a).isRequired},t.defaultProps={attachKeyboardEvents:!0,onGreenFlag:()=>({})};return Object(l.b)(e=>({hasCloudVariables:e.scratchGui.tw.hasCloudVariables,projectChanged:e.scratchGui.projectChanged,shouldUpdateTargets:!e.scratchGui.mode.isFullScreen&&!e.scratchGui.mode.isPlayerOnly&&!e.scratchGui.modals.soundRecorder,shouldUpdateProjectChanged:!e.scratchGui.mode.isFullScreen&&!e.scratchGui.mode.isPlayerOnly,vm:e.scratchGui.vm,username:e.session&&e.session.session&&e.session.session.user?e.session.session.user.username:e.scratchGui.tw?e.scratchGui.tw.username:""}),e=>({onTargetsUpdate:t=>{e(Object(he.d)(t.targetList,t.editingTarget))},onMonitorsUpdate:t=>{e(Object(fe.c)(t))},onBlockDragUpdate:t=>{e(Object(ge.c)(t))},onProjectRunStart:()=>e(Object(be.b)(!0)),onProjectRunStop:()=>e(Object(be.b)(!1)),onProjectChanged:()=>e(Object(T.c)()),onProjectSaved:()=>e(Object(T.d)()),onRuntimeStarted:()=>e(Object(be.c)(!0)),onRuntimeStopped:()=>e(Object(be.c)(!1)),onTurboModeOn:()=>e(Object(be.d)(!0)),onTurboModeOff:()=>e(Object(be.d)(!1)),onHasCloudVariablesChanged:t=>e(Object(ve.k)(t)),onFramerateChanged:t=>e(Object(ve.j)(t)),onInterpolationChanged:t=>e(Object(ve.m)(t)),onCompilerOptionsChanged:t=>e(Object(ve.f)(t)),onRuntimeOptionsChanged:t=>e(Object(ve.o)(t)),onCompileError:t=>e(Object(ve.a)(t)),onClearCompileErrors:()=>e(Object(ve.b)()),onShowExtensionAlert:t=>{e(Object(se.h)(t))},onMicListeningUpdate:t=>{e(Object(_e.c)(t))}}))(t)},ke=n(330),xe=n.n(ke);const Oe=["fontsLoaded","loadingState","locale","messages","isStarted","onError","onLoadedProject","onSetProjectUnchanged","projectData","isLoadingWithId","vm"];function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Te(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ie=function(e){class t extends o.a.Component{constructor(e){super(e),F()(this,["loadProject"])}componentDidMount(){this.props.vm.initialized||(window.vm=this.props.vm,this.audioEngine=new xe.a,this.props.vm.attachAudioEngine(this.audioEngine),this.props.vm.initialized=!0,this.props.vm.setLocale(this.props.locale,this.props.messages),console.log("The VM is exposed as `vm`"),console.log("To log compiled scripts to the console, run `vm.enableDebug()`")),this.props.isPlayerOnly||this.props.isStarted||this.props.vm.start()}componentDidUpdate(e){!this.props.isLoadingWithId||!this.props.fontsLoaded||e.isLoadingWithId&&e.fontsLoaded||this.loadProject(),this.props.isPlayerOnly||this.props.isStarted||this.props.vm.start()}loadProject(){return this.props.vm.stop(),this.props.vm.loadProject(this.props.projectData).then(()=>{this.props.onLoadedProject(this.props.loadingState,this.props.canSave),setTimeout(()=>this.props.onSetProjectUnchanged()),this.props.isStarted||setTimeout(()=>this.props.vm.renderer.draw())}).catch(e=>{this.props.onError(e)})}render(){const t=this.props,{fontsLoaded:n,loadingState:a,locale:r,messages:s,isStarted:i,onError:l,onLoadedProject:c,onSetProjectUnchanged:d,projectData:u,isLoadingWithId:p,vm:m}=t,h=Te(t,Oe);return o.a.createElement(e,Fe({isLoading:p,vm:m},h))}}t.propTypes={canSave:s.a.bool,cloudHost:s.a.string,fontsLoaded:s.a.bool,isLoadingWithId:s.a.bool,isPlayerOnly:s.a.bool,isStarted:s.a.bool,loadingState:s.a.oneOf(g.a),locale:s.a.string,messages:s.a.objectOf(s.a.string),onError:s.a.func,onLoadedProject:s.a.func,onSetProjectUnchanged:s.a.func,projectData:s.a.oneOfType([s.a.object,s.a.string]),projectId:s.a.oneOfType([s.a.string,s.a.number]),username:s.a.string,vm:s.a.instanceOf(p.a).isRequired};return Object(l.b)(e=>{const t=e.scratchGui.projectState.loadingState;return{fontsLoaded:e.scratchGui.fontsLoaded,isLoadingWithId:Object(g.o)(t),locale:e.locales.locale,messages:e.locales.messages,projectData:e.scratchGui.projectState.projectData,projectId:e.scratchGui.projectState.projectId,loadingState:t,isPlayerOnly:e.scratchGui.mode.isPlayerOnly,isStarted:e.scratchGui.vmStatus.started}},e=>({onError:t=>e(Object(g.y)(t)),onLoadedProject:(t,n)=>e(Object(g.x)(t,n,!0)),onSetProjectUnchanged:()=>e(Object(T.d)())}),(e,t,n)=>Object.assign({},e,t,n))(t)},Re=n(417),je=n.n(Re);var De=class{constructor(e,t,n,a){this.vm=t,this.username=n,this.projectId=a,this.cloudHost=e,this.connectionAttempts=0,this.queuedData=[],this.openConnection(),this.sendCloudData=je()(this._sendCloudData,50)}openConnection(){this.connectionAttempts+=1;try{this.cloudHost&&(this.cloudHost.includes("ws://")||this.cloudHost.includes("wss://"))||(this.cloudHost=("http:"===location.protocol?"ws://":"wss://")+this.cloudHost),this.connection=new WebSocket(this.cloudHost)}catch(e){return I.default.warn("Websocket support is not available in this browser",e),void(this.connection=null)}this.connection.onerror=this.onError.bind(this),this.connection.onmessage=this.onMessage.bind(this),this.connection.onopen=this.onOpen.bind(this),this.connection.onclose=this.onClose.bind(this)}onError(e){I.default.error("Websocket connection error: ".concat(JSON.stringify(e)))}onMessage(e){e.data.split("\n").forEach(e=>{if(e){const t=this.parseMessage(JSON.parse(e));this.vm.postIOData("cloud",t)}})}onOpen(){this.connectionAttempts=1,this.writeToServer("handshake"),I.default.info("Successfully connected to clouddata server."),this.queuedData.forEach(e=>{this.sendCloudData(e)}),this.queuedData=[]}onClose(e){if(e&&4002===e.code)return I.default.info("Cloud username is invalid. Not reconnecting."),void this.onInvalidUsername();I.default.info("Closed connection to websocket");const t=this.randomizeDuration(this.exponentialTimeout());this.setTimeout(this.openConnection.bind(this),t)}onInvalidUsername(){}exponentialTimeout(){return 1e3*(Math.pow(2,Math.min(this.connectionAttempts,5))-1)}randomizeDuration(e){return Math.random()*e}setTimeout(e,t){I.default.info("Reconnecting in ".concat((t/1e3).toFixed(1),"s, attempt ").concat(this.connectionAttempts)),this._connectionTimeout=window.setTimeout(e,t)}parseMessage(e){const t={};switch(e.method){case"set":t.varUpdate={name:e.name,value:e.value}}return t}writeToServer(e,t,n,a){const o={};o.method=e,o.user=this.username,o.project_id=this.projectId,t&&(o.name=t),a&&(o.new_name=a),null!=n&&(o.value=n);const r=JSON.stringify(o);this.connection&&this.connection.readyState===WebSocket.OPEN?this.sendCloudData(r):"create"!==o.method&&"delete"!==o.method&&"rename"!==o.method||this.queuedData.push(r)}_sendCloudData(e){this.connection.send("".concat(e,"\n"))}createVariable(e,t){this.writeToServer("create",e,t)}updateVariable(e,t){this.writeToServer("set",e,t)}renameVariable(e,t){this.writeToServer("rename",e,null,t)}deleteVariable(e){this.writeToServer("delete",e)}requestCloseConnection(){this.connection&&this.connection.readyState!==WebSocket.CLOSING&&this.connection.readyState!==WebSocket.CLOSED&&(I.default.info("Request close cloud connection without reconnecting"),this.connection.onclose=()=>{},this.connection.onerror=()=>{},this.connection.close()),this.clear()}clear(){this.connection=null,this.vm=null,this.username=null,this.projectId=null,this._connectionTimeout&&(clearTimeout(this._connectionTimeout),this._connectionTimeout=null),this.connectionAttempts=0}};const Ae=["canModifyCloudData","cloudHost","projectId","username","hasCloudPermission","isShowingWithId","onShowCloudInfo","onInvalidUsername","vm"];function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Me(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ne=function(e){class t extends o.a.Component{constructor(e){super(e),this.cloudProvider=null,F()(this,["handleCloudDataUpdate","onInvalidUsername"]),this.props.vm.on("HAS_CLOUD_DATA_UPDATE",this.handleCloudDataUpdate)}componentDidMount(){this.shouldConnect(this.props)&&this.connectToCloud()}componentDidUpdate(e){if(this.shouldReconnect(this.props,e))return this.disconnectFromCloud(),void(this.shouldConnect(this.props)&&this.connectToCloud());this.shouldConnect(this.props)&&!this.shouldConnect(e)&&this.connectToCloud(),this.shouldDisconnect(this.props,e)&&this.disconnectFromCloud()}componentWillUnmount(){this.disconnectFromCloud()}canUseCloud(e){return!!(e.cloudHost&&e.username&&e.vm&&e.projectId&&e.hasCloudPermission)}shouldConnect(e){return!this.isConnected()&&this.canUseCloud(e)&&e.isShowingWithId&&e.vm.runtime.hasCloudData()&&e.canModifyCloudData}shouldDisconnect(e,t){return this.isConnected()&&(!this.canUseCloud(e)||!e.vm.runtime.hasCloudData()||e.projectId!==t.projectId||!e.canModifyCloudData)}shouldReconnect(e,t){return this.isConnected()&&e.username!==t.username}isConnected(){return this.cloudProvider&&!!this.cloudProvider.connection}connectToCloud(){this.cloudProvider=new De(this.props.cloudHost,this.props.vm,this.props.username,this.props.projectId),this.cloudProvider.onInvalidUsername=this.onInvalidUsername,this.props.vm.setCloudProvider(this.cloudProvider)}disconnectFromCloud(){this.cloudProvider&&(this.cloudProvider.requestCloseConnection(),this.cloudProvider=null,this.props.vm.setCloudProvider(null))}handleCloudDataUpdate(e){this.isConnected()&&!e?this.disconnectFromCloud():this.shouldConnect(this.props)&&(this.props.onShowCloudInfo(),this.connectToCloud())}onInvalidUsername(){this.props.onInvalidUsername()}render(){const t=this.props,{canModifyCloudData:n,cloudHost:a,projectId:r,username:s,hasCloudPermission:i,isShowingWithId:l,onShowCloudInfo:c,onInvalidUsername:d,vm:u}=t,p=Me(t,Ae);return o.a.createElement(e,Pe({canUseCloud:this.canUseCloud(this.props),vm:u},p))}}t.propTypes={canModifyCloudData:s.a.bool.isRequired,cloudHost:s.a.string,hasCloudPermission:s.a.bool,isShowingWithId:s.a.bool.isRequired,onInvalidUsername:s.a.func,onShowCloudInfo:s.a.func,projectId:s.a.oneOfType([s.a.string,s.a.number]),username:s.a.string,vm:s.a.instanceOf(p.a).isRequired},t.defaultProps={cloudHost:null,onShowCloudInfo:()=>{},username:null};return Object(l.b)((e,t)=>{const n=e.scratchGui.projectState.loadingState;return{isShowingWithId:Object(g.s)(n),projectId:e.scratchGui.projectState.projectId,hasCloudPermission:!!e.scratchGui.tw&&e.scratchGui.tw.cloud,username:e.scratchGui.tw?e.scratchGui.tw.username:"",canModifyCloudData:!e.scratchGui.mode.hasEverEnteredEditor||t.canSave}},e=>({onShowCloudInfo:()=>Object(se.g)(e,"cloudInfo"),onInvalidUsername:()=>{e(Object(ve.q)(!0)),e(Object(b.y)())}}),(e,t,n)=>Object.assign({},e,t,n))(t)};const Le=["onSetDimensions","isFullScreen"];function Be(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ue=n(331);const qe=["intl","projectChanged","onAutosavingStart","onAutosavingFinish","vm"];function Ge(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}let ze=!1;const He=Object(m.d)({error:{id:"tw.restorePoint.createFail",defaultMessage:"Could not restore point; restore points are now disabled. Regular project saves are unaffected.\n\nDebug: {error}"}});var We=n(4),Ve=n.n(We),Ke=n(189),Xe=n.n(Ke),Qe=n(137),Ye=n(221),Je=n.n(Ye),Ze=n(270),$e=n.n(Ze),et=n(418),tt=n.n(et),nt=n(332),at=n.n(nt),ot=n(318),rt=n(132),st=function(e){const t=rt.a.get(),n=function(e,n,a,o){return{message0:"%1",args0:[{type:"field_dropdown",name:e,options:function(){return o.concat(n())}}],inputsInline:!0,output:"String",colour:a.secondary,colourSecondary:a.secondary,colourTertiary:a.tertiary,outputShape:t.OUTPUT_SHAPE_ROUND}},a=function(){let n=[["",""]];return e.editingTarget&&e.editingTarget.sprite.sounds.length>0&&(n=e.editingTarget.sprite.sounds.map(e=>[e.name,e.name])),n.push([t.ScratchMsgs.translate("SOUND_RECORD","record..."),t.recordSoundCallback]),n},o=function(){return e.editingTarget&&e.editingTarget.getCostumes().length>0?e.editingTarget.getCostumes().map(e=>[e.name,e.name]):[["",""]]},r=function(){const n=t.ScratchMsgs.translate("LOOKS_NEXTBACKDROP","next backdrop"),a=t.ScratchMsgs.translate("LOOKS_PREVIOUSBACKDROP","previous backdrop"),o=t.ScratchMsgs.translate("LOOKS_RANDOMBACKDROP","random backdrop");return e.runtime.targets[0]&&e.runtime.targets[0].getCostumes().length>0?e.runtime.targets[0].getCostumes().map(e=>[e.name,e.name]).concat([[n,"next backdrop"],[a,"previous backdrop"],[o,"random backdrop"]]):[["",""]]},s=function(){const t=e.runtime.getTargetForStage();return t&&t.getCostumes().length>0?t.getCostumes().map(e=>[e.name,e.name]):[["",""]]},i=function(){const t=[];for(const n in e.runtime.targets)if(e.runtime.targets.hasOwnProperty(n)&&e.runtime.targets[n].isOriginal&&!e.runtime.targets[n].isStage){if(e.runtime.targets[n]===e.editingTarget)continue;t.push([e.runtime.targets[n].sprite.name,e.runtime.targets[n].sprite.name])}return t},l=function(){if(e.editingTarget&&e.editingTarget.isStage){const e=i();return 0===e.length?[["",""]]:e}return[[t.ScratchMsgs.translate("CONTROL_CREATECLONEOF_MYSELF","myself"),"_myself_"]].concat(i())},c=t.Colours.sounds,d=t.Colours.looks,u=t.Colours.motion,p=t.Colours.sensing,m=t.Colours.control,h=t.Colours.event;t.Blocks.sound_sounds_menu.init=function(){const e=n("SOUND_MENU",a,c,[]);this.jsonInit(e)},t.Blocks.looks_costume.init=function(){const e=n("COSTUME",o,d,[]);this.jsonInit(e)},t.Blocks.looks_backdrops.init=function(){const e=n("BACKDROP",r,d,[]);this.jsonInit(e)},t.Blocks.event_whenbackdropswitchesto.init=function(){const e=(n=t.Msg.EVENT_WHENBACKDROPSWITCHESTO,a=s,r=[],{message0:n,args0:[{type:"field_dropdown",name:"BACKDROP",options:function(){return r.concat(a())}}],colour:(o=h).primary,colourSecondary:o.secondary,colourTertiary:o.tertiary,extensions:["shape_hat"]});var n,a,o,r;this.jsonInit(e)},t.Blocks.motion_pointtowards_menu.init=function(){const e=t.ScratchMsgs.translate("MOTION_POINTTOWARDS_POINTER","mouse-pointer"),a=n("TOWARDS",i,u,[[e,"_mouse_"]]);this.jsonInit(a)},t.Blocks.motion_goto_menu.init=function(){const e=t.ScratchMsgs.translate("MOTION_GOTO_RANDOM","random position"),a=t.ScratchMsgs.translate("MOTION_GOTO_POINTER","mouse-pointer"),o=n("TO",i,u,[[e,"_random_"],[a,"_mouse_"]]);this.jsonInit(o)},t.Blocks.motion_glideto_menu.init=function(){const e=t.ScratchMsgs.translate("MOTION_GLIDETO_RANDOM","random position"),a=t.ScratchMsgs.translate("MOTION_GLIDETO_POINTER","mouse-pointer"),o=n("TO",i,u,[[e,"_random_"],[a,"_mouse_"]]);this.jsonInit(o)},t.Blocks.sensing_of_object_menu.init=function(){const e=t.ScratchMsgs.translate("SENSING_OF_STAGE","Stage"),a=n("OBJECT",i,p,[[e,"_stage_"]]);this.jsonInit(a)},t.Blocks.sensing_of.init=function(){const n=this.id,a=this.type;let o;const r=e.runtime.flyoutBlocks._blocks;Object.keys(r).forEach(e=>{const t=r[e];(e===a||t&&t.opcode===a)&&(o=t)});const s=(i=function(){const a=[[t.Msg.SENSING_OF_BACKDROPNUMBER,"backdrop #"],[t.Msg.SENSING_OF_BACKDROPNAME,"backdrop name"],[t.Msg.SENSING_OF_VOLUME,"volume"]],r=[[t.Msg.SENSING_OF_XPOSITION,"x position"],[t.Msg.SENSING_OF_YPOSITION,"y position"],[t.Msg.SENSING_OF_DIRECTION,"direction"],[t.Msg.SENSING_OF_COSTUMENUMBER,"costume #"],[t.Msg.SENSING_OF_COSTUMENAME,"costume name"],[t.Msg.SENSING_OF_SIZE,"size"],[t.Msg.SENSING_OF_VOLUME,"volume"]];if(e.editingTarget){let s=e.editingTarget.blocks,i=s.getBlock(n);if(!i){if(i=e.runtime.flyoutBlocks.getBlock(n)||o,!i)return[["",""]];s=e.runtime.flyoutBlocks}const l=function(e){e.sort(t.scratchBlocksUtils.compareStrings)},c=e.runtime.getTargetForStage().getAllVariableNamesInScopeByType("");l(c);const d=c.map(e=>[e,e]);if(i.inputs.OBJECT.shadow!==i.inputs.OBJECT.block)return a.concat(d);const u=s.getBlock(i.inputs.OBJECT.shadow).fields.OBJECT.value;if("_stage_"===u)return a.concat(d);const p=e.runtime.getSpriteTargetByName(u);let m=[];p&&(m=p.getAllVariableNamesInScopeByType("",!0),l(m));const h=m.map(e=>[e,e]);return r.concat(h)}return[["",""]]},{message0:t.Msg.SENSING_OF,args0:[{type:"field_dropdown",name:"PROPERTY",options:function(){return i()}},{type:"input_value",name:"OBJECT"}],output:!0,colour:t.Colours.sensing.primary,colourSecondary:t.Colours.sensing.secondary,colourTertiary:t.Colours.sensing.tertiary,outputShape:t.OUTPUT_SHAPE_ROUND});var i;this.jsonInit(s)},t.Blocks.sensing_distancetomenu.init=function(){const e=t.ScratchMsgs.translate("SENSING_DISTANCETO_POINTER","mouse-pointer"),a=n("DISTANCETOMENU",i,p,[[e,"_mouse_"]]);this.jsonInit(a)},t.Blocks.sensing_touchingobjectmenu.init=function(){const e=t.ScratchMsgs.translate("SENSING_TOUCHINGOBJECT_POINTER","mouse-pointer"),a=t.ScratchMsgs.translate("SENSING_TOUCHINGOBJECT_EDGE","edge"),o=n("TOUCHINGOBJECTMENU",i,p,[[e,"_mouse_"],[a,"_edge_"]]);this.jsonInit(o)},t.Blocks.control_create_clone_of_menu.init=function(){const e=n("CLONE_OPTION",l,m,[]);this.jsonInit(e)},t.VerticalFlyout.getCheckboxState=function(t){const n=e.runtime.monitorBlocks._blocks[t];return!!n&&n.isMonitored},t.FlyoutExtensionCategoryHeader.getExtensionState=function(n){return e.getPeripheralIsConnected(n)?t.StatusButtonState.READY:t.StatusButtonState.NOT_READY},t.FieldNote.playNote_=function(t,n){e.runtime.emit("PLAY_NOTE",t,n)};const g=new Intl.Collator([],{sensitivity:"base",numeric:!0});return t.scratchBlocksUtils.compareStrings=function(e,t){return g.compare(e,t)},t.utils.is3dSupported=function(){return!0},t},it=n(7),lt=n(55),ct=n(173),dt=n.n(ct),ut=n(170),pt=n.n(ut),mt=n(753),ht=n.n(mt),gt=n(333),ft=n.n(gt);let bt={};const _t=e=>o.a.createElement("div",{"aria-label":"Close",className:Ve()(dt.a.closeButton,e.className,{[dt.a.small]:e.size===_t.SIZE_SMALL,[dt.a.large]:e.size===_t.SIZE_LARGE,[dt.a.orange]:e.color===_t.COLOR_ORANGE}),role:"button",tabIndex:"0",onClick:e.onClick},"back"===e.buttonType?o.a.createElement("img",{className:dt.a.backIcon,src:ft.a}):o.a.createElement("img",{className:Ve()(dt.a.closeIcon,{[dt.a[e.color]]:e.color!==_t.COLOR_NEUTRAL}),src:e.color&&bt[e.color]?bt[e.color]:pt.a}));_t.SIZE_SMALL="small",_t.SIZE_LARGE="large",_t.COLOR_NEUTRAL="neutral",_t.COLOR_GREEN="green",_t.COLOR_ORANGE="orange",bt={[_t.COLOR_NEUTRAL]:pt.a,[_t.COLOR_GREEN]:pt.a,[_t.COLOR_ORANGE]:ht.a},_t.propTypes={buttonType:s.a.oneOf(["back","close"]),className:s.a.string,color:s.a.string,onClick:s.a.func.isRequired,size:s.a.oneOf([_t.SIZE_SMALL,_t.SIZE_LARGE])},_t.defaultProps={color:_t.COLOR_NEUTRAL,size:_t.SIZE_LARGE,buttonType:"close"};var vt=_t,yt=n(754),wt=n.n(yt),St=n(96),Et=n.n(St);const Ct=e=>o.a.createElement(d.a,{isOpen:!0,className:Ve()(Et.a.modalContent,e.className,{[Et.a.fullScreen]:e.fullScreen}),contentLabel:e.contentLabel,overlayClassName:Et.a.modalOverlay,onRequestClose:e.onRequestClose},o.a.createElement(it.a,{dir:e.isRtl?"rtl":"ltr",direction:"column",grow:1},o.a.createElement("div",{className:Ve()(Et.a.header,e.headerClassName)},e.onHelp?o.a.createElement("div",{className:Ve()(Et.a.headerItem,Et.a.headerItemHelp)},o.a.createElement(lt.a,{className:Et.a.helpButton,iconSrc:wt.a,onClick:e.onHelp},o.a.createElement(m.a,{defaultMessage:"Help",id:"gui.modal.help"}))):null,o.a.createElement("div",{className:Ve()(Et.a.headerItem,Et.a.headerItemTitle)},e.headerImage?o.a.createElement("img",{className:Et.a.headerImage,src:e.headerImage}):null,e.contentLabel),o.a.createElement("div",{className:Ve()(Et.a.headerItem,Et.a.headerItemClose)},e.fullScreen?o.a.createElement(lt.a,{className:Et.a.backButton,iconSrc:ft.a,onClick:e.onRequestClose},o.a.createElement(m.a,{defaultMessage:"Back",id:"gui.modal.back"})):o.a.createElement(vt,{size:vt.SIZE_LARGE,onClick:e.onRequestClose}))),e.children));Ct.propTypes={children:s.a.node,className:s.a.string,contentLabel:s.a.oneOfType([s.a.string,s.a.object]).isRequired,fullScreen:s.a.bool,headerClassName:s.a.string,headerImage:s.a.string,isRtl:s.a.bool,onHelp:s.a.func,onRequestClose:s.a.func};var kt=Ct;class xt extends o.a.Component{constructor(e){super(e),F()(this,["addEventListeners","removeEventListeners","handlePopState","pushHistory"]),this.addEventListeners()}componentDidMount(){this.pushHistory(this.id,null===history.state||history.state!==this.id)}componentWillUnmount(){this.removeEventListeners()}addEventListeners(){window.addEventListener("popstate",this.handlePopState)}removeEventListeners(){window.removeEventListener("popstate",this.handlePopState)}handlePopState(){this.props.onRequestClose()}get id(){return"modal-".concat(this.props.id)}pushHistory(e,t){if(t)return history.pushState(e,this.id,null);history.replaceState(e,this.id,null)}render(){return o.a.createElement(kt,this.props)}}xt.propTypes={id:s.a.string.isRequired,isRtl:s.a.bool,onRequestClose:s.a.func,onRequestOpen:s.a.func};var Ot=Object(l.b)(e=>({isRtl:e.locales.isRtl}))(xt),Ft=n(99),Tt=n.n(Ft);const It=Object(m.d)({forAllSpritesMessage:{id:"gui.gui.variableScopeOptionAllSprites",defaultMessage:"For all sprites"},forThisSpriteMessage:{id:"gui.gui.variableScopeOptionSpriteOnly",defaultMessage:"For this sprite only"},cloudVarOptionMessage:{id:"gui.gui.cloudVariableOption",defaultMessage:"Cloud variable (stored on server)"},availableToAllSpritesMessage:{id:"gui.gui.variablePromptAllSpritesMessage",defaultMessage:"This variable will be available to all sprites."}}),Rt=e=>o.a.createElement(Ot,{className:Tt.a.modalContent,contentLabel:e.title,onRequestClose:e.onCancel},o.a.createElement(it.a,{className:Tt.a.body},o.a.createElement(it.a,{className:Tt.a.label},e.label),o.a.createElement(it.a,null,o.a.createElement("input",{autoFocus:!0,className:Tt.a.variableNameTextInput,defaultValue:e.defaultValue,name:e.label,onChange:e.onChange,onFocus:e.onFocus,onKeyPress:e.onKeyPress})),e.showVariableOptions?o.a.createElement("div",null,e.isStage?o.a.createElement("div",{className:Tt.a.infoMessage},o.a.createElement(m.a,It.availableToAllSpritesMessage)):o.a.createElement(it.a,{className:Tt.a.optionsRow},o.a.createElement("label",null,o.a.createElement("input",{checked:e.globalSelected,name:"variableScopeOption",type:"radio",value:"global",onChange:e.onScopeOptionSelection}),o.a.createElement(m.a,It.forAllSpritesMessage)),o.a.createElement("label",{className:Ve()({[Tt.a.disabledLabel]:e.cloudSelected})},o.a.createElement("input",{checked:!e.globalSelected,disabled:e.cloudSelected,name:"variableScopeOption",type:"radio",value:"local",onChange:e.onScopeOptionSelection}),o.a.createElement(m.a,It.forThisSpriteMessage))),e.showCloudOption?o.a.createElement(it.a,{className:Ve()(Tt.a.cloudOption)},o.a.createElement("label",{className:Ve()({[Tt.a.disabledLabel]:!e.canAddCloudVariable})},o.a.createElement("input",{checked:e.cloudSelected&&e.canAddCloudVariable,disabled:!e.canAddCloudVariable,type:"checkbox",onChange:e.onCloudVarOptionChange}),o.a.createElement(m.a,It.cloudVarOptionMessage))):null):null,o.a.createElement(it.a,{className:Tt.a.buttonRow},o.a.createElement("button",{className:Tt.a.cancelButton,onClick:e.onCancel},o.a.createElement(m.a,{defaultMessage:"Cancel",id:"gui.prompt.cancel"})),o.a.createElement("button",{className:Tt.a.okButton,onClick:e.onOk},o.a.createElement(m.a,{defaultMessage:"OK",id:"gui.prompt.ok"})))));Rt.propTypes={canAddCloudVariable:s.a.bool.isRequired,cloudSelected:s.a.bool.isRequired,defaultValue:s.a.string,globalSelected:s.a.bool.isRequired,isStage:s.a.bool.isRequired,label:s.a.string.isRequired,onCancel:s.a.func.isRequired,onChange:s.a.func.isRequired,onCloudVarOptionChange:s.a.func,onFocus:s.a.func.isRequired,onKeyPress:s.a.func.isRequired,onOk:s.a.func.isRequired,onScopeOptionSelection:s.a.func.isRequired,showCloudOption:s.a.bool.isRequired,showVariableOptions:s.a.bool.isRequired,title:s.a.string.isRequired};var jt=Rt;class Dt extends o.a.Component{constructor(e){super(e),F()(this,["handleOk","handleScopeOptionSelection","handleCancel","handleChange","handleKeyPress","handleCloudVariableOptionChange"]),this.state={inputValue:"",globalSelected:!0,cloudSelected:!1,canAddCloudVariable:e.vm&&e.vm.runtime.canAddCloudVariable()||!1}}handleKeyPress(e){"Enter"===e.key&&this.handleOk()}handleFocus(e){e.target.select()}handleOk(){this.props.onOk(this.state.inputValue,{scope:this.state.globalSelected?"global":"local",isCloud:this.state.cloudSelected})}handleCancel(){this.props.onCancel()}handleChange(e){this.setState({inputValue:e.target.value})}handleScopeOptionSelection(e){this.setState({globalSelected:"global"===e.target.value})}handleCloudVariableOptionChange(e){if(!this.props.showCloudOption)return;const t=e.target.checked;this.setState({cloudSelected:t}),t&&this.setState({globalSelected:!0})}render(){return o.a.createElement(jt,{canAddCloudVariable:this.state.canAddCloudVariable,cloudSelected:this.state.cloudSelected,defaultValue:this.props.defaultValue,globalSelected:this.state.globalSelected,isStage:this.props.isStage,label:this.props.label,showCloudOption:this.props.showCloudOption,showVariableOptions:this.props.showVariableOptions,title:this.props.title,onCancel:this.handleCancel,onChange:this.handleChange,onCloudVarOptionChange:this.handleCloudVariableOptionChange,onFocus:this.handleFocus,onKeyPress:this.handleKeyPress,onOk:this.handleOk,onScopeOptionSelection:this.handleScopeOptionSelection})}}Dt.propTypes={defaultValue:s.a.string,isStage:s.a.bool.isRequired,label:s.a.string.isRequired,onCancel:s.a.func.isRequired,onOk:s.a.func.isRequired,showCloudOption:s.a.bool.isRequired,showVariableOptions:s.a.bool.isRequired,title:s.a.string.isRequired,vm:s.a.instanceOf(p.a)};var At=Dt,Pt=n(430),Mt=n.n(Pt);const Nt=["containerRef","dragOver"];function Lt(){return(Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Bt(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Ut=e=>{const{containerRef:t,dragOver:n}=e,a=Bt(e,Nt);return o.a.createElement(it.a,Lt({className:Ve()(Mt.a.blocks,{[Mt.a.dragOver]:n})},a,{componentRef:t}))};Ut.propTypes={containerRef:s.a.func,dragOver:s.a.bool};var qt=Ut,Gt=n(156),zt=n(353),Ht=n.n(zt),Wt=n(755),Vt=n.n(Wt),Kt=n(756),Xt=n.n(Kt);const Qt=["className","intl","isPlaying","onClick","onMouseDown","onMouseEnter","onMouseLeave","setButtonRef"];function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Jt(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Zt=Object(m.d)({play:{id:"gui.playButton.play",defaultMessage:"Play"},stop:{id:"gui.playButton.stop",defaultMessage:"Stop"}}),$t=e=>{let{className:t,intl:n,isPlaying:a,onClick:r,onMouseDown:s,onMouseEnter:i,onMouseLeave:l,setButtonRef:c}=e,d=Jt(e,Qt);const u=a?n.formatMessage(Zt.stop):n.formatMessage(Zt.play);return o.a.createElement("div",Yt({"aria-label":u,className:Ve()(Ht.a.playButton,t,{[Ht.a.playing]:a}),onClick:r,onMouseDown:s,onMouseEnter:i,onMouseLeave:l,ref:c},d),o.a.createElement("img",{className:Ht.a.playIcon,draggable:!1,src:a?Xt.a:Vt.a}))};$t.propTypes={className:s.a.string,intl:m.f,isPlaying:s.a.bool.isRequired,onClick:s.a.func.isRequired,onMouseDown:s.a.func.isRequired,onMouseEnter:s.a.func.isRequired,onMouseLeave:s.a.func.isRequired,setButtonRef:s.a.func.isRequired};var en=Object(m.e)($t);class tn extends o.a.Component{constructor(e){super(e),F()(this,["handleClick","handleMouseDown","handleMouseEnter","handleMouseLeave","handleTouchStart","setButtonRef"]),this.state={touchStarted:!1}}getDerivedStateFromProps(e,t){return t.touchStarted&&!e.isPlaying?{touchStarted:!1}:null}componentDidMount(){this.buttonRef.addEventListener("touchstart",this.handleTouchStart)}componentWillUnmount(){this.buttonRef.removeEventListener("touchstart",this.handleTouchStart)}handleClick(e){e.stopPropagation()}handleMouseDown(e){e.preventDefault(),this.props.isPlaying?(this.props.onStop(),this.state.touchstarted&&this.setState({touchStarted:!1})):(this.props.onPlay(),this.state.touchstarted&&this.setState({touchStarted:!1}))}handleTouchStart(e){this.props.isPlaying?(e.preventDefault(),this.setState({touchStarted:!1}),this.props.onStop()):(e.preventDefault(),this.setState({touchStarted:!0}),this.props.onPlay())}handleMouseEnter(e){e.preventDefault(),this.props.isPlaying||this.props.onPlay()}handleMouseLeave(){this.props.isPlaying&&!this.state.touchstarted&&this.props.onStop()}setButtonRef(e){this.buttonRef=e}render(){const{className:e,isPlaying:t,onPlay:n,onStop:a}=this.props;return o.a.createElement(en,{className:e,isPlaying:t,onClick:this.handleClick,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,setButtonRef:this.setButtonRef})}}tn.propTypes={className:s.a.string,isPlaying:s.a.bool.isRequired,onPlay:s.a.func.isRequired,onStop:s.a.func.isRequired};var nn=tn,an=n(44),on=n.n(an),rn=n(757),sn=n.n(rn),ln=n(758),cn=n.n(ln);class dn extends o.a.PureComponent{render(){return this.props.featured?o.a.createElement("div",{className:Ve()(on.a.libraryItem,on.a.featuredItem,{[on.a.disabled]:this.props.disabled},"string"==typeof this.props.extensionId?on.a.libraryItemExtension:null,this.props.hidden?on.a.hidden:null),onClick:this.props.onClick},o.a.createElement("div",{className:on.a.featuredImageContainer},this.props.disabled?o.a.createElement("div",{className:on.a.comingSoonText},o.a.createElement(m.a,{defaultMessage:"Coming Soon",id:"gui.extensionLibrary.comingSoon"})):null,o.a.createElement("img",{className:on.a.featuredImage,src:this.props.iconURL})),this.props.insetIconURL?o.a.createElement("div",{className:on.a.libraryItemInsetImageContainer},o.a.createElement("img",{className:on.a.libraryItemInsetImage,src:this.props.insetIconURL})):null,o.a.createElement("div",{className:"string"==typeof this.props.extensionId?Ve()(on.a.featuredExtensionText,on.a.featuredText):on.a.featuredText},o.a.createElement("span",{className:on.a.libraryItemName},this.props.name),o.a.createElement("br",null),o.a.createElement("span",{className:on.a.featuredDescription},this.props.description)),this.props.bluetoothRequired||this.props.internetConnectionRequired||this.props.collaborator?o.a.createElement("div",{className:on.a.featuredExtensionMetadata},o.a.createElement("div",{className:on.a.featuredExtensionRequirement},this.props.bluetoothRequired||this.props.internetConnectionRequired?o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(m.a,{defaultMessage:"Requires",id:"gui.extensionLibrary.requires"})),o.a.createElement("div",{className:on.a.featuredExtensionMetadataDetail},this.props.bluetoothRequired?o.a.createElement("img",{src:sn.a}):null,this.props.internetConnectionRequired?o.a.createElement("img",{src:cn.a}):null)):null),o.a.createElement("div",{className:on.a.featuredExtensionCollaboration},this.props.collaborator?o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(m.a,{defaultMessage:"Collaboration with",id:"gui.extensionLibrary.collaboration"})),o.a.createElement("div",{className:on.a.featuredExtensionMetadataDetail},this.props.collaborator)):null)):null):o.a.createElement(it.a,{className:Ve()(on.a.libraryItem,{[on.a.hidden]:this.props.hidden}),role:"button",tabIndex:"0",onBlur:this.props.onBlur,onClick:this.props.onClick,onFocus:this.props.onFocus,onKeyPress:this.props.onKeyPress,onMouseEnter:this.props.showPlayButton?null:this.props.onMouseEnter,onMouseLeave:this.props.showPlayButton?null:this.props.onMouseLeave},o.a.createElement(it.a,{className:on.a.libraryItemImageContainerWrapper},o.a.createElement(it.a,{className:on.a.libraryItemImageContainer,onMouseEnter:this.props.showPlayButton?this.props.onMouseEnter:null,onMouseLeave:this.props.showPlayButton?this.props.onMouseLeave:null},o.a.createElement("img",{className:on.a.libraryItemImage,loading:"lazy",src:this.props.iconURL}))),o.a.createElement("span",{className:on.a.libraryItemName},this.props.name),this.props.showPlayButton?o.a.createElement(nn,{isPlaying:this.props.isPlaying,onPlay:this.props.onPlay,onStop:this.props.onStop}):null)}}dn.propTypes={bluetoothRequired:s.a.bool,collaborator:s.a.string,description:s.a.oneOfType([s.a.string,s.a.node]),disabled:s.a.bool,extensionId:s.a.string,featured:s.a.bool,hidden:s.a.bool,iconURL:s.a.string,insetIconURL:s.a.string,internetConnectionRequired:s.a.bool,isPlaying:s.a.bool,name:s.a.oneOfType([s.a.string,s.a.node]),onBlur:s.a.func.isRequired,onClick:s.a.func.isRequired,onFocus:s.a.func.isRequired,onKeyPress:s.a.func.isRequired,onMouseEnter:s.a.func.isRequired,onMouseLeave:s.a.func.isRequired,onPlay:s.a.func.isRequired,onStop:s.a.func.isRequired,showPlayButton:s.a.bool},dn.defaultProps={disabled:!1,showPlayButton:!1};var un=dn;class pn extends o.a.PureComponent{constructor(e){super(e),F()(this,["handleBlur","handleClick","handleFocus","handleKeyPress","handleMouseEnter","handleMouseLeave","handlePlay","handleStop","rotateIcon","startRotatingIcons","stopRotatingIcons"]),this.state={iconIndex:0,isRotatingIcon:!1}}componentWillUnmount(){clearInterval(this.intervalId)}handleBlur(e){this.handleMouseLeave(e)}handleClick(e){this.props.disabled||this.props.onSelect(this.props.id),e.preventDefault()}handleFocus(e){this.props.showPlayButton||this.handleMouseEnter(e)}handleKeyPress(e){" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),this.props.onSelect(this.props.id))}handleMouseEnter(){this.props.showPlayButton||(this.props.onMouseEnter(this.props.id),this.props.icons&&this.props.icons.length&&(this.stopRotatingIcons(),this.setState({isRotatingIcon:!0},this.startRotatingIcons)))}handleMouseLeave(){this.props.showPlayButton||(this.props.onMouseLeave(this.props.id),this.props.icons&&this.props.icons.length&&this.setState({isRotatingIcon:!1},this.stopRotatingIcons))}handlePlay(){this.props.onMouseEnter(this.props.id)}handleStop(){this.props.onMouseLeave(this.props.id)}startRotatingIcons(){this.rotateIcon(),this.intervalId=setInterval(this.rotateIcon,300)}stopRotatingIcons(){this.intervalId&&(this.intervalId=clearInterval(this.intervalId))}rotateIcon(){const e=(this.state.iconIndex+1)%this.props.icons.length;this.setState({iconIndex:e})}curIconMd5(){const e=this.props.iconMd5;if(this.props.icons&&this.state.isRotatingIcon&&this.state.iconIndex<this.props.icons.length){const t=this.props.icons[this.state.iconIndex]||{};return t.md5ext||t.baseLayerMD5||e}return e}render(){const e=this.curIconMd5(),t=e?"https://cdn.assets.scratch.mit.edu/internalapi/asset/".concat(e,"/get/"):this.props.iconRawURL;return o.a.createElement(un,{bluetoothRequired:this.props.bluetoothRequired,collaborator:this.props.collaborator,description:this.props.description,disabled:this.props.disabled,extensionId:this.props.extensionId,featured:this.props.featured,hidden:this.props.hidden,iconURL:t,icons:this.props.icons,id:this.props.id,insetIconURL:this.props.insetIconURL,internetConnectionRequired:this.props.internetConnectionRequired,isPlaying:this.props.isPlaying,name:this.props.name,showPlayButton:this.props.showPlayButton,onBlur:this.handleBlur,onClick:this.handleClick,onFocus:this.handleFocus,onKeyPress:this.handleKeyPress,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onPlay:this.handlePlay,onStop:this.handleStop})}}pn.propTypes={bluetoothRequired:s.a.bool,collaborator:s.a.string,description:s.a.oneOfType([s.a.string,s.a.node]),disabled:s.a.bool,extensionId:s.a.string,featured:s.a.bool,hidden:s.a.bool,iconMd5:s.a.string,iconRawURL:s.a.string,icons:s.a.arrayOf(s.a.shape({baseLayerMD5:s.a.string,md5ext:s.a.string})),id:s.a.number.isRequired,insetIconURL:s.a.string,internetConnectionRequired:s.a.bool,isPlaying:s.a.bool,name:s.a.oneOfType([s.a.string,s.a.node]),onMouseEnter:s.a.func.isRequired,onMouseLeave:s.a.func.isRequired,onSelect:s.a.func.isRequired,showPlayButton:s.a.bool};var mn=Object(m.e)(pn),hn=n(334),gn=n(760),fn=n.n(gn),bn=n(761),_n=n.n(bn),vn=n(195),yn=n.n(vn);const wn=e=>{const{className:t,onChange:n,onClear:a,placeholderText:r,filterQuery:s,inputClassName:i}=e;return o.a.createElement("div",{className:Ve()(t,yn.a.filter,{[yn.a.isActive]:s.length>0})},o.a.createElement("img",{className:yn.a.filterIcon,src:fn.a}),o.a.createElement("input",{className:Ve()(yn.a.filterInput,i),placeholder:r,type:"text",value:s,onChange:n}),o.a.createElement("div",{className:yn.a.xIconWrapper,onClick:a},o.a.createElement("img",{className:yn.a.xIcon,src:_n.a})))};wn.propTypes={className:s.a.string,filterQuery:s.a.string,inputClassName:s.a.string,onChange:s.a.func,onClear:s.a.func,placeholderText:s.a.string},wn.defaultProps={placeholderText:"Search"};var Sn=wn,En=n(354),Cn=n.n(En);const kn=["active","iconClassName","className","tag","intlLabel"];function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){Fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tn(){return(Tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function In(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Rn=e=>{let{active:t,iconClassName:n,className:a,tag:r,intlLabel:s}=e,i=In(e,kn);return o.a.createElement(lt.a,Tn({className:Ve()(Cn.a.tagButton,a,{[Cn.a.active]:t}),iconClassName:Ve()(Cn.a.tagButtonIcon,n)},i),o.a.createElement(m.a,s))};Rn.propTypes=On(On({},lt.a.propTypes),{},{active:s.a.bool,intlLabel:s.a.shape({defaultMessage:s.a.string,description:s.a.string,id:s.a.string}).isRequired,tag:s.a.string.isRequired}),Rn.defaultProps={active:!1};var jn=Rn;function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){Pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mn(){return(Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}class Nn extends o.a.Component{constructor(e){super(e),F()(this,["handleClick"])}handleClick(){this.props.onClick(this.props.tag)}render(){return o.a.createElement(jn,Mn({},this.props,{onClick:this.handleClick}))}}Nn.propTypes=An(An({},jn.propTypes),{},{onClick:s.a.func});var Ln=Nn,Bn=n(210),Un=n(100),qn=n.n(Un);function Gn(){return(Gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const zn=Object(m.d)({filterPlaceholder:{id:"gui.library.filterPlaceholder",defaultMessage:"Search"},allTag:{id:"gui.library.allTag",defaultMessage:"All"}}),Hn={tag:"all",intlLabel:zn.allTag},Wn=[Hn];class Vn extends o.a.Component{constructor(e){super(e),F()(this,["handleClose","handleFilterChange","handleFilterClear","handleMouseEnter","handleMouseLeave","handlePlayingEnd","handleSelect","handleTagClick","setFilteredDataRef"]),this.state={playingItem:null,filterQuery:"",selectedTag:Hn.tag,loaded:!1,data:e.data}}componentDidMount(){this.state.data.then?this.state.data.then(e=>{this.setState({loaded:!0,data:e})}):setTimeout(()=>{this.setState({loaded:!0})}),this.props.setStopHandler&&this.props.setStopHandler(this.handlePlayingEnd)}componentDidUpdate(e,t){t.filterQuery===this.state.filterQuery&&t.selectedTag===this.state.selectedTag||this.scrollToTop(),e.data!==this.props.data&&this.setState({data:this.props.data})}handleSelect(e){this.handleClose(),this.props.onItemSelected(this.getFilteredData()[e])}handleClose(){this.props.onRequestClose()}handleTagClick(e){null===this.state.playingItem?this.setState({filterQuery:"",selectedTag:e.toLowerCase()}):(this.props.onItemMouseLeave(this.getFilteredData()[[this.state.playingItem]]),this.setState({filterQuery:"",playingItem:null,selectedTag:e.toLowerCase()}))}handleMouseEnter(e){this.props.onItemMouseEnter&&this.state.playingItem!==e&&(this.props.onItemMouseEnter(this.getFilteredData()[e]),this.setState({playingItem:e}))}handleMouseLeave(e){this.props.onItemMouseLeave&&(this.props.onItemMouseLeave(this.getFilteredData()[e]),this.setState({playingItem:null}))}handlePlayingEnd(){null!==this.state.playingItem&&this.setState({playingItem:null})}handleFilterChange(e){null===this.state.playingItem?this.setState({filterQuery:e.target.value,selectedTag:Hn.tag}):(this.props.onItemMouseLeave(this.getFilteredData()[[this.state.playingItem]]),this.setState({filterQuery:e.target.value,playingItem:null,selectedTag:Hn.tag}))}handleFilterClear(){this.setState({filterQuery:""})}getFilteredData(){return"all"===this.state.selectedTag?this.state.filterQuery?this.state.data.filter(e=>-1!==(e.tags||[]).map(String.prototype.toLowerCase.call,String.prototype.toLowerCase).concat(e.name?("string"==typeof e.name?e.name:this.props.intl.formatMessage(e.name.props)).toLowerCase():null).join("\n").indexOf(this.state.filterQuery.toLowerCase())):this.state.data:this.state.data.filter(e=>e.tags&&-1!==e.tags.map(String.prototype.toLowerCase.call,String.prototype.toLowerCase).indexOf(this.state.selectedTag))}scrollToTop(){this.filteredDataRef.scrollTop=0}setFilteredDataRef(e){this.filteredDataRef=e}render(){return o.a.createElement(Ot,{fullScreen:!0,contentLabel:this.props.title,id:this.props.id,onRequestClose:this.handleClose},(this.props.filterable||this.props.tags)&&o.a.createElement("div",{className:qn.a.filterBar},this.props.filterable&&o.a.createElement(Sn,{className:Ve()(qn.a.filterBarItem,qn.a.filter),filterQuery:this.state.filterQuery,inputClassName:qn.a.filterInput,placeholderText:this.props.intl.formatMessage(zn.filterPlaceholder),onChange:this.handleFilterChange,onClear:this.handleFilterClear}),this.props.filterable&&this.props.tags&&o.a.createElement(hn.a,{className:Ve()(qn.a.filterBarItem,qn.a.divider)}),this.props.tags&&o.a.createElement("div",{className:qn.a.tagWrapper},Wn.concat(this.props.tags).map((e,t)=>o.a.createElement(Ln,Gn({active:this.state.selectedTag===e.tag.toLowerCase(),className:Ve()(qn.a.filterBarItem,qn.a.tagButton,e.className),key:"tag-button-".concat(t),onClick:this.handleTagClick},e))))),o.a.createElement("div",{className:Ve()(qn.a.libraryScrollGrid,{[qn.a.withFilterBar]:this.props.filterable||this.props.tags}),ref:this.setFilteredDataRef},this.state.loaded?this.getFilteredData().map((e,t)=>o.a.createElement(mn,{bluetoothRequired:e.bluetoothRequired,collaborator:e.collaborator,description:e.description,disabled:e.disabled,extensionId:e.extensionId,featured:e.featured,hidden:e.hidden,iconMd5:e.costumes?e.costumes[0].md5ext:e.md5ext,iconRawURL:e.rawURL,icons:e.costumes,id:t,insetIconURL:e.insetIconURL,internetConnectionRequired:e.internetConnectionRequired,isPlaying:this.state.playingItem===t,key:"string"==typeof e.name?e.name:e.rawURL,name:e.name,showPlayButton:this.props.showPlayButton,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onSelect:this.handleSelect})):o.a.createElement("div",{className:qn.a.spinnerWrapper},o.a.createElement(Bn.a,{large:!0,level:"primary"}))))}}Vn.propTypes={data:s.a.oneOfType([s.a.arrayOf(s.a.shape({md5:s.a.string,name:s.a.oneOfType([s.a.string,s.a.node]),rawURL:s.a.string})),s.a.instanceOf(Promise)]),filterable:s.a.bool,id:s.a.string.isRequired,intl:m.f.isRequired,onItemMouseEnter:s.a.func,onItemMouseLeave:s.a.func,onItemSelected:s.a.func,onRequestClose:s.a.func,setStopHandler:s.a.func,showPlayButton:s.a.bool,tags:s.a.arrayOf(s.a.shape(Ln.propTypes)),title:s.a.string.isRequired},Vn.defaultProps={filterable:!0,showPlayButton:!1};var Kn=Object(m.e)(Vn),Xn=n(335),Qn=n.n(Xn);function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Zn=Object(m.d)({extensionTitle:{id:"gui.extensionLibrary.chooseAnExtension",defaultMessage:"Choose an Extension"},extensionUrl:{id:"gui.extensionLibrary.extensionUrl",defaultMessage:"Enter the URL of the extension"}});class $n extends o.a.PureComponent{constructor(e){super(e),F()(this,["handleItemSelect"])}handleItemSelect(e){const t=e.extensionId;let n=e.extensionURL?e.extensionURL:t;const a=!e.disabled&&!t;a&&(n=prompt(this.props.intl.formatMessage(Zn.extensionUrl))),n&&!e.disabled&&(this.props.vm.extensionManager.isExtensionLoaded(n)?this.props.onCategorySelected(t):this.props.vm.extensionManager.loadExtensionURL(n).then(()=>{if(this.props.onCategorySelected(t),a){let e=location.pathname;location.search?(e+=location.search,e+="&"):e+="?",e+="extension=".concat(encodeURIComponent(n)),history.replaceState("","",e)}}).catch(e=>{alert(e)}))}render(){const e=Gt.a.map(e=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(n),!0).forEach((function(t){Jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({rawURL:e.iconURL||Qn.a},e));return o.a.createElement(Kn,{data:e,filterable:!1,id:"extensionLibrary",title:this.props.intl.formatMessage(Zn.extensionTitle),visible:this.props.visible,onItemSelected:this.handleItemSelect,onRequestClose:this.props.onRequestClose})}}$n.propTypes={intl:m.f.isRequired,onCategorySelected:s.a.func,onRequestClose:s.a.func,visible:s.a.bool,vm:s.a.instanceOf(p.a).isRequired};var ea=Object(m.e)($n),ta=n(762),na=n.n(ta),aa=n(763),oa=n.n(aa),ra=n(764),sa=n.n(ra),ia=n(61),la=n.n(ia);const ca=Object(m.d)({myblockModalTitle:{id:"gui.customProcedures.myblockModalTitle",defaultMessage:"Make a Block"}}),da=e=>o.a.createElement(Ot,{className:la.a.modalContent,contentLabel:e.intl.formatMessage(ca.myblockModalTitle),onRequestClose:e.onCancel},o.a.createElement(it.a,{className:la.a.workspace,componentRef:e.componentRef}),o.a.createElement(it.a,{className:la.a.body},o.a.createElement("div",{className:la.a.optionsRow},o.a.createElement("div",{className:la.a.optionCard,role:"button",tabIndex:"0",onClick:e.onAddTextNumber},o.a.createElement("img",{className:la.a.optionIcon,src:oa.a}),o.a.createElement("div",{className:la.a.optionTitle},o.a.createElement(m.a,{defaultMessage:"Add an input",id:"gui.customProcedures.addAnInputNumberText"})),o.a.createElement("div",{className:la.a.optionDescription},o.a.createElement(m.a,{defaultMessage:"number or text",id:"gui.customProcedures.numberTextType"}))),o.a.createElement("div",{className:la.a.optionCard,role:"button",tabIndex:"0",onClick:e.onAddBoolean},o.a.createElement("img",{className:la.a.optionIcon,src:na.a}),o.a.createElement("div",{className:la.a.optionTitle},o.a.createElement(m.a,{defaultMessage:"Add an input",id:"gui.customProcedures.addAnInputBoolean"})),o.a.createElement("div",{className:la.a.optionDescription},o.a.createElement(m.a,{defaultMessage:"boolean",id:"gui.customProcedures.booleanType"}))),o.a.createElement("div",{className:la.a.optionCard,role:"button",tabIndex:"0",onClick:e.onAddLabel},o.a.createElement("img",{className:la.a.optionIcon,src:sa.a}),o.a.createElement("div",{className:la.a.optionTitle},o.a.createElement(m.a,{defaultMessage:"Add a label",id:"gui.customProcedures.addALabel"})))),o.a.createElement("div",{className:la.a.checkboxRow},o.a.createElement("label",null,o.a.createElement("input",{checked:e.warp,type:"checkbox",onChange:e.onToggleWarp}),o.a.createElement(m.a,{defaultMessage:"Run without screen refresh",id:"gui.customProcedures.runWithoutScreenRefresh"}))),o.a.createElement(it.a,{className:la.a.buttonRow},o.a.createElement("button",{className:la.a.cancelButton,onClick:e.onCancel},o.a.createElement(m.a,{defaultMessage:"Cancel",id:"gui.customProcedures.cancel"})),o.a.createElement("button",{className:la.a.okButton,onClick:e.onOk},o.a.createElement(m.a,{defaultMessage:"OK",id:"gui.customProcedures.ok"})))));da.propTypes={componentRef:s.a.func.isRequired,intl:m.f,onAddBoolean:s.a.func.isRequired,onAddLabel:s.a.func.isRequired,onAddTextNumber:s.a.func.isRequired,onCancel:s.a.func.isRequired,onOk:s.a.func.isRequired,onToggleWarp:s.a.func.isRequired,warp:s.a.bool.isRequired};var ua=Object(m.e)(da);class pa extends o.a.Component{constructor(e){super(e),F()(this,["handleAddLabel","handleAddBoolean","handleAddTextNumber","handleToggleWarp","handleCancel","handleOk","setBlocks"]),this.state={rtlOffset:0,warp:!1}}componentWillUnmount(){this.workspace&&this.workspace.dispose()}setBlocks(e){if(!e)return;this.blocks=e;const t=at()({},pa.defaultOptions,this.props.options,{rtl:this.props.isRtl}),n=rt.a.get(),a=n.Blocks.defaultToolbox;n.Blocks.defaultToolbox=null,this.workspace=n.inject(this.blocks,t),n.Blocks.defaultToolbox=a,this.mutationRoot=this.workspace.newBlock("procedures_declaration"),this.mutationRoot.setMovable(!1),this.mutationRoot.setDeletable(!1),this.mutationRoot.contextMenu=!1,this.workspace.addChangeListener(()=>{this.mutationRoot.onChangeFn();const e=this.workspace.getMetrics(),{x:t,y:n}=this.mutationRoot.getRelativeToSurfaceXY(),a=e.viewHeight/2-this.mutationRoot.height/2-n;let o;if(this.props.isRtl){const n=e.viewWidth/2-this.mutationRoot.width/2+25,r=t-2*(t-this.state.rtlOffset);if(r===n)return;o=r-n;const s=e.viewWidth/2;if(0===t)return o=this.mutationRoot.width<s?n:this.mutationRoot.width<e.viewWidth?s-(e.viewWidth-this.mutationRoot.width)/2:s+(this.mutationRoot.width-e.viewWidth),this.mutationRoot.moveBy(o,a),void this.setState({rtlOffset:this.mutationRoot.getRelativeToSurfaceXY().x});this.mutationRoot.width>e.viewWidth&&(o=o+this.mutationRoot.width-e.viewWidth)}else o=e.viewWidth/2-this.mutationRoot.width/2-t,this.mutationRoot.width>e.viewWidth&&(o=e.viewWidth-this.mutationRoot.width-t);this.mutationRoot.moveBy(o,a)}),this.mutationRoot.domToMutation(this.props.mutator),this.mutationRoot.initSvg(),this.mutationRoot.render(),this.setState({warp:this.mutationRoot.getWarp()}),setTimeout(()=>{this.mutationRoot.focusLastEditor_()})}handleCancel(){this.props.onRequestClose()}handleOk(){const e=this.mutationRoot?this.mutationRoot.mutationToDom(!0):null;this.props.onRequestClose(e)}handleAddLabel(){this.mutationRoot&&this.mutationRoot.addLabelExternal()}handleAddBoolean(){this.mutationRoot&&this.mutationRoot.addBooleanExternal()}handleAddTextNumber(){this.mutationRoot&&this.mutationRoot.addStringNumberExternal()}handleToggleWarp(){if(this.mutationRoot){const e=!this.mutationRoot.getWarp();this.mutationRoot.setWarp(e),this.setState({warp:e})}}render(){return o.a.createElement(ua,{componentRef:this.setBlocks,warp:this.state.warp,onAddBoolean:this.handleAddBoolean,onAddLabel:this.handleAddLabel,onAddTextNumber:this.handleAddTextNumber,onCancel:this.handleCancel,onOk:this.handleOk,onToggleWarp:this.handleToggleWarp})}}pa.propTypes={isRtl:s.a.bool,mutator:s.a.instanceOf(Element),onRequestClose:s.a.func.isRequired,options:s.a.shape({media:s.a.string,zoom:s.a.shape({controls:s.a.bool,wheel:s.a.bool,startScale:s.a.number}),comments:s.a.bool,collapse:s.a.bool})},pa.defaultOptions={zoom:{controls:!1,wheel:!1,startScale:.9},comments:!1,collapse:!1,scrollbars:!0},pa.defaultProps={options:pa.defaultOptions};var ma=Object(l.b)(e=>({isRtl:e.locales.isRtl,mutator:e.scratchGui.customProcedures.mutator}))(pa),ha=n(21);function ga(){return(ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var fa=function(e){return function(t){class n extends o.a.Component{constructor(e){super(e),F()(this,["setRef"]),this.state={dragOver:!1},this.ref=null,this.containerBox=null}componentWillReceiveProps(t){if(t.dragInfo.dragging&&!this.props.dragInfo.dragging?this.dropAreaRect=this.ref&&this.ref.getBoundingClientRect():!t.dragInfo.dragging&&this.props.dragInfo.dragging&&this.state.dragOver&&(this.props.onDrop(this.props.dragInfo),this.setState({dragOver:!1})),this.dropAreaRect&&t.dragInfo.currentOffset&&e.includes(t.dragInfo.dragType)){const{x:e,y:n}=t.dragInfo.currentOffset,{top:a,right:o,bottom:r,left:s}=this.dropAreaRect;e>s&&e<o&&n>a&&n<r?this.setState({dragOver:!0}):this.setState({dragOver:!1})}}setRef(e){this.ref=e,this.props.componentRef&&this.props.componentRef(this.ref)}render(){const e=v()(this.props,["onDrop","dragInfo","componentRef"]);return o.a.createElement(t,ga({containerRef:this.setRef,dragOver:this.state.dragOver},e))}}n.propTypes={componentRef:s.a.func,dragInfo:s.a.shape({currentOffset:s.a.shape({x:s.a.number,y:s.a.number}),dragType:s.a.string,dragging:s.a.bool,index:s.a.number}),onDrop:s.a.func};return Object(l.b)(e=>({dragInfo:e.scratchGui.assetDrag}),()=>({}))(n)}},ba={SOUND:"SOUND",COSTUME:"COSTUME",SPRITE:"SPRITE",CODE:"CODE",BACKPACK_SOUND:"BACKPACK_SOUND",BACKPACK_COSTUME:"BACKPACK_COSTUME",BACKPACK_SPRITE:"BACKPACK_SPRITE",BACKPACK_CODE:"BACKPACK_CODE"},_a=n(72),va=n.n(_a),ya=n(48),wa=n.n(ya);var Sa=(e,t,n,a)=>({init:function(){const e={type:a,inputsInline:!0,category:t.name,colour:t.color1,colourSecondary:t.color2,colourTertiary:t.color3};(n.blockIconURI||t.blockIconURI)&&(e.extensions=["scratch_extension"]),this.jsonInit(e),this.blockInfoText="{}",this.needsBlockInfoUpdate=!0},mutationToDom:function(){const e=document.createElement("mutation");return e.setAttribute("blockInfo",this.blockInfoText),e},domToMutation:function(t){const n=t.getAttribute("blockInfo");if(!n)return;if(!this.needsBlockInfoUpdate)throw new Error("Attempted to update block info twice");delete this.needsBlockInfoUpdate,this.blockInfoText=n;const a=JSON.parse(n);switch(a.blockType){case wa.a.COMMAND:case wa.a.CONDITIONAL:case wa.a.LOOP:this.setOutputShape(e.OUTPUT_SHAPE_SQUARE),this.setPreviousStatement(!0),this.setNextStatement(!a.isTerminal);break;case wa.a.REPORTER:this.setOutput(!0),this.setOutputShape(e.OUTPUT_SHAPE_ROUND),a.disableMonitor||this.setCheckboxInFlyout(!0);break;case wa.a.BOOLEAN:this.setOutput(!0),this.setOutputShape(e.OUTPUT_SHAPE_HEXAGONAL);break;case wa.a.HAT:case wa.a.EVENT:this.setOutputShape(e.OUTPUT_SHAPE_SQUARE),this.setNextStatement(!0)}(a.color1||a.color2||a.color3)&&this.setColour(a.color1,a.color2,a.color3);const o=a.text,r=[];let s=0;const i=o.replace(/\[(.+?)]/g,(e,t)=>{switch(a.arguments[t].type){case va.a.STRING:r.push({type:"input_value",name:t});break;case va.a.BOOLEAN:r.push({type:"input_value",name:t,check:"Boolean"})}return"%".concat(++s)});this.interpolate_(i,r)}}),Ea=n(277),Ca=n(169),ka=n(215),xa=n(186),Oa=n(278);const Fa=["anyModalVisible","canUseCloud","customProceduresVisible","extensionLibraryVisible","options","stageSize","vm","isRtl","isVisible","onActivateColorPicker","onOpenConnectionModal","onOpenSoundRecorder","updateToolboxState","onActivateCustomProcedures","onRequestCloseExtensionLibrary","onRequestCloseCustomProcedures","toolboxXML","updateMetrics","workspaceMetrics"];function Ta(){return(Ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ia(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Ra=(e,t,n)=>{const a=e[t];e[t]=function(...e){const t=a.apply(this,e);return n.apply(this,t),t}},ja=fa([ba.BACKPACK_CODE])(qt);class Da extends o.a.Component{constructor(e){super(e),this.ScratchBlocks=st(e.vm),window.ScratchBlocks=this.ScratchBlocks,F()(this,["attachVM","detachVM","getToolboxXML","handleCategorySelected","handleConnectionModalStart","handleDrop","handleStatusButtonUpdate","handleOpenSoundRecorder","handlePromptStart","handlePromptCallback","handlePromptClose","handleCustomProceduresClose","onScriptGlowOn","onScriptGlowOff","onBlockGlowOn","onBlockGlowOff","handleExtensionAdded","handleBlocksInfoUpdate","onTargetsUpdate","onVisualReport","onWorkspaceUpdate","onWorkspaceMetricsChange","setBlocks","setLocale"]),this.ScratchBlocks.prompt=this.handlePromptStart,this.ScratchBlocks.statusButtonCallback=this.handleConnectionModalStart,this.ScratchBlocks.recordSoundCallback=this.handleOpenSoundRecorder,this.state={prompt:null},this.onTargetsUpdate=tt()(this.onTargetsUpdate,100),this.toolboxUpdateQueue=[]}componentDidMount(){this.props.vm.setCompilerOptions({warpTimer:!0}),this.ScratchBlocks.FieldColourSlider.activateEyedropper_=this.props.onActivateColorPicker,this.ScratchBlocks.Procedures.externalProcedureDefCallback=this.props.onActivateCustomProcedures,this.ScratchBlocks.ScratchMsgs.setLocale(this.props.locale);const e=at()({},Da.defaultOptions,this.props.options,{rtl:this.props.isRtl,toolbox:this.props.toolboxXML});this.workspace=this.ScratchBlocks.inject(this.blocks,e);const t=this.workspace.getFlyout().getWorkspace(),n=e=>()=>this.ScratchBlocks.Variables.createVariable(this.workspace,null,e);t.registerButtonCallback("MAKE_A_VARIABLE",n("")),t.registerButtonCallback("MAKE_A_LIST",n("list")),t.registerButtonCallback("MAKE_A_PROCEDURE",()=>{this.ScratchBlocks.Procedures.createProcedureDefCallback_(this.workspace)}),t.registerButtonCallback("OPEN_DOCUMENTATION",e=>{const t=e.svgGroup_,n=Array.from(t.classList).find(e=>e.startsWith("docs-uri-"));if(n)try{const e=n.substr("docs-uri-".length),t=new URL(e);if("http:"!==t.protocol&&"https:"!==t.protocol)throw new Error("invalid protocol");window.open(e,"_blank")}catch(e){I.default.warn("cannot open docs URI",e)}}),t.registerButtonCallback("TW_MIGRATION",()=>{window.open("https://github.com/TurboWarp/scratch-gui/discussions/100")}),this._renderedToolboxXML=this.props.toolboxXML,this.setToolboxRefreshEnabled=this.workspace.setToolboxRefreshEnabled.bind(this.workspace),this.workspace.setToolboxRefreshEnabled=()=>{this.setToolboxRefreshEnabled(!1)},Ra(this.workspace,"translate",this.onWorkspaceMetricsChange),Ra(this.workspace,"zoom",this.onWorkspaceMetricsChange),this.attachVM(),this.props.isVisible&&this.setLocale();for(const e of this.props.vm.runtime._blockInfo)this.handleExtensionAdded(e)}shouldComponentUpdate(e,t){return this.state.prompt!==t.prompt||this.props.isVisible!==e.isVisible||this._renderedToolboxXML!==e.toolboxXML||this.props.extensionLibraryVisible!==e.extensionLibraryVisible||this.props.customProceduresVisible!==e.customProceduresVisible||this.props.locale!==e.locale||this.props.anyModalVisible!==e.anyModalVisible||this.props.stageSize!==e.stageSize}componentDidUpdate(e){this.props.anyModalVisible&&!e.anyModalVisible&&this.ScratchBlocks.hideChaff(),this.props.isVisible&&this.props.toolboxXML!==this._renderedToolboxXML&&this.requestToolboxUpdate(),this.props.isVisible!==e.isVisible?this.props.isVisible?(this.workspace.setVisible(!0),e.locale!==this.props.locale||this.props.locale!==this.props.vm.getLocale()?this.setLocale():(this.props.vm.refreshWorkspace(),this.requestToolboxUpdate()),window.dispatchEvent(new Event("resize"))):this.workspace.setVisible(!1):this.props.stageSize!==e.stageSize&&window.dispatchEvent(new Event("resize"))}componentWillUnmount(){this.detachVM(),this.workspace.dispose(),clearTimeout(this.toolboxUpdateTimeout)}requestToolboxUpdate(){clearTimeout(this.toolboxUpdateTimeout),this.toolboxUpdateTimeout=setTimeout(()=>{this.updateToolbox()},0)}setLocale(){this.ScratchBlocks.ScratchMsgs.setLocale(this.props.locale),this.props.vm.setLocale(this.props.locale,this.props.messages).then(()=>{this.workspace.getFlyout().setRecyclingEnabled(!1),this.props.vm.refreshWorkspace(),this.requestToolboxUpdate(),this.withToolboxUpdates(()=>{this.workspace.getFlyout().setRecyclingEnabled(!0)})})}updateToolbox(){this.toolboxUpdateTimeout=!1;const e=this.workspace.toolbox_.getSelectedCategoryId(),t=this.workspace.toolbox_.getCategoryScrollOffset();this.workspace.updateToolbox(this.props.toolboxXML),this._renderedToolboxXML=this.props.toolboxXML,this.workspace.toolboxRefreshEnabled_=!0;const n=this.workspace.toolbox_.getCategoryPositionById(e);t<this.workspace.toolbox_.getCategoryLengthById(e)?this.workspace.toolbox_.setFlyoutScrollPos(n+t):this.workspace.toolbox_.setFlyoutScrollPos(n);const a=this.toolboxUpdateQueue;this.toolboxUpdateQueue=[],a.forEach(e=>e())}withToolboxUpdates(e){this.toolboxUpdateTimeout?this.toolboxUpdateQueue.push(e):e()}attachVM(){this.workspace.addChangeListener(this.props.vm.blockListener),this.flyoutWorkspace=this.workspace.getFlyout().getWorkspace(),this.flyoutWorkspace.addChangeListener(this.props.vm.flyoutBlockListener),this.flyoutWorkspace.addChangeListener(this.props.vm.monitorBlockListener),this.props.vm.addListener("SCRIPT_GLOW_ON",this.onScriptGlowOn),this.props.vm.addListener("SCRIPT_GLOW_OFF",this.onScriptGlowOff),this.props.vm.addListener("BLOCK_GLOW_ON",this.onBlockGlowOn),this.props.vm.addListener("BLOCK_GLOW_OFF",this.onBlockGlowOff),this.props.vm.addListener("VISUAL_REPORT",this.onVisualReport),this.props.vm.addListener("workspaceUpdate",this.onWorkspaceUpdate),this.props.vm.addListener("targetsUpdate",this.onTargetsUpdate),this.props.vm.addListener("EXTENSION_ADDED",this.handleExtensionAdded),this.props.vm.addListener("BLOCKSINFO_UPDATE",this.handleBlocksInfoUpdate),this.props.vm.addListener("PERIPHERAL_CONNECTED",this.handleStatusButtonUpdate),this.props.vm.addListener("PERIPHERAL_DISCONNECTED",this.handleStatusButtonUpdate)}detachVM(){this.props.vm.removeListener("SCRIPT_GLOW_ON",this.onScriptGlowOn),this.props.vm.removeListener("SCRIPT_GLOW_OFF",this.onScriptGlowOff),this.props.vm.removeListener("BLOCK_GLOW_ON",this.onBlockGlowOn),this.props.vm.removeListener("BLOCK_GLOW_OFF",this.onBlockGlowOff),this.props.vm.removeListener("VISUAL_REPORT",this.onVisualReport),this.props.vm.removeListener("workspaceUpdate",this.onWorkspaceUpdate),this.props.vm.removeListener("targetsUpdate",this.onTargetsUpdate),this.props.vm.removeListener("EXTENSION_ADDED",this.handleExtensionAdded),this.props.vm.removeListener("BLOCKSINFO_UPDATE",this.handleBlocksInfoUpdate),this.props.vm.removeListener("PERIPHERAL_CONNECTED",this.handleStatusButtonUpdate),this.props.vm.removeListener("PERIPHERAL_DISCONNECTED",this.handleStatusButtonUpdate)}updateToolboxBlockValue(e,t){this.withToolboxUpdates(()=>{const n=this.workspace.getFlyout().getWorkspace().getBlockById(e);n&&n.inputList[0].fieldRow[0].setValue(t)})}onTargetsUpdate(){this.props.vm.editingTarget&&this.workspace.getFlyout()&&["glide","move","set"].forEach(e=>{this.updateToolboxBlockValue("".concat(e,"x"),Math.round(this.props.vm.editingTarget.x).toString()),this.updateToolboxBlockValue("".concat(e,"y"),Math.round(this.props.vm.editingTarget.y).toString())})}onWorkspaceMetricsChange(){const e=this.props.vm.editingTarget;e&&e.id&&setTimeout(()=>{this.props.updateMetrics({targetID:e.id,scrollX:this.workspace.scrollX,scrollY:this.workspace.scrollY,scale:this.workspace.scale})},0)}onScriptGlowOn(e){this.workspace.glowStack(e.id,!0)}onScriptGlowOff(e){this.workspace.glowStack(e.id,!1)}onBlockGlowOn(e){this.workspace.glowBlock(e.id,!0)}onBlockGlowOff(e){this.workspace.glowBlock(e.id,!1)}onVisualReport(e){this.workspace.reportValue(e.id,e.value)}getToolboxXML(){try{let{editingTarget:e,runtime:t}=this.props.vm;const n=t.getTargetForStage();e||(e=n);const a=n.getCostumes(),o=e.getCostumes(),r=e.getSounds(),s=this.props.vm.runtime.getBlocksXML(e);return Object(ot.a)(!1,e.isStage,e.id,s,o[o.length-1].name,a[a.length-1].name,r.length>0?r[r.length-1].name:"")}catch(e){return null}}onWorkspaceUpdate(e){const t=this.getToolboxXML();t&&this.props.updateToolboxState(t),this.props.vm.editingTarget&&!this.props.workspaceMetrics.targets[this.props.vm.editingTarget.id]&&this.onWorkspaceMetricsChange(),this.workspace.removeChangeListener(this.props.vm.blockListener);const n=this.ScratchBlocks.Xml.textToDom(e.xml);try{this.ScratchBlocks.Xml.clearWorkspaceAndLoadFromXml(n,this.workspace)}catch(e){e.message&&(e.message="Workspace Update Error: ".concat(e.message)),I.default.error(e)}if(this.workspace.addChangeListener(this.props.vm.blockListener),this.props.vm.editingTarget&&this.props.workspaceMetrics.targets[this.props.vm.editingTarget.id]){const{scrollX:e,scrollY:t,scale:n}=this.props.workspaceMetrics.targets[this.props.vm.editingTarget.id];this.workspace.scrollX=e,this.workspace.scrollY=t,this.workspace.scale=n,this.workspace.resize()}this.workspace.clearUndo()}handleExtensionAdded(e){const t=t=>{if(t&&t.length>0){const n=[],a=[];t.forEach(e=>{e.info&&e.info.isDynamic?a.push(e):e.json&&n.push(e.json)}),this.ScratchBlocks.defineBlocksWithJsonArray(n),a.forEach(t=>{const n="".concat(e.id,"_").concat(t.info.opcode),a=Sa(this.ScratchBlocks,e,t,n);this.ScratchBlocks.Blocks[n]=a})}};t(Object.getOwnPropertyNames(e.customFieldTypes).map(t=>e.customFieldTypes[t].scratchBlocksDefinition)),t(e.menus),t(e.blocks);const n=this.getToolboxXML();n&&this.props.updateToolboxState(n)}handleBlocksInfoUpdate(e){this.handleExtensionAdded(e)}handleCategorySelected(e){const t=Gt.a.find(t=>t.extensionId===e);t&&t.launchPeripheralConnectionFlow&&this.handleConnectionModalStart(e),this.withToolboxUpdates(()=>{this.workspace.toolbox_.setSelectedCategoryById(e)})}setBlocks(e){this.blocks=e}handlePromptStart(e,t,n,a,o){const r={prompt:{callback:n,message:e,defaultValue:t}};r.prompt.title=a||this.ScratchBlocks.Msg.VARIABLE_MODAL_TITLE,r.prompt.varType="string"==typeof o?o:this.ScratchBlocks.SCALAR_VARIABLE_TYPE,r.prompt.showVariableOptions=o!==this.ScratchBlocks.BROADCAST_MESSAGE_VARIABLE_TYPE&&r.prompt.title!==this.ScratchBlocks.Msg.RENAME_VARIABLE_MODAL_TITLE&&r.prompt.title!==this.ScratchBlocks.Msg.RENAME_LIST_MODAL_TITLE,r.prompt.showCloudOption=o===this.ScratchBlocks.SCALAR_VARIABLE_TYPE&&this.props.canUseCloud,this.setState(r)}handleConnectionModalStart(e){this.props.onOpenConnectionModal(e)}handleStatusButtonUpdate(){this.ScratchBlocks.refreshStatusButtons(this.workspace)}handleOpenSoundRecorder(){this.props.onOpenSoundRecorder()}handlePromptCallback(e,t){this.state.prompt.callback(e,this.props.vm.runtime.getAllVarNamesOfType(this.state.prompt.varType),t),this.handlePromptClose()}handlePromptClose(){this.setState({prompt:null})}handleCustomProceduresClose(e){this.props.onRequestCloseCustomProcedures(e);const t=this.workspace;t.refreshToolboxSelection_(),t.toolbox_.scrollToCategoryById("myBlocks")}handleDrop(e){fetch(e.payload.bodyUrl).then(e=>e.json()).then(e=>this.props.vm.shareBlocksToTarget(e,this.props.vm.editingTarget.id)).then(()=>{this.props.vm.refreshWorkspace(),this.updateToolbox()})}render(){const e=this.props,{anyModalVisible:t,canUseCloud:n,customProceduresVisible:a,extensionLibraryVisible:r,options:s,stageSize:i,vm:l,isRtl:c,isVisible:d,onActivateColorPicker:u,onOpenConnectionModal:p,onOpenSoundRecorder:m,updateToolboxState:h,onActivateCustomProcedures:g,onRequestCloseExtensionLibrary:f,onRequestCloseCustomProcedures:b,toolboxXML:_,updateMetrics:v,workspaceMetrics:y}=e,w=Ia(e,Fa);return o.a.createElement(o.a.Fragment,null,o.a.createElement(ja,Ta({componentRef:this.setBlocks,onDrop:this.handleDrop},w)),this.state.prompt?o.a.createElement(At,{defaultValue:this.state.prompt.defaultValue,isStage:l.runtime.getEditingTarget().isStage,label:this.state.prompt.message,showCloudOption:this.state.prompt.showCloudOption,showVariableOptions:this.state.prompt.showVariableOptions,title:this.state.prompt.title,vm:l,onCancel:this.handlePromptClose,onOk:this.handlePromptCallback}):null,r?o.a.createElement(ea,{vm:l,onCategorySelected:this.handleCategorySelected,onRequestClose:f}):null,a?o.a.createElement(ma,{options:{media:s.media},onRequestClose:this.handleCustomProceduresClose}):null)}}Da.propTypes={anyModalVisible:s.a.bool,canUseCloud:s.a.bool,customProceduresVisible:s.a.bool,extensionLibraryVisible:s.a.bool,isRtl:s.a.bool,isVisible:s.a.bool,locale:s.a.string.isRequired,messages:s.a.objectOf(s.a.string),onActivateColorPicker:s.a.func,onActivateCustomProcedures:s.a.func,onOpenConnectionModal:s.a.func,onOpenSoundRecorder:s.a.func,onRequestCloseCustomProcedures:s.a.func,onRequestCloseExtensionLibrary:s.a.func,options:s.a.shape({media:s.a.string,zoom:s.a.shape({controls:s.a.bool,wheel:s.a.bool,startScale:s.a.number}),colours:s.a.shape({workspace:s.a.string,flyout:s.a.string,toolbox:s.a.string,toolboxSelected:s.a.string,scrollbar:s.a.string,scrollbarHover:s.a.string,insertionMarker:s.a.string,insertionMarkerOpacity:s.a.number,fieldShadow:s.a.string,dragShadowOpacity:s.a.number}),comments:s.a.bool,collapse:s.a.bool}),stageSize:s.a.oneOf(Object.keys(ha.c)).isRequired,toolboxXML:s.a.string,updateMetrics:s.a.func,updateToolboxState:s.a.func,vm:s.a.instanceOf(p.a).isRequired,workspaceMetrics:s.a.shape({targets:s.a.objectOf(s.a.object)})},Da.defaultOptions={zoom:{controls:!0,wheel:!0,startScale:ha.a},grid:{spacing:40,length:2,colour:"#ddd"},colours:{workspace:"#F9F9F9",flyout:"#F9F9F9",toolbox:"#FFFFFF",toolboxSelected:"#E9EEF2",scrollbar:"#CECDCE",scrollbarHover:"#CECDCE",insertionMarker:"#000000",insertionMarkerOpacity:.2,fieldShadow:"rgba(255, 255, 255, 0.3)",dragShadowOpacity:.6},comments:!0,collapse:!1,sounds:!1},Da.defaultProps={isVisible:!0,options:Da.defaultOptions};var Aa=Object(h.a)("Blocks")(Object(l.b)(e=>({anyModalVisible:Object.keys(e.scratchGui.modals).some(t=>e.scratchGui.modals[t])||e.scratchGui.mode.isFullScreen,extensionLibraryVisible:e.scratchGui.modals.extensionLibrary,isRtl:e.locales.isRtl,locale:e.locales.locale,messages:e.locales.messages,toolboxXML:e.scratchGui.toolbox.toolboxXML,customProceduresVisible:e.scratchGui.customProcedures.active,workspaceMetrics:e.scratchGui.workspaceMetrics}),e=>({onActivateColorPicker:t=>e(Object(Ca.a)(t)),onActivateCustomProcedures:(t,n)=>e(Object(ka.a)(t,n)),onOpenConnectionModal:t=>{e(Object(xa.c)(t)),e(Object(b.p)())},onOpenSoundRecorder:()=>{e(Object(f.d)(f.c)),e(Object(b.v)())},onRequestCloseExtensionLibrary:()=>{e(Object(b.d)())},onRequestCloseCustomProcedures:t=>{e(Object(ka.c)(t))},updateToolboxState:t=>{e(Object(Ea.c)(t))},updateMetrics:t=>{e(Object(Oa.b)(t))}}))(Da)),Pa=n(131),Ma=n(271),Na=n(159);const La=function(){let e,t;return function(n){if(e===n.assetId)return t;if(e=n.assetId,n.assetType===R.a.AssetType.ImageVector){const e=n.decodeText();if(e.match('font-family(?!="none")')){const n=Object(Na.inlineSvgFonts)(e);t="data:image/svg+xml;utf8,".concat(encodeURIComponent(n))}else t=n.encodeDataURI()}else t=n.encodeDataURI();return t}}(),Ba=e=>e.touches&&e.touches[0]?{x:e.touches[0].clientX,y:e.touches[0].clientY}:e.changedTouches&&e.changedTouches[0]?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY};class Ua{static get STATE_UNIDENTIFIED(){return"unidentified"}static get STATE_SCROLL(){return"scroll"}static get STATE_DRAG(){return"drag"}constructor({onDrag:e=(()=>{}),onDragEnd:t=(()=>{}),touchDragAngle:n=70,distanceThreshold:a=3}){this._onDrag=e,this._onDragEnd=t,this._touchDragAngle=n,this._distanceThreshold=a,this._initialOffset=null,this._gestureState=Ua.STATE_UNIDENTIFIED,F()(this,["start","gestureInProgress","reset","_handleMove","_handleEnd"])}start(e){this._initialOffset=Ba(e),this._bindListeners()}gestureInProgress(){return this._gestureState!==Ua.STATE_UNIDENTIFIED}reset(){this._unbindListeners(),this._initialOffset=null,this._gestureState=Ua.STATE_UNIDENTIFIED}_bindListeners(){window.addEventListener("mouseup",this._handleEnd),window.addEventListener("mousemove",this._handleMove),window.addEventListener("touchend",this._handleEnd),window.addEventListener("touchmove",this._handleMove,{passive:!1})}_unbindListeners(){window.removeEventListener("mouseup",this._handleEnd),window.removeEventListener("mousemove",this._handleMove),window.removeEventListener("touchend",this._handleEnd),window.removeEventListener("touchmove",this._handleMove,{passive:!1})}_handleMove(e){if(this._isScroll())return;const t=Ba(e);if(!this.gestureInProgress()){const n=t.x-this._initialOffset.x,a=t.y-this._initialOffset.y;if(Math.sqrt(n*n+a*a)<this._distanceThreshold)return;if("touchmove"===e.type){let e=Math.atan2(a,n)/Math.PI*180;e=Math.abs(e),e>90&&(e=180-e),e>this._touchDragAngle?this._gestureState=Ua.STATE_SCROLL:this._gestureState=Ua.STATE_DRAG}else this._gestureState=Ua.STATE_DRAG}this._isDrag()&&(this._onDrag(t,this._initialOffset),e.preventDefault())}_handleEnd(){this.reset(),this._onDragEnd()}_isDrag(){return this._gestureState===Ua.STATE_DRAG}_isScroll(){return this._gestureState===Ua.STATE_SCROLL}}var qa=Ua,Ga=n(355),za=n.n(Ga),Ha=n(765),Wa=n.n(Ha);const Va=e=>o.a.createElement("div",{"aria-label":"Delete",className:Ve()(za.a.deleteButton,e.className),role:"button",tabIndex:e.tabIndex,onClick:e.onClick},o.a.createElement("div",{className:za.a.deleteButtonVisible},o.a.createElement("img",{className:za.a.deleteIcon,src:Wa.a})));Va.propTypes={className:s.a.string,onClick:s.a.func.isRequired,tabIndex:s.a.number},Va.defaultProps={tabIndex:0};var Ka=Va,Xa=n(117),Qa=n.n(Xa),Ya=n(134),Ja=n(174),Za=n.n(Ja);function $a(){return($a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const eo=e=>o.a.createElement(Ya.a,$a({},e,{className:Za.a.contextMenu})),to=e=>o.a.createElement(Ya.c,$a({},e,{attributes:{className:Za.a.menuItem}})),no=e=>o.a.createElement(Ya.c,$a({},e,{attributes:{className:Ve()(Za.a.menuItem,Za.a.menuItemBordered)}})),ao=e=>o.a.createElement(Ya.c,$a({},e,{attributes:{className:Ve()(Za.a.menuItem,Za.a.menuItemBordered,Za.a.menuItemDanger)}}));let oo=0;const ro=e=>o.a.createElement(Ya.b,{attributes:{className:Ve()(e.className,Qa.a.spriteSelectorItem,{[Qa.a.isSelected]:e.selected}),onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,onTouchStart:e.onMouseDown},disable:e.preventContextMenu,id:"".concat(e.name,"-").concat(oo),ref:e.componentRef},void 0===e.number?null:o.a.createElement("div",{className:Qa.a.number},e.number),e.costumeURL?o.a.createElement("div",{className:Qa.a.spriteImageOuter},o.a.createElement("div",{className:Qa.a.spriteImageInner},o.a.createElement("img",{className:Qa.a.spriteImage,draggable:!1,src:e.costumeURL}))):null,o.a.createElement("div",{className:Qa.a.spriteInfo},o.a.createElement("div",{className:Qa.a.spriteName},e.name),e.details?o.a.createElement("div",{className:Qa.a.spriteDetails},e.details):null),e.selected&&e.onDeleteButtonClick?o.a.createElement(Ka,{className:Qa.a.deleteButton,onClick:e.onDeleteButtonClick}):null,e.onDuplicateButtonClick||e.onDeleteButtonClick||e.onExportButtonClick?o.a.createElement(eo,{id:"".concat(e.name,"-").concat(oo++)},e.onDuplicateButtonClick?o.a.createElement(to,{onClick:e.onDuplicateButtonClick},o.a.createElement(m.a,{defaultMessage:"duplicate",id:"gui.spriteSelectorItem.contextMenuDuplicate"})):null,e.onExportButtonClick?o.a.createElement(to,{onClick:e.onExportButtonClick},o.a.createElement(m.a,{defaultMessage:"export",id:"gui.spriteSelectorItem.contextMenuExport"})):null,e.onRenameButtonClick?o.a.createElement(to,{onClick:e.onRenameButtonClick},o.a.createElement(m.a,{defaultMessage:"rename",id:"tw.spriteSelectorItem.rename"})):null,e.onDeleteButtonClick?o.a.createElement(ao,{onClick:e.onDeleteButtonClick},o.a.createElement(m.a,{defaultMessage:"delete",id:"gui.spriteSelectorItem.contextMenuDelete"})):null):null);ro.propTypes={className:s.a.string,componentRef:s.a.func,costumeURL:s.a.string,details:s.a.string,name:s.a.any,number:s.a.number,onClick:s.a.func,onDeleteButtonClick:s.a.func,onDuplicateButtonClick:s.a.func,onExportButtonClick:s.a.func,onRenameButtonClick:s.a.func,onMouseDown:s.a.func,onMouseEnter:s.a.func,onMouseLeave:s.a.func,preventContextMenu:s.a.bool,selected:s.a.bool.isRequired};var so=ro;const io=["asset","id","index","onClick","onDeleteButtonClick","onDuplicateButtonClick","onExportButtonClick","onRenameButtonClick","dragPayload","receivedBlocks","costumeURL","vm"];function lo(){return(lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function co(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class uo extends o.a.PureComponent{constructor(e){super(e),F()(this,["getCostumeData","setRef","handleClick","handleDelete","handleDuplicate","handleExport","handleRename","handleMouseEnter","handleMouseLeave","handleMouseDown","handleDragEnd","handleDrag","handleTouchEnd"]),this.dragRecognizer=new qa({onDrag:this.handleDrag,onDragEnd:this.handleDragEnd})}componentDidMount(){document.addEventListener("touchend",this.handleTouchEnd)}componentWillUnmount(){document.removeEventListener("touchend",this.handleTouchEnd),this.dragRecognizer.reset()}getCostumeData(){return this.props.costumeURL?this.props.costumeURL:this.props.asset?La(this.props.asset):null}handleDragEnd(){this.props.dragging&&this.props.onDrag({img:null,currentOffset:null,dragging:!1,dragType:null,index:null}),setTimeout(()=>{this.noClick=!1})}handleDrag(e){this.props.onDrag({img:this.getCostumeData(),currentOffset:e,dragging:!0,dragType:this.props.dragType,index:this.props.index,payload:this.props.dragPayload}),this.noClick=!0}handleTouchEnd(e){const{x:t,y:n}=Ba(e),{top:a,left:o,bottom:r,right:s}=this.ref.getBoundingClientRect();t>=o&&t<=s&&n>=a&&n<=r&&this.handleMouseEnter()}handleMouseDown(e){this.dragRecognizer.start(e)}handleClick(e){e.preventDefault(),this.noClick||this.props.onClick(this.props.id)}handleDelete(e){e.stopPropagation(),this.props.onDeleteButtonClick(this.props.id)}handleDuplicate(e){e.stopPropagation(),this.props.onDuplicateButtonClick(this.props.id)}handleExport(e){e.stopPropagation(),this.props.onExportButtonClick(this.props.id)}handleRename(e){e.stopPropagation(),this.props.onRenameButtonClick(this.props.id)}handleMouseLeave(){this.props.dispatchSetHoveredSprite(null)}handleMouseEnter(){this.props.dispatchSetHoveredSprite(this.props.id)}setRef(e){this.ref=e&&e.elem}render(){const e=this.props,{asset:t,id:n,index:a,onClick:r,onDeleteButtonClick:s,onDuplicateButtonClick:i,onExportButtonClick:l,onRenameButtonClick:c,dragPayload:d,receivedBlocks:u,costumeURL:p,vm:m}=e,h=co(e,io);return o.a.createElement(so,lo({componentRef:this.setRef,costumeURL:this.getCostumeData(),preventContextMenu:this.dragRecognizer.gestureInProgress(),onClick:this.handleClick,onDeleteButtonClick:s?this.handleDelete:null,onDuplicateButtonClick:i?this.handleDuplicate:null,onExportButtonClick:l?this.handleExport:null,onRenameButtonClick:c?this.handleRename:null,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},h))}}uo.propTypes={asset:s.a.any,costumeURL:s.a.string,dispatchSetHoveredSprite:s.a.func.isRequired,dragPayload:s.a.any,dragType:s.a.string,dragging:s.a.bool,id:s.a.any,index:s.a.number,name:s.a.any,onClick:s.a.func,onDeleteButtonClick:s.a.func,onRenameButtonClick:s.a.func,onDrag:s.a.func.isRequired,onDuplicateButtonClick:s.a.func,onExportButtonClick:s.a.func,receivedBlocks:s.a.bool.isRequired,selected:s.a.bool,vm:s.a.instanceOf(p.a).isRequired};var po=Object(l.b)((e,{id:t})=>({dragging:e.scratchGui.assetDrag.dragging,receivedBlocks:e.scratchGui.hoveredTarget.receivedBlocks&&e.scratchGui.hoveredTarget.sprite===t,vm:e.scratchGui.vm}),e=>({dispatchSetHoveredSprite:t=>{e(Object(Pa.c)(t))},onDrag:t=>e(Object(Ma.c)(t))}))(uo),mo=n(65),ho=n.n(mo),go=n(76),fo=n.n(go);class bo extends o.a.Component{constructor(e){super(e),F()(this,["clickDelayer","handleClosePopover","handleToggleOpenState","handleTouchStart","handleTouchOutside","setButtonRef","setContainerRef"]),this.state={isOpen:!1,forceHide:!1},this.mainTooltipId="tooltip-".concat(Math.random())}componentDidMount(){this.buttonRef.addEventListener("touchstart",this.handleTouchStart),document.addEventListener("touchstart",this.handleTouchOutside)}shouldComponentUpdate(e,t){return t.isOpen!==this.state.isOpen||t.forceHide!==this.state.forceHide||e.title!==this.props.title}componentWillUnmount(){this.buttonRef.removeEventListener("touchstart",this.handleTouchStart),document.removeEventListener("touchstart",this.handleTouchOutside)}handleClosePopover(){this.closeTimeoutId=setTimeout(()=>{this.setState({isOpen:!1}),this.closeTimeoutId=null},300)}handleToggleOpenState(){this.closeTimeoutId?(clearTimeout(this.closeTimeoutId),this.closeTimeoutId=null):this.state.isOpen||this.setState({isOpen:!0,forceHide:!1})}handleTouchOutside(e){this.state.isOpen&&!this.containerRef.contains(e.target)&&(this.setState({isOpen:!1}),ho.a.hide())}clickDelayer(e){return t=>{ho.a.hide(),e&&e(t),this.buttonRef.blur(),this.setState({forceHide:!0,isOpen:!1},()=>{setTimeout(()=>this.setState({forceHide:!1}))})}}handleTouchStart(e){this.state.isOpen||(e.preventDefault(),this.handleToggleOpenState())}setButtonRef(e){this.buttonRef=e}setContainerRef(e){this.containerRef=e}render(){const{className:e,img:t,title:n,moreButtons:a,tooltipPlace:r,onClick:s}=this.props;return o.a.createElement("div",{className:Ve()(fo.a.menuContainer,e,{[fo.a.expanded]:this.state.isOpen,[fo.a.forceHidden]:this.state.forceHide}),ref:this.setContainerRef,onMouseEnter:this.handleToggleOpenState,onMouseLeave:this.handleClosePopover},o.a.createElement("button",{"aria-label":n,className:Ve()(fo.a.button,fo.a.mainButton),"data-for":this.mainTooltipId,"data-tip":n,ref:this.setButtonRef,onClick:this.clickDelayer(s)},o.a.createElement("img",{className:fo.a.mainIcon,draggable:!1,src:t})),o.a.createElement(ho.a,{className:fo.a.tooltip,effect:"solid",id:this.mainTooltipId,place:r||"left"}),o.a.createElement("div",{className:fo.a.moreButtonsOuter},o.a.createElement("div",{className:fo.a.moreButtons},(a||[]).map(({img:e,title:t,onClick:n,fileAccept:a,fileChange:s,fileInput:i,fileMultiple:l},c)=>{const d=!n,u=i,p="".concat(this.mainTooltipId,"-").concat(t);return o.a.createElement("div",{key:"".concat(p,"-").concat(c)},o.a.createElement("button",{"aria-label":t,className:Ve()(fo.a.button,fo.a.moreButton,{[fo.a.comingSoon]:d}),"data-for":p,"data-tip":t,onClick:u?n:this.clickDelayer(n)},o.a.createElement("img",{className:fo.a.moreIcon,draggable:!1,src:e}),u?o.a.createElement("input",{accept:a,className:fo.a.fileInput,multiple:l,ref:i,type:"file",onChange:s}):null),o.a.createElement(ho.a,{className:Ve()(fo.a.tooltip,{[fo.a.comingSoonTooltip]:d}),effect:"solid",id:p,place:r||"left"}))}))))}}bo.propTypes={className:s.a.string,img:s.a.string,moreButtons:s.a.arrayOf(s.a.shape({img:s.a.string,title:s.a.node.isRequired,onClick:s.a.func,fileAccept:s.a.string,fileChange:s.a.func,fileInput:s.a.func,fileMultiple:s.a.bool})),onClick:s.a.func.isRequired,title:s.a.node.isRequired,tooltipPlace:s.a.string};var _o=bo;class vo extends o.a.Component{constructor(e){super(e),F()(this,["setRef"])}componentDidMount(){this.props.onAddSortable(this.ref)}componentWillUnmount(){this.props.onRemoveSortable(this.ref)}setRef(e){this.ref=e}render(){return o.a.createElement("div",{className:this.props.className,ref:this.setRef,style:{order:this.props.index}},this.props.children)}}vo.propTypes={children:s.a.node.isRequired,className:s.a.string,index:s.a.number.isRequired,onAddSortable:s.a.func.isRequired,onRemoveSortable:s.a.func.isRequired};var yo=vo;function wo(){return(wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var So=function(e){class t extends o.a.Component{constructor(e){super(e),F()(this,["setRef","handleAddSortable","handleRemoveSortable"]),this.sortableRefs=[],this.boxes=null,this.ref=null,this.containerBox=null}componentWillReceiveProps(e){if(e.dragInfo.dragging&&!this.props.dragInfo.dragging){if(this.boxes=this.sortableRefs.map(e=>e&&e.getBoundingClientRect()),this.boxes.sort((e,t)=>e.top===t.top?(e.left-t.left)*(this.props.isRtl?-1:1):e.top-t.top),!this.ref)throw new Error("The containerRef must be assigned to the sortable area");this.containerBox=this.ref.getBoundingClientRect()}else if(!e.dragInfo.dragging&&this.props.dragInfo.dragging){const e=this.getMouseOverIndex();null!==e&&this.props.onDrop(Object.assign({},this.props.dragInfo,{newIndex:e}))}}handleAddSortable(e){this.sortableRefs.push(e)}handleRemoveSortable(e){const t=this.sortableRefs.indexOf(e);this.sortableRefs=this.sortableRefs.slice(0,t).concat(this.sortableRefs.slice(t+1))}getOrdering(e,t,n){let a=Array(this.props.items.length).fill(0).map((e,t)=>t);const o=e=>"number"==typeof e&&!isNaN(e);return o(t)&&o(n)&&(a=a.slice(0,t).concat(a.slice(t+1)),a.splice(n,0,t)),a}getMouseOverIndex(){let e=null;if(this.props.dragInfo.currentOffset){const{x:t,y:n}=this.props.dragInfo.currentOffset,{top:a,left:o,bottom:r,right:s}=this.containerBox;t>=o&&t<=s&&n>=a&&n<=r&&(e=0===this.boxes.length?0:(({x:e,y:t},n,a)=>{if(0===n.length)return null;let o=null;const r=Math.min.apply(null,n.map(e=>e.left)),s=Math.max.apply(null,n.map(e=>e.right)),i=Math.min.apply(null,n.map(e=>e.top)),l=Math.max.apply(null,n.map(e=>e.bottom));for(let c=0;c<n.length;c++){const d=n[c];let u=d.left===r?-1/0:d.left,p=d.right===s?1/0:d.right;const m=d.top===i?-1/0:d.top,h=d.bottom===l?1/0:d.bottom;if(c===n.length-1&&(a?u=-1/0:p=1/0),e>=u&&e<=p&&t>=m&&t<=h){o=c;break}}return o})(this.props.dragInfo.currentOffset,this.boxes,this.props.isRtl))}return e}setRef(e){this.ref=e}render(){const{dragInfo:{index:t,dragType:n},items:a}=this.props,r=this.getMouseOverIndex(),s=this.getOrdering(a,t,r);return o.a.createElement(e,wo({containerRef:this.setRef,draggingIndex:t,draggingType:n,mouseOverIndex:r,ordering:s,onAddSortable:this.handleAddSortable,onRemoveSortable:this.handleRemoveSortable},this.props))}}t.propTypes={dragInfo:s.a.shape({currentOffset:s.a.shape({x:s.a.number,y:s.a.number}),dragType:s.a.string,dragging:s.a.bool,index:s.a.number}),items:s.a.arrayOf(s.a.shape({url:s.a.string,name:s.a.string.isRequired})),onClose:s.a.func,onDrop:s.a.func,isRtl:s.a.bool};return Object(l.b)(e=>({dragInfo:e.scratchGui.assetDrag,isRtl:e.locales.isRtl}),()=>({}))(t)},Eo=n(222),Co=n.n(Eo);const ko=e=>{const{buttons:t,containerRef:n,dragType:a,isRtl:r,items:s,selectedItemIndex:i,draggingIndex:l,draggingType:c,ordering:d,onAddSortable:u,onRemoveSortable:p,onDeleteClick:m,onDuplicateClick:h,onExportClick:g,onItemClick:f}=e,b=c===a;let _=null;if(t.length>0){const{img:e,title:n,onClick:a}=t[0],s=t.slice(1);_=o.a.createElement(it.a,{className:Co.a.newButtons},o.a.createElement(_o,{img:e,moreButtons:s,title:n,tooltipPlace:r?"left":"right",onClick:a}))}return o.a.createElement(it.a,{className:Co.a.wrapper,componentRef:n},o.a.createElement(it.a,{className:Co.a.listArea},s.map((e,t)=>o.a.createElement(yo,{id:e.name,index:b?d.indexOf(t):t,key:e.name,onAddSortable:u,onRemoveSortable:p},o.a.createElement(po,{asset:e.asset,className:Ve()(Co.a.listItem,{[Co.a.placeholder]:b&&t===l}),costumeURL:e.url,details:e.details,dragPayload:e.dragPayload,dragType:a,id:t,index:t,name:e.name,number:t+1,selected:t===i,onClick:f,onDeleteButtonClick:m,onDuplicateButtonClick:h,onExportButtonClick:g})))),_)};ko.propTypes={buttons:s.a.arrayOf(s.a.shape({title:s.a.string.isRequired,img:s.a.string.isRequired,onClick:s.a.func})),containerRef:s.a.func,dragType:s.a.oneOf(Object.keys(ba)),draggingIndex:s.a.number,draggingType:s.a.oneOf(Object.keys(ba)),isRtl:s.a.bool,items:s.a.arrayOf(s.a.shape({url:s.a.string,name:s.a.any})),onAddSortable:s.a.func,onDeleteClick:s.a.func,onDuplicateClick:s.a.func,onExportClick:s.a.func,onItemClick:s.a.func.isRequired,onRemoveSortable:s.a.func,ordering:s.a.arrayOf(s.a.number),selectedItemIndex:s.a.number.isRequired};var xo=So(ko),Oo=n(356),Fo=n.n(Oo);function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ro(){return(Ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const jo=e=>o.a.createElement(it.a,{className:Fo.a.wrapper},o.a.createElement(xo,Ro({className:Fo.a.selector},e)),o.a.createElement(it.a,{className:Fo.a.detailArea},e.children));jo.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach((function(t){Io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},xo.propTypes);var Do=jo,Ao=n(419);const Po=["selectedCostumeIndex","vm"];function Mo(){return(Mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function No(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class Lo extends o.a.Component{constructor(e){super(e),F()(this,["handleUpdateImage","handleUpdateName"])}shouldComponentUpdate(e){return this.props.imageId!==e.imageId||this.props.rtl!==e.rtl||this.props.name!==e.name}handleUpdateName(e){this.props.vm.renameCostume(this.props.selectedCostumeIndex,e)}handleUpdateImage(e,t,n,a){e?this.props.vm.updateSvg(this.props.selectedCostumeIndex,t,n,a):this.props.vm.updateBitmap(this.props.selectedCostumeIndex,t,n,a,2)}render(){if(!this.props.imageId)return null;const e=this.props,{selectedCostumeIndex:t,vm:n}=e,a=No(e,Po);return o.a.createElement(Ao.default,Mo({},a,{image:n.getCostume(t),onUpdateImage:this.handleUpdateImage,onUpdateName:this.handleUpdateName,fontInlineFn:Na.inlineSvgFonts}))}}Lo.propTypes={imageFormat:s.a.string.isRequired,imageId:s.a.string.isRequired,name:s.a.string,rotationCenterX:s.a.number,rotationCenterY:s.a.number,rtl:s.a.bool,selectedCostumeIndex:s.a.number.isRequired,vm:s.a.instanceOf(p.a)};var Bo=Object(l.b)((e,{selectedCostumeIndex:t})=>{const n=e.scratchGui.vm.editingTarget.id,a=e.scratchGui.vm.editingTarget.sprite,o=t<a.costumes.length?t:a.costumes.length-1,r=e.scratchGui.vm.editingTarget.sprite.costumes[o];return{name:r&&r.name,rotationCenterX:r&&r.rotationCenterX,rotationCenterY:r&&r.rotationCenterY,imageFormat:r&&r.dataFormat,imageId:n&&"".concat(n).concat(r.skinId),rtl:e.locales.isRtl,selectedCostumeIndex:o,vm:e.scratchGui.vm,zoomLevelId:n}})(Lo);var Uo=e=>{e.x=Math.floor(200*Math.random()-100),e.y=Math.floor(100*Math.random()-50)},qo=n(766),Go=n(113);var zo=e=>{try{const t=new Uint8Array(e),n=(new Go.TextDecoder).decode(t),a=(new DOMParser).parseFromString(n,"text/xml"),o=a.children[0];if("100%"===o.height.baseVal.valueAsString&&"100%"===o.width.baseVal.valueAsString){o.removeAttribute("height"),o.removeAttribute("width");const e=a.documentElement.outerHTML;return(new Go.TextEncoder).encode(e).buffer}return e}catch(t){return e}},Ho=n(35);const Wo=function(e,t,n){const a=(o,r)=>{if(o===r.length)return void(e.value=null);const s=r[o],i=new FileReader;i.onload=()=>{const e=s.type,n=s.name.split(".",1)[0];t(i.result,e,n,o,r.length),a(o+1,r)},i.onerror=n,i.readAsArrayBuffer(s)};a(0,e.files)},Vo=function(e,t,n,a){const o=e.createAsset(t,n,a,null,!0);return{name:null,dataFormat:n,asset:o,md5:"".concat(o.assetId,".").concat(n),assetId:o.assetId}},Ko=function e(t,n,a,o,r=(()=>{})){let s=null,i=null;switch(n){case"image/svg+xml":s=a.DataFormat.SVG,i=a.AssetType.ImageVector,t=zo(t);break;case"image/jpeg":s=a.DataFormat.JPG,i=a.AssetType.ImageBitmap;break;case"image/bmp":return void(l=t,new Promise(e=>{const t=l instanceof String?l:window.URL.createObjectURL(new Blob([l],{type:"image/bmp"})),n=document.createElement("canvas"),a=n.getContext("2d"),o=document.createElement("img");o.addEventListener("load",()=>{n.width=o.naturalWidth,n.height=o.naturalHeight,a.drawImage(o,0,0);const r=n.toDataURL("image/png");window.URL.revokeObjectURL(t),e(r)}),o.setAttribute("src",t)})).then(t=>{e(t,"image/png",a,o)});case"image/png":s=a.DataFormat.PNG,i=a.AssetType.ImageBitmap;break;case"image/gif":{let n=[];return void((e,t)=>{const n=document.createElement("canvas"),a=n.getContext("2d"),o=new qo.GifReader(new Uint8Array(e)),r=o.numFrames();n.width=o.width,n.height=o.height;let s=a.createImageData(n.width,n.height),i=a.createImageData(n.width,n.height);const l=e=>{const c=[];o.decodeAndBlitFrameRGBA(e,c);const{x:d,y:u,width:p,height:m,disposal:h}=o.frameInfo(e);for(let e=0;e<m;e++)for(let t=0;t<p;t++){const a=4*(d+u*n.width)+4*(t+e*n.width);c[a+3]&&(s.data[a+0]=c[a+0],s.data[a+1]=c[a+1],s.data[a+2]=c[a+2],s.data[a+3]=c[a+3])}a.clearRect(0,0,n.width,n.height),a.putImageData(s,0,0);const g=n.toDataURL();switch(h){case 2:a.clearRect(d,u,p,m),s=a.getImageData(0,0,n.width,n.height);break;case 3:s=a.createImageData(n.width,n.height),s.data.set(i.data);break;default:i=a.getImageData(0,0,n.width,n.height)}t(e,g,r),e<r-1&&setTimeout(()=>{l(e+1)})};l(0)})(t,(t,s,i)=>{e(s,"image/png",a,e=>{n=n.concat(e),t===i-1&&o(n)},r)})}default:return void r("Encountered unexpected file type: ".concat(n))}var l;const c=new Na.BitmapAdapter;c.setStageSize&&c.setStageSize(Ho.a.width,Ho.a.height);const d=function(e){const t=Vo(a,i,s,e);o([t])};s===a.DataFormat.SVG?d(new Uint8Array(t)):c.importBitmap(t,n).then(d).catch(r)},Xo=e=>({name:e,md5:"cd21514d0531fdffb22204e0ec5ed84a.svg",rotationCenterX:0,rotationCenterY:0,bitmapResolution:1,skinId:null});var Qo=n(84),Yo=n(97),Jo=n(115),Zo=n(767),$o=n.n(Zo),er=n(768),tr=n.n(er),nr=n(160),ar=n.n(nr),or=n(211),rr=n.n(or),sr=n(161),ir=n.n(sr),lr=n(162),cr=n.n(lr);const dr=e=>{let t=null;return()=>t||e().then(e=>t=e.default)},ur=dr(()=>n.e(11).then(n.t.bind(null,2076,3))),pr=dr(()=>n.e(12).then(n.t.bind(null,2077,3))),mr=dr(()=>n.e(13).then(n.t.bind(null,2078,3))),hr=dr(()=>n.e(14).then(n.t.bind(null,2079,3)));function gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(n),!0).forEach((function(t){br(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let _r=Object(m.d)({addLibraryBackdropMsg:{id:"gui.costumeTab.addBackdropFromLibrary",defaultMessage:"Choose a Backdrop"},addLibraryCostumeMsg:{id:"gui.costumeTab.addCostumeFromLibrary",defaultMessage:"Choose a Costume"},addBlankCostumeMsg:{id:"gui.costumeTab.addBlankCostume",defaultMessage:"Paint"},addSurpriseCostumeMsg:{id:"gui.costumeTab.addSurpriseCostume",defaultMessage:"Surprise"},addFileBackdropMsg:{id:"gui.costumeTab.addFileBackdrop",defaultMessage:"Upload Backdrop"},addFileCostumeMsg:{id:"gui.costumeTab.addFileCostume",defaultMessage:"Upload Costume"}});_r=fr(fr({},_r),Qo.a);class vr extends o.a.Component{constructor(e){super(e),F()(this,["handleSelectCostume","handleDeleteCostume","handleDuplicateCostume","handleExportCostume","handleNewCostume","handleNewBlankCostume","handleSurpriseCostume","handleSurpriseBackdrop","handleFileUploadClick","handleCostumeUpload","handleDrop","setFileInput"]);const{editingTarget:t,sprites:n,stage:a}=e,o=t&&n[t]?n[t]:a;o&&o.currentCostume?this.state={selectedCostumeIndex:o.currentCostume}:this.state={selectedCostumeIndex:0}}componentWillReceiveProps(e){const{editingTarget:t,sprites:n,stage:a}=e,o=t&&n[t]?n[t]:a;if(o&&o.costumes)if(this.props.editingTarget===t){(this.props.sprites[t]?this.props.sprites[t]:this.props.stage).costumeCount!==o.costumeCount&&this.setState({selectedCostumeIndex:o.currentCostume})}else this.setState({selectedCostumeIndex:o.currentCostume})}handleSelectCostume(e){this.props.vm.editingTarget.setCostume(e),this.setState({selectedCostumeIndex:e})}handleDeleteCostume(e){const t=this.props.vm.deleteCostume(e);this.props.dispatchUpdateRestore({restoreFun:t,deletedItem:"Costume"})}handleDuplicateCostume(e){this.props.vm.duplicateCostume(e)}handleExportCostume(e){const t=this.props.vm.editingTarget.sprite.costumes[e],n=new Blob([t.asset.data],{type:t.asset.assetType.contentType});Object(Yo.a)("".concat(t.name,".").concat(t.asset.dataFormat),n)}handleNewCostume(e,t,n){const a=Array.isArray(e)?e:[e];return Promise.all(a.map(e=>t?this.props.vm.addCostumeFromLibrary(e.md5,e):this.props.vm.addCostume(e.md5,e,n)))}handleNewBlankCostume(){const e=this.props.vm.editingTarget.isStage?this.props.intl.formatMessage(_r.backdrop,{index:1}):this.props.intl.formatMessage(_r.costume,{index:1});this.handleNewCostume(Xo(e))}async handleSurpriseCostume(){const e=await pr(),t=e[Math.floor(Math.random()*e.length)],n={name:t.name,md5:t.md5ext,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,bitmapResolution:t.bitmapResolution,skinId:null};this.handleNewCostume(n,!0)}async handleSurpriseBackdrop(){const e=await ur(),t=e[Math.floor(Math.random()*e.length)],n={name:t.name,md5:t.md5ext,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,bitmapResolution:t.bitmapResolution,skinId:null};this.handleNewCostume(n)}handleCostumeUpload(e){const t=this.props.vm.runtime.storage,n=this.props.vm.editingTarget.id;this.props.onShowImporting(),Wo(e.target,(e,a,o,r,s)=>{Ko(e,a,t,e=>{e.forEach((e,t)=>{e.name="".concat(o).concat(t?t+1:"")}),this.handleNewCostume(e,!1,n).then(()=>{r===s-1&&this.props.onCloseImporting()})},this.props.onCloseImporting)},this.props.onCloseImporting)}handleFileUploadClick(){this.fileInput.click()}handleDrop(e){if(e.dragType===ba.COSTUME){const t=this.props.vm.editingTarget.sprite,n=t.costumes[this.state.selectedCostumeIndex];this.props.vm.reorderCostume(this.props.vm.editingTarget.id,e.index,e.newIndex),this.setState({selectedCostumeIndex:t.costumes.indexOf(n)})}else e.dragType===ba.BACKPACK_COSTUME?this.props.vm.addCostume(e.payload.body,{name:e.payload.name}):e.dragType===ba.BACKPACK_SOUND&&(this.props.onActivateSoundsTab(),this.props.vm.addSound({md5:e.payload.body,name:e.payload.name}))}setFileInput(e){this.fileInput=e}formatCostumeDetails(e,t){const n=t||1;return"".concat(Math.ceil(e[0]/n)," x ").concat(Math.ceil(e[1]/n))}render(){const{dispatchUpdateRestore:e,intl:t,isRtl:n,onNewLibraryBackdropClick:a,onNewLibraryCostumeClick:r,vm:s}=this.props;if(!s.editingTarget)return null;const i=s.editingTarget.isStage,l=s.editingTarget.sprite,c=i?_r.addLibraryBackdropMsg:_r.addLibraryCostumeMsg,d=i?_r.addFileBackdropMsg:_r.addFileCostumeMsg,u=i?this.handleSurpriseBackdrop:this.handleSurpriseCostume,p=i?a:r,m=i?$o.a:tr.a,h=l.costumes?l.costumes.map(e=>({name:e.name,asset:e.asset,details:e.size?this.formatCostumeDetails(e.size,e.bitmapResolution):null,dragPayload:e})):[];return o.a.createElement(Do,{buttons:[{title:t.formatMessage(c),img:m,onClick:p},{title:t.formatMessage(d),img:ar.a,onClick:this.handleFileUploadClick,fileAccept:".svg, .png, .bmp, .jpg, .jpeg, .gif",fileChange:this.handleCostumeUpload,fileInput:this.setFileInput,fileMultiple:!0},{title:t.formatMessage(_r.addSurpriseCostumeMsg),img:ir.a,onClick:u},{title:t.formatMessage(_r.addBlankCostumeMsg),img:rr.a,onClick:this.handleNewBlankCostume},{title:t.formatMessage(c),img:cr.a,onClick:p}],dragType:ba.COSTUME,isRtl:n,items:h,selectedItemIndex:this.state.selectedCostumeIndex,onDeleteClick:l&&l.costumes&&l.costumes.length>1?this.handleDeleteCostume:null,onDrop:this.handleDrop,onDuplicateClick:this.handleDuplicateCostume,onExportClick:this.handleExportCostume,onItemClick:this.handleSelectCostume},l.costumes?o.a.createElement(Bo,{selectedCostumeIndex:this.state.selectedCostumeIndex}):null)}}vr.propTypes={dispatchUpdateRestore:s.a.func,editingTarget:s.a.string,intl:m.f,isRtl:s.a.bool,onActivateSoundsTab:s.a.func.isRequired,onCloseImporting:s.a.func.isRequired,onNewLibraryBackdropClick:s.a.func.isRequired,onNewLibraryCostumeClick:s.a.func.isRequired,onShowImporting:s.a.func.isRequired,sprites:s.a.shape({id:s.a.shape({costumes:s.a.arrayOf(s.a.shape({url:s.a.string,name:s.a.string.isRequired,skinId:s.a.number}))})}),stage:s.a.shape({sounds:s.a.arrayOf(s.a.shape({name:s.a.string.isRequired}))}),vm:s.a.instanceOf(p.a)};var yr=Object(h.a)("Costume Tab")(Object(m.e)(Object(l.b)(e=>({editingTarget:e.scratchGui.targets.editingTarget,isRtl:e.locales.isRtl,sprites:e.scratchGui.targets.sprites,stage:e.scratchGui.targets.stage,dragging:e.scratchGui.assetDrag.dragging}),e=>({onActivateSoundsTab:()=>e(Object(f.d)(f.c)),onNewLibraryBackdropClick:t=>{t.preventDefault(),e(Object(b.o)())},onNewLibraryCostumeClick:t=>{t.preventDefault(),e(Object(b.q)())},dispatchUpdateRestore:t=>{e(Object(Jo.c)(t))},onCloseImporting:()=>e(Object(se.c)("importingAsset")),onShowImporting:()=>e(Object(se.i)("importingAsset"))}))(vr))),wr=Object(m.d)({all:{id:"gui.libraryTags.all",defaultMessage:"All"},animals:{id:"gui.libraryTags.animals",defaultMessage:"Animals"},dance:{id:"gui.libraryTags.dance",defaultMessage:"Dance"},effects:{id:"gui.libraryTags.effects",defaultMessage:"Effects"},fantasy:{id:"gui.libraryTags.fantasy",defaultMessage:"Fantasy"},fashion:{id:"gui.libraryTags.fashion",defaultMessage:"Fashion"},food:{id:"gui.libraryTags.food",defaultMessage:"Food"},indoors:{id:"gui.libraryTags.indoors",defaultMessage:"Indoors"},loops:{id:"gui.libraryTags.loops",defaultMessage:"Loops"},music:{id:"gui.libraryTags.music",defaultMessage:"Music"},notes:{id:"gui.libraryTags.notes",defaultMessage:"Notes"},outdoors:{id:"gui.libraryTags.outdoors",defaultMessage:"Outdoors"},patterns:{id:"gui.libraryTags.patterns",defaultMessage:"Patterns"},people:{id:"gui.libraryTags.people",defaultMessage:"People"},percussion:{id:"gui.libraryTags.percussion",defaultMessage:"Percussion"},space:{id:"gui.libraryTags.space",defaultMessage:"Space"},sports:{id:"gui.libraryTags.sports",defaultMessage:"Sports"},underwater:{id:"gui.libraryTags.underwater",defaultMessage:"Underwater"},voice:{id:"gui.libraryTags.voice",defaultMessage:"Voice"},wacky:{id:"gui.libraryTags.wacky",defaultMessage:"Wacky"},animation:{id:"gui.libraryTags.animation",defaultMessage:"Animation"},art:{id:"gui.libraryTags.art",defaultMessage:"Art"},games:{id:"gui.libraryTags.games",defaultMessage:"Games"},stories:{id:"gui.libraryTags.stories",defaultMessage:"Stories"},letters:{id:"gui.libraryTags.letters",defaultMessage:"Letters"}}),Sr=[{tag:"animals",intlLabel:wr.animals},{tag:"people",intlLabel:wr.people},{tag:"fantasy",intlLabel:wr.fantasy},{tag:"dance",intlLabel:wr.dance},{tag:"music",intlLabel:wr.music},{tag:"sports",intlLabel:wr.sports},{tag:"food",intlLabel:wr.food},{tag:"fashion",intlLabel:wr.fashion},{tag:"letters",intlLabel:wr.letters}];const Er=Object(m.d)({libraryTitle:{id:"gui.spriteLibrary.chooseASprite",defaultMessage:"Choose a Sprite"}});class Cr extends o.a.PureComponent{constructor(e){super(e),F()(this,["handleItemSelect"])}handleItemSelect(e){Uo(e),this.props.vm.addSprite(JSON.stringify(e)).then(()=>{this.props.onActivateBlocksTab()})}render(){return o.a.createElement(Kn,{data:hr(),id:"spriteLibrary",tags:Sr,title:this.props.intl.formatMessage(Er.libraryTitle),onItemSelected:this.handleItemSelect,onRequestClose:this.props.onRequestClose})}}Cr.propTypes={intl:m.f.isRequired,onActivateBlocksTab:s.a.func.isRequired,onRequestClose:s.a.func,vm:s.a.instanceOf(p.a).isRequired};var kr=Object(m.e)(Cr),xr=n(284),Or=n.n(xr);const Fr=e=>o.a.createElement("label",{className:e.above?Or.a.inputGroupColumn:Or.a.inputGroup},o.a.createElement("span",{className:e.secondary?Or.a.inputLabelSecondary:Or.a.inputLabel},e.text),e.children);Fr.propTypes={above:s.a.bool,children:s.a.node,secondary:s.a.bool,text:s.a.oneOfType([s.a.string,s.a.node]).isRequired},Fr.defaultProps={above:!1,secondary:!1};var Tr=Fr,Ir=n(106),Rr=n(124),jr=n(209),Dr=n.n(jr),Ar=n(196),Pr=n.n(Ar),Mr=n(769),Nr=n.n(Mr),Lr=n(770),Br=n.n(Lr);class Ur extends o.a.Component{constructor(e){super(e),F()(this,["handleMouseDown","handleMouseMove","containerRef","handleRef","unbindMouseEvents"])}componentDidMount(){this.handleElement.addEventListener("mousedown",this.handleMouseDown),this.handleElement.addEventListener("touchstart",this.handleMouseDown)}componentWillUnmount(){this.unbindMouseEvents(),this.handleElement.removeEventListener("mousedown",this.handleMouseDown),this.handleElement.removeEventListener("touchstart",this.handleMouseDown)}directionToMouseEvent(e){const{x:t,y:n}=Ba(e),a=this.containerElement.getBoundingClientRect(),o=a.top+a.height/2,r=a.left+a.width/2;return Math.atan2(n-o,t-r)*(180/Math.PI)+90}gaugePath(e,t){const n=t*(Math.PI/180),a=[];return a.push("M ".concat(e," 0")),a.push("L ".concat(e," ").concat(e)),a.push("L ".concat(e+e*Math.sin(n)," ").concat(e-e*Math.cos(n))),a.push("A ".concat(e," ").concat(e," 0 0 ").concat(t<0?1:0," ").concat(e," 0")),a.push("Z"),a.join(" ")}handleMouseMove(e){this.props.onChange(this.directionToMouseEvent(e)+this.directionOffset),e.preventDefault()}unbindMouseEvents(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.unbindMouseEvents),window.removeEventListener("touchmove",this.handleMouseMove),window.removeEventListener("touchend",this.unbindMouseEvents)}handleMouseDown(e){this.directionOffset=this.props.direction-this.directionToMouseEvent(e),window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.unbindMouseEvents),window.addEventListener("touchmove",this.handleMouseMove),window.addEventListener("touchend",this.unbindMouseEvents),e.preventDefault()}containerRef(e){this.containerElement=e}handleRef(e){this.handleElement=e}render(){const{direction:e,radius:t}=this.props;return o.a.createElement("div",{className:Pr.a.container},o.a.createElement("div",{className:Pr.a.dialContainer,ref:this.containerRef,style:{width:"".concat(2*t,"px"),height:"".concat(2*t,"px")}},o.a.createElement("img",{className:Pr.a.dialFace,draggable:!1,src:Nr.a}),o.a.createElement("svg",{className:Pr.a.gauge,height:2*t,width:2*t},o.a.createElement("path",{className:Pr.a.gaugePath,d:this.gaugePath(t,e)})),o.a.createElement("img",{className:Pr.a.dialHandle,draggable:!1,ref:this.handleRef,src:Br.a,style:{top:"".concat(t-t*Math.cos(e*(Math.PI/180)),"px"),left:"".concat(t+t*Math.sin(e*(Math.PI/180)),"px"),transform:"rotate(".concat(e,"deg)")}})))}}Ur.propTypes={direction:s.a.number,onChange:s.a.func.isRequired,radius:s.a.number},Ur.defaultProps={direction:90,radius:56};var qr=Ur,Gr=n(175),zr=n.n(Gr),Hr=n(771),Wr=n.n(Hr),Vr=n(772),Kr=n.n(Vr),Xr=n(773),Qr=n.n(Xr);const Yr=Object(Rr.a)(Ir.a),Jr=o.a.createElement(m.a,{defaultMessage:"Direction",id:"gui.SpriteInfo.direction"}),Zr="all around",$r="left-right",es="don't rotate",ts=Object(m.d)({allAround:{id:"gui.directionPicker.rotationStyles.allAround",defaultMessage:"All Around"},leftRight:{id:"gui.directionPicker.rotationStyles.leftRight",defaultMessage:"Left/Right"},dontRotate:{id:"gui.directionPicker.rotationStyles.dontRotate",defaultMessage:"Do not rotate"}}),ns=e=>o.a.createElement(Tr,{secondary:!0,above:e.labelAbove,text:Jr},o.a.createElement(Dr.a,{body:o.a.createElement("div",null,o.a.createElement(qr,{direction:e.direction,onChange:e.onChangeDirection}),o.a.createElement("div",{className:zr.a.buttonRow},o.a.createElement("button",{className:Ve()(zr.a.iconButton,{[zr.a.active]:e.rotationStyle===Zr}),title:e.intl.formatMessage(ts.allAround),onClick:e.onClickAllAround},o.a.createElement("img",{draggable:!1,src:Wr.a})),o.a.createElement("button",{className:Ve()(zr.a.iconButton,{[zr.a.active]:e.rotationStyle===$r}),title:e.intl.formatMessage(ts.leftRight),onClick:e.onClickLeftRight},o.a.createElement("img",{draggable:!1,src:Kr.a})),o.a.createElement("button",{className:Ve()(zr.a.iconButton,{[zr.a.active]:e.rotationStyle===es}),title:e.intl.formatMessage(ts.dontRotate),onClick:e.onClickDontRotate},o.a.createElement("img",{draggable:!1,src:Qr.a})))),isOpen:e.popoverOpen,preferPlace:"above",onOuterAction:e.onClosePopover},o.a.createElement(Yr,{small:!0,disabled:e.disabled,label:Jr,tabIndex:"0",type:"text",value:e.disabled?"":e.direction,onFocus:e.onOpenPopover,onSubmit:e.onChangeDirection})));ns.propTypes={direction:s.a.number,disabled:s.a.bool.isRequired,intl:m.f,labelAbove:s.a.bool,onChangeDirection:s.a.func.isRequired,onClickAllAround:s.a.func.isRequired,onClickDontRotate:s.a.func.isRequired,onClickLeftRight:s.a.func.isRequired,onClosePopover:s.a.func.isRequired,onOpenPopover:s.a.func.isRequired,popoverOpen:s.a.bool.isRequired,rotationStyle:s.a.string},ns.defaultProps={labelAbove:!1};const as=Object(m.e)(ns);class os extends o.a.Component{constructor(e){super(e),F()(this,["handleOpenPopover","handleClosePopover","handleClickLeftRight","handleClickDontRotate","handleClickAllAround"]),this.state={popoverOpen:!1}}handleOpenPopover(){this.setState({popoverOpen:!0})}handleClosePopover(){this.setState({popoverOpen:!1})}handleClickAllAround(){this.props.onChangeRotationStyle(Zr)}handleClickLeftRight(){this.props.onChangeRotationStyle($r)}handleClickDontRotate(){this.props.onChangeRotationStyle(es)}render(){return o.a.createElement(as,{direction:this.props.direction,disabled:this.props.disabled,labelAbove:this.props.labelAbove,popoverOpen:this.state.popoverOpen&&!this.props.disabled,rotationStyle:this.props.rotationStyle,onChangeDirection:this.props.onChangeDirection,onClickAllAround:this.handleClickAllAround,onClickDontRotate:this.handleClickDontRotate,onClickLeftRight:this.handleClickLeftRight,onClosePopover:this.handleClosePopover,onOpenPopover:this.handleOpenPopover})}}os.propTypes={direction:s.a.number,disabled:s.a.bool,labelAbove:s.a.bool,onChangeDirection:s.a.func,onChangeRotationStyle:s.a.func,rotationStyle:s.a.string};var rs=os;const ss=["ab","ca","de","el","it","ja","ja-Hira","ko","hu","ru","vi"];var is=n(25),ls=n.n(is),cs=n(774),ds=n.n(cs),us=n(775),ps=n.n(us),ms=n(776),hs=n.n(ms),gs=n(777),fs=n.n(gs);const bs=Object(Rr.a)(Ir.a),_s=Object(m.d)({spritePlaceholder:{id:"gui.SpriteInfo.spritePlaceholder",defaultMessage:"Name"}});class vs extends o.a.Component{shouldComponentUpdate(e){return this.props.rotationStyle!==e.rotationStyle||this.props.disabled!==e.disabled||this.props.name!==e.name||this.props.stageSize!==e.stageSize||this.props.visible!==e.visible||Math.round(this.props.direction)!==Math.round(e.direction)||Math.round(this.props.size)!==Math.round(e.size)||Math.round(this.props.x)!==Math.round(e.x)||Math.round(this.props.y)!==Math.round(e.y)}render(){const{stageSize:e}=this.props,t=o.a.createElement(m.a,{defaultMessage:"Sprite",id:"gui.SpriteInfo.sprite"}),n=o.a.createElement(m.a,{defaultMessage:"Show",id:"gui.SpriteInfo.show"}),a=o.a.createElement(m.a,{defaultMessage:"Size",id:"gui.SpriteInfo.size"}),r=(s=this.props.intl.locale,-1!==ss.indexOf(s));var s;const i=o.a.createElement(bs,{className:Ve()(ls.a.spriteInput,{[ls.a.columnInput]:r}),disabled:this.props.disabled,placeholder:this.props.intl.formatMessage(_s.spritePlaceholder),tabIndex:"0",type:"text",value:this.props.disabled?"":this.props.name,onSubmit:this.props.onChangeName}),l=o.a.createElement("div",{className:ls.a.group},e===ha.c.large?o.a.createElement("div",{className:ls.a.iconWrapper},o.a.createElement("img",{"aria-hidden":"true",className:Ve()(ls.a.xIcon,ls.a.icon),src:ds.a})):null,o.a.createElement(Tr,{text:"x"},o.a.createElement(bs,{small:!0,disabled:this.props.disabled,placeholder:"x",tabIndex:"0",type:"text",value:this.props.disabled?"":Math.round(this.props.x),onSubmit:this.props.onChangeX}))),c=o.a.createElement("div",{className:ls.a.group},e===ha.c.large?o.a.createElement("div",{className:ls.a.iconWrapper},o.a.createElement("img",{"aria-hidden":"true",className:Ve()(ls.a.yIcon,ls.a.icon),src:ps.a})):null,o.a.createElement(Tr,{text:"y"},o.a.createElement(bs,{small:!0,disabled:this.props.disabled,placeholder:"y",tabIndex:"0",type:"text",value:this.props.disabled?"":Math.round(this.props.y),onSubmit:this.props.onChangeY})));return e===ha.c.small?o.a.createElement(it.a,{className:ls.a.spriteInfo},o.a.createElement("div",{className:Ve()(ls.a.row,ls.a.rowPrimary)},o.a.createElement("div",{className:ls.a.group},i)),o.a.createElement("div",{className:Ve()(ls.a.row,ls.a.rowSecondary)},l,c)):o.a.createElement(it.a,{className:ls.a.spriteInfo},o.a.createElement("div",{className:Ve()(ls.a.row,ls.a.rowPrimary)},o.a.createElement("div",{className:ls.a.group},o.a.createElement(Tr,{above:r,text:t},i)),l,c),o.a.createElement("div",{className:Ve()(ls.a.row,ls.a.rowSecondary)},o.a.createElement("div",{className:r?ls.a.column:ls.a.group},e===ha.c.large?o.a.createElement(Tr,{secondary:!0,text:n}):null,o.a.createElement("div",{className:ls.a.radioWrapper},o.a.createElement("div",{className:Ve()(ls.a.radio,ls.a.radioFirst,ls.a.iconWrapper,{[ls.a.isActive]:this.props.visible&&!this.props.disabled,[ls.a.isDisabled]:this.props.disabled}),tabIndex:"0",onClick:this.props.onClickVisible,onKeyPress:this.props.onPressVisible},o.a.createElement("img",{className:ls.a.icon,src:hs.a})),o.a.createElement("div",{className:Ve()(ls.a.radio,ls.a.radioLast,ls.a.iconWrapper,{[ls.a.isActive]:!this.props.visible&&!this.props.disabled,[ls.a.isDisabled]:this.props.disabled}),tabIndex:"0",onClick:this.props.onClickNotVisible,onKeyPress:this.props.onPressNotVisible},o.a.createElement("img",{className:ls.a.icon,src:fs.a})))),o.a.createElement("div",{className:Ve()(ls.a.group,ls.a.largerInput)},o.a.createElement(Tr,{secondary:!0,above:r,text:a},o.a.createElement(bs,{small:!0,disabled:this.props.disabled,label:a,tabIndex:"0",type:"text",value:this.props.disabled?"":Math.round(this.props.size),onSubmit:this.props.onChangeSize}))),o.a.createElement("div",{className:Ve()(ls.a.group,ls.a.largerInput)},o.a.createElement(rs,{direction:Math.round(this.props.direction),disabled:this.props.disabled,labelAbove:r,rotationStyle:this.props.rotationStyle,onChangeDirection:this.props.onChangeDirection,onChangeRotationStyle:this.props.onChangeRotationStyle}))))}}vs.propTypes={direction:s.a.oneOfType([s.a.string,s.a.number]),disabled:s.a.bool,intl:m.f,name:s.a.string,onChangeDirection:s.a.func,onChangeName:s.a.func,onChangeRotationStyle:s.a.func,onChangeSize:s.a.func,onChangeX:s.a.func,onChangeY:s.a.func,onClickNotVisible:s.a.func,onClickVisible:s.a.func,onPressNotVisible:s.a.func,onPressVisible:s.a.func,rotationStyle:s.a.string,size:s.a.oneOfType([s.a.string,s.a.number]),stageSize:s.a.oneOf(Object.keys(ha.c)).isRequired,visible:s.a.bool,x:s.a.oneOfType([s.a.string,s.a.number]),y:s.a.oneOfType([s.a.string,s.a.number])};var ys=Object(m.e)(vs);function ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ws(Object(n),!0).forEach((function(t){Es(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ws(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Es(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cs(){return(Cs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}class ks extends o.a.Component{constructor(e){super(e),F()(this,["handleClickVisible","handleClickNotVisible","handlePressVisible","handlePressNotVisible"])}handleClickVisible(e){e.preventDefault(),this.props.onChangeVisibility(!0)}handleClickNotVisible(e){e.preventDefault(),this.props.onChangeVisibility(!1)}handlePressVisible(e){" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),this.props.onChangeVisibility(!0))}handlePressNotVisible(e){" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),this.props.onChangeVisibility(!1))}render(){return o.a.createElement(ys,Cs({},this.props,{onClickNotVisible:this.handleClickNotVisible,onClickVisible:this.handleClickVisible,onPressNotVisible:this.handlePressNotVisible,onPressVisible:this.handlePressVisible}))}}ks.propTypes=Ss(Ss({},ys.propTypes),{},{onChangeDirection:s.a.func,onChangeName:s.a.func,onChangeSize:s.a.func,onChangeVisibility:s.a.func,onChangeX:s.a.func,onChangeY:s.a.func,x:s.a.number,y:s.a.number});var xs=ks;var Os=function(e,t){return function(n){class a extends o.a.Component{shouldComponentUpdate(n){for(const t in n)if(t!==e&&this.props[t]!==n[t])return!0;return n[e]!==this._lastRenderedValue&&Date.now()-this._lastRenderTime>t}render(){return this._lastRenderTime=Date.now(),this._lastRenderedValue=this.props[e],o.a.createElement(n,this.props)}}return a}},Fs=n(107),Ts=n.n(Fs);const Is=Os("asset",500)(po),Rs=function(e){const{containerRef:t,editingTarget:n,draggingIndex:a,draggingType:r,hoveredTarget:s,onDeleteSprite:i,onDuplicateSprite:l,onExportSprite:c,onSelectSprite:d,onAddSortable:u,onRemoveSortable:p,ordering:m,raised:h,selectedId:g,items:f}=e,b=r===ba.SPRITE;return o.a.createElement(it.a,{className:Ve()(Ts.a.scrollWrapper,{[Ts.a.scrollWrapperDragging]:r===ba.BACKPACK_SPRITE}),componentRef:t},o.a.createElement(it.a,{className:Ts.a.itemsWrapper},f.map((e,t)=>{const f=s.sprite===e.id&&e.id!==n&&s.receivedBlocks;let _=!f&&h&&e.id!==n;return _=_||[ba.COSTUME,ba.SOUND,ba.BACKPACK_COSTUME,ba.BACKPACK_SOUND,ba.BACKPACK_CODE].includes(r),o.a.createElement(yo,{className:Ve()(Ts.a.spriteWrapper,{[Ts.a.placeholder]:b&&t===a}),index:b?m.indexOf(t):t,key:e.name,onAddSortable:u,onRemoveSortable:p},o.a.createElement(Is,{asset:e.costume&&e.costume.asset,className:Ve()(Ts.a.sprite,{[Ts.a.raised]:_,[Ts.a.receivedBlocks]:f}),dragPayload:e.id,dragType:ba.SPRITE,id:e.id,index:t,key:e.id,name:e.name,selected:e.id===g,onClick:d,onDeleteButtonClick:i,onDuplicateButtonClick:l,onExportButtonClick:c}))})))};Rs.propTypes={containerRef:s.a.func,draggingIndex:s.a.number,draggingType:s.a.oneOf(Object.keys(ba)),editingTarget:s.a.string,hoveredTarget:s.a.shape({hoveredSprite:s.a.string,receivedBlocks:s.a.bool,sprite:s.a.string}),items:s.a.arrayOf(s.a.shape({costume:s.a.shape({url:s.a.string,name:s.a.string,bitmapResolution:s.a.number,rotationCenterX:s.a.number,rotationCenterY:s.a.number}),name:s.a.any,order:s.a.number})),onAddSortable:s.a.func,onDeleteSprite:s.a.func,onDuplicateSprite:s.a.func,onExportSprite:s.a.func,onRemoveSortable:s.a.func,onSelectSprite:s.a.func,ordering:s.a.arrayOf(s.a.number),raised:s.a.bool,selectedId:s.a.string};var js=So(Rs),Ds=n(98);const As=["editingTarget","hoveredTarget","intl","onChangeSpriteDirection","onChangeSpriteName","onChangeSpriteRotationStyle","onChangeSpriteSize","onChangeSpriteVisibility","onChangeSpriteX","onChangeSpriteY","onDrop","onDeleteSprite","onDuplicateSprite","onExportSprite","onFileUploadClick","onNewSpriteClick","onPaintSpriteClick","onSelectSprite","onSpriteUpload","onSurpriseSpriteClick","raised","selectedId","spriteFileInput","sprites","stageSize"];function Ps(){return(Ps=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ms(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Ns=Object(m.d)({addSpriteFromLibrary:{id:"gui.spriteSelector.addSpriteFromLibrary",defaultMessage:"Choose a Sprite"},addSpriteFromPaint:{id:"gui.spriteSelector.addSpriteFromPaint",defaultMessage:"Paint"},addSpriteFromSurprise:{id:"gui.spriteSelector.addSpriteFromSurprise",defaultMessage:"Surprise"},addSpriteFromFile:{id:"gui.spriteSelector.addSpriteFromFile",defaultMessage:"Upload Sprite"}}),Ls=function(e){const{editingTarget:t,hoveredTarget:n,intl:a,onChangeSpriteDirection:r,onChangeSpriteName:s,onChangeSpriteRotationStyle:i,onChangeSpriteSize:l,onChangeSpriteVisibility:c,onChangeSpriteX:d,onChangeSpriteY:u,onDrop:p,onDeleteSprite:m,onDuplicateSprite:h,onExportSprite:g,onFileUploadClick:f,onNewSpriteClick:b,onPaintSpriteClick:_,onSelectSprite:v,onSpriteUpload:y,onSurpriseSpriteClick:w,raised:S,selectedId:E,spriteFileInput:C,sprites:k,stageSize:x}=e,O=Ms(e,As);let F=k[E],T=!1;return void 0===F&&(F={},T=!0),o.a.createElement(it.a,Ps({className:Ts.a.spriteSelector},O),o.a.createElement(xs,{direction:F.direction,disabled:T,name:F.name,rotationStyle:F.rotationStyle,size:F.size,stageSize:x,visible:F.visible,x:F.x,y:F.y,onChangeDirection:r,onChangeName:s,onChangeRotationStyle:i,onChangeSize:l,onChangeVisibility:c,onChangeX:d,onChangeY:u}),o.a.createElement(js,{editingTarget:t,hoveredTarget:n,items:Object.keys(k).map(e=>k[e]),raised:S,selectedId:E,onDeleteSprite:m,onDrop:p,onDuplicateSprite:h,onExportSprite:g,onSelectSprite:v}),o.a.createElement(_o,{className:Ts.a.addButton,img:Qn.a,moreButtons:[{title:a.formatMessage(Ns.addSpriteFromFile),img:ar.a,onClick:f,fileAccept:".svg, .png, .bmp, .jpg, .jpeg, .sprite2, .sprite3, .gif",fileChange:y,fileInput:C,fileMultiple:!0},{title:a.formatMessage(Ns.addSpriteFromSurprise),img:ir.a,onClick:w},{title:a.formatMessage(Ns.addSpriteFromPaint),img:rr.a,onClick:_},{title:a.formatMessage(Ns.addSpriteFromLibrary),img:cr.a,onClick:b}],title:a.formatMessage(Ns.addSpriteFromLibrary),tooltipPlace:Object(Ds.b)(a.locale)?"right":"left",onClick:b}))};Ls.propTypes={editingTarget:s.a.string,hoveredTarget:s.a.shape({hoveredSprite:s.a.string,receivedBlocks:s.a.bool}),intl:m.f.isRequired,onChangeSpriteDirection:s.a.func,onChangeSpriteName:s.a.func,onChangeSpriteRotationStyle:s.a.func,onChangeSpriteSize:s.a.func,onChangeSpriteVisibility:s.a.func,onChangeSpriteX:s.a.func,onChangeSpriteY:s.a.func,onDeleteSprite:s.a.func,onDrop:s.a.func,onDuplicateSprite:s.a.func,onExportSprite:s.a.func,onFileUploadClick:s.a.func,onNewSpriteClick:s.a.func,onPaintSpriteClick:s.a.func,onSelectSprite:s.a.func,onSpriteUpload:s.a.func,onSurpriseSpriteClick:s.a.func,raised:s.a.bool,selectedId:s.a.string,spriteFileInput:s.a.func,sprites:s.a.shape({id:s.a.shape({costume:s.a.shape({url:s.a.string,name:s.a.string.isRequired,bitmapResolution:s.a.number.isRequired,rotationCenterX:s.a.number.isRequired,rotationCenterY:s.a.number.isRequired}),name:s.a.string.isRequired,order:s.a.number.isRequired})}),stageSize:s.a.oneOf(Object.keys(ha.c)).isRequired};var Bs=Object(m.e)(Ls);var Us=e=>new Promise((t,n)=>{const a=new Image;a.onload=()=>{const e=document.createElement("canvas"),n=e.getContext("2d");a.height<1||a.width<1?(e.width=e.height=96,n.fillStyle="white",n.fillRect(0,0,e.width,e.height)):(a.height>a.width?(e.height=96,e.width=96/a.height*a.width):(e.width=96,e.height=96/a.width*a.height),n.fillStyle="white",n.fillRect(0,0,e.width,e.height),n.drawImage(a,0,0,e.width,e.height)),t(e.toDataURL("image/jpeg",.92))},a.onerror=e=>{n(e)},a.src=e});var qs=e=>{const t=e.asset.encodeDataURI(),n=e.dataFormat,a={type:"costume",name:e.name,mime:"",body:"",thumbnail:""};switch(n){case"svg":a.mime="image/svg+xml",a.body=t.replace("data:image/svg+xml;base64,","");break;case"png":a.mime="image/png",a.body=t.replace("data:image/png;base64,","");break;default:alert("Cannot serialize for format: ".concat(n))}const o=La(e.asset);return Us(o).then(e=>(a.thumbnail=e.replace("data:image/jpeg;base64,",""),a))},Gs=n(778),zs=n.n(Gs);var Hs=e=>{const t=e.asset.encodeDataURI(),n=e.dataFormat,a={type:"sound",name:e.name,thumbnail:zs.a,mime:"",body:""};switch(n){case"wav":a.mime="audio/x-wav",a.body=t.replace("data:audio/x-wav;base64,","");break;case"mp3":a.mime="audio/mp3",a.body=t.replace("data:audio/x-wav;base64,","");break;default:alert("Cannot serialize for format: ".concat(n))}return new Promise(e=>e(a))};var Ws=(e,t)=>{const n=t.runtime.getTargetById(e);return n?t.exportSprite(e,"base64").then(e=>{const t={type:"sprite",name:n.sprite.name,mime:"application/zip",body:e,thumbnail:""},a=n.sprite.costumes[n.currentCostume].asset.encodeDataURI();return Us(a).then(e=>(t.thumbnail=e.replace("data:image/jpeg;base64,",""),t))}):null},Vs=n(779),Ks=n.n(Vs),Xs=n(780);var Qs=({blockObjects:e,topBlockId:t})=>{const n={type:"script",name:"code",mime:"application/json",body:Xs.Base64.encode(JSON.stringify(e))};return function(e){const t=rt.a.get().getMainWorkspace().getBlockById(e).getSvgRoot().cloneNode(!0);return new Promise(e=>{setTimeout(()=>{t.innerHTML=t.innerHTML.replace(/&nbsp;/g," ");const n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.appendChild(t),document.body.appendChild(n);const a=10+("hat"===t.getAttribute("data-shapes")?16:0);t.setAttribute("transform","translate(".concat(10," ").concat(a,")"));const o=t.getBoundingClientRect();n.setAttribute("width",o.width+20),n.setAttribute("height",o.height+20),Ks()(n,{recursive:!0,properties:["fill","font-family","font-size","font-weight"]});const r=(new XMLSerializer).serializeToString(n);n.parentNode.removeChild(n),e("data:image/svg+xml;utf-8,".concat(encodeURIComponent(r)))},10)})}(t).then(Us).then(e=>(n.thumbnail=e.replace("data:image/jpeg;base64,",""),n))},Ys=n(311),Js=n.n(Ys);function Zs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zs(Object(n),!0).forEach((function(t){ei(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ti=e=>{const t=atob(e),n=t.length,a=new Uint8Array(n);for(let e=0;e<n;e++)a[e]=t.charCodeAt(e);return a.buffer},ni=e=>{let t="";const n=new Uint8Array(e),a=n.byteLength;for(let e=0;e<a;e++)t+=String.fromCharCode(n[e]);return btoa(t)},ai=e=>{let t;if(e.id="".concat(e.id),e.thumbnailUrl="data:;base64,".concat(ni(e.thumbnailData)),"script"===e.type?e.bodyUrl="data:application/json;base64,".concat(ni(e.bodyData)):"sprite"===e.type?e.bodyUrl="data:application/zip;base64,".concat(ni(e.bodyData)):"costume"===e.type?"image/svg+xml"===e.mime?t=R.a.AssetType.ImageVector:"image/png"===e.mime&&(t=R.a.AssetType.ImageBitmap):"sound"===e.type&&(t=R.a.AssetType.Sound),t){const n=t.runtimeFormat,a=e.bodyMD5,o="".concat(a,".").concat(n);e.body=o,R.a.builtinHelper._store(t,n,new Uint8Array(e.bodyData),a)}return e};let oi;const ri=()=>new Promise((e,t)=>{if(oi)return void e(oi);if(!window.indexedDB)return void t(new Error("indexedDB is not supported"));const n=indexedDB.open("TW_Backpack",1);n.onupgradeneeded=e=>{e.target.result.createObjectStore("backpack",{keyPath:"id",autoIncrement:!0})},n.onsuccess=t=>{oi=t.target.result,e(oi)},n.onerror=()=>{t(new Error("DB error: ".concat(n.error)))}});var si=async({limit:e,offset:t})=>{const n=await ri();return new Promise((a,o)=>{const r=n.transaction("backpack","readonly");r.onerror=()=>{o(new Error("Transaction error: ".concat(r.error)))};const s=r.objectStore("backpack"),i=[],l=s.openCursor(null,"prev");let c=!0;l.onsuccess=n=>{const o=n.target.result;c&&(c=!1,o&&0!==t)?o.advance(t):o&&i.length<e?(i.push(ai(o.value)),o.continue()):a(i)}})},ii=async({type:e,mime:t,name:n,body:a,thumbnail:o})=>{const r=await ri();return new Promise((s,i)=>{const l=r.transaction("backpack","readwrite");l.onerror=()=>{i(new Error("Transaction error: ".concat(l.error)))};const c=l.objectStore("backpack"),d=ti(a),u=Js()(d),p={type:e,mime:t,name:n,bodyData:d,bodyMD5:u,thumbnailData:ti(o)},m=c.put(p);m.onsuccess=()=>{p.id=m.result,s(ai(p))}})},li=async({id:e})=>{e=+e;const t=await ri();return new Promise((n,a)=>{const o=t.transaction("backpack","readwrite");o.onerror=()=>{a(new Error("Transaction error: ".concat(o.error)))};o.objectStore("backpack").delete(e).onsuccess=()=>{n()}})},ci=async({id:e,name:t})=>{e=+e;const n=await ri();return new Promise((a,o)=>{const r=n.transaction("backpack","readwrite");r.onerror=()=>{o(new Error("Transaction error: ".concat(r.error)))};const s=r.objectStore("backpack"),i=s.get(e);i.onsuccess=()=>{const e=$s($s({},i.result),{},{name:t});s.put(e).onsuccess=()=>{a(ai(e))}}})};const di=(e,t)=>Object.assign({},e,{thumbnailUrl:"".concat(t,"/").concat(e.thumbnail),bodyUrl:"".concat(t,"/").concat(e.body)}),ui=(e,t)=>new Promise((n,a)=>{oe()({uri:t,responseType:e},(e,t)=>e||200!==t.statusCode?a(new Error(t.status)):n(t.body))}),pi=ui.bind(null,"json"),mi=ui.bind(null,"arraybuffer");var hi=n(118),gi=n.n(hi),fi=n(781),bi=n.n(fi);const _i=["backdropCount","containerRef","dragOver","fileInputRef","intl","selected","raised","receivedBlocks","url","onBackdropFileUploadClick","onBackdropFileUpload","onClick","onMouseEnter","onMouseLeave","onNewBackdropClick","onSurpriseBackdropClick","onEmptyBackdropClick"];function vi(){return(vi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function yi(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const wi=Object(m.d)({addBackdropFromLibrary:{id:"gui.spriteSelector.addBackdropFromLibrary",defaultMessage:"Choose a Backdrop"},addBackdropFromPaint:{id:"gui.stageSelector.addBackdropFromPaint",defaultMessage:"Paint"},addBackdropFromSurprise:{id:"gui.stageSelector.addBackdropFromSurprise",defaultMessage:"Surprise"},addBackdropFromFile:{id:"gui.stageSelector.addBackdropFromFile",defaultMessage:"Upload Backdrop"}}),Si=e=>{const{backdropCount:t,containerRef:n,dragOver:a,fileInputRef:r,intl:s,selected:i,raised:l,receivedBlocks:c,url:d,onBackdropFileUploadClick:u,onBackdropFileUpload:p,onClick:h,onMouseEnter:g,onMouseLeave:f,onNewBackdropClick:b,onSurpriseBackdropClick:_,onEmptyBackdropClick:v}=e,y=yi(e,_i);return o.a.createElement(it.a,vi({className:Ve()(gi.a.stageSelector,{[gi.a.isSelected]:i,[gi.a.raised]:l||a,[gi.a.receivedBlocks]:c}),componentRef:n,onClick:h,onMouseEnter:g,onMouseLeave:f},y),o.a.createElement("div",{className:gi.a.header},o.a.createElement("div",{className:gi.a.headerTitle},o.a.createElement(m.a,{defaultMessage:"Stage",id:"gui.stageSelector.stage"}))),d?o.a.createElement("img",{className:gi.a.costumeCanvas,src:d}):null,o.a.createElement("div",{className:gi.a.label},o.a.createElement(m.a,{defaultMessage:"Backdrops",id:"gui.stageSelector.backdrops"})),o.a.createElement("div",{className:gi.a.count},t),o.a.createElement(_o,{className:gi.a.addButton,img:bi.a,moreButtons:[{title:s.formatMessage(wi.addBackdropFromFile),img:ar.a,onClick:u,fileAccept:".svg, .png, .bmp, .jpg, .jpeg, .gif",fileChange:p,fileInput:r,fileMultiple:!0},{title:s.formatMessage(wi.addBackdropFromSurprise),img:ir.a,onClick:_},{title:s.formatMessage(wi.addBackdropFromPaint),img:rr.a,onClick:v},{title:s.formatMessage(wi.addBackdropFromLibrary),img:cr.a,onClick:b}],title:s.formatMessage(wi.addBackdropFromLibrary),tooltipPlace:Object(Ds.b)(s.locale)?"right":"left",onClick:b}))};Si.propTypes={backdropCount:s.a.number.isRequired,containerRef:s.a.func,dragOver:s.a.bool,fileInputRef:s.a.func,intl:m.f.isRequired,onBackdropFileUpload:s.a.func,onBackdropFileUploadClick:s.a.func,onClick:s.a.func,onEmptyBackdropClick:s.a.func,onMouseEnter:s.a.func,onMouseLeave:s.a.func,onNewBackdropClick:s.a.func,onSurpriseBackdropClick:s.a.func,raised:s.a.bool.isRequired,receivedBlocks:s.a.bool.isRequired,selected:s.a.bool.isRequired,url:s.a.string};var Ei=Object(m.e)(Si);function Ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ci(Object(n),!0).forEach((function(t){xi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oi(){return(Oi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const Fi=fa([ba.COSTUME,ba.SOUND,ba.BACKPACK_COSTUME,ba.BACKPACK_SOUND,ba.BACKPACK_CODE])(Os("url",500)(Ei));class Ti extends o.a.Component{constructor(e){super(e),F()(this,["handleClick","handleNewBackdrop","handleSurpriseBackdrop","handleEmptyBackdrop","addBackdropFromLibraryItem","handleFileUploadClick","handleBackdropUpload","handleMouseEnter","handleMouseLeave","handleTouchEnd","handleDrop","setFileInput","setRef"])}componentDidMount(){document.addEventListener("touchend",this.handleTouchEnd)}componentWillUnmount(){document.removeEventListener("touchend",this.handleTouchEnd)}handleTouchEnd(e){const{x:t,y:n}=Ba(e),{top:a,left:o,bottom:r,right:s}=this.ref.getBoundingClientRect();t>=o&&t<=s&&n>=a&&n<=r&&this.handleMouseEnter()}addBackdropFromLibraryItem(e,t=!0){const n={name:e.name,md5:e.md5ext,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY,bitmapResolution:e.bitmapResolution,skinId:null};this.handleNewBackdrop(n,t)}handleClick(){this.props.onSelect(this.props.id)}handleNewBackdrop(e,t=!0){const n=Array.isArray(e)?e:[e];return Promise.all(n.map(e=>this.props.vm.addBackdrop(e.md5,e))).then(()=>{if(t)return this.props.onActivateTab(f.b)})}async handleSurpriseBackdrop(e){e.stopPropagation();const t=await ur(),n=t[Math.floor(Math.random()*t.length)];this.addBackdropFromLibraryItem(n,!1)}handleEmptyBackdrop(e){e.stopPropagation(),this.props.vm.setEditingTarget(this.props.id),this.handleNewBackdrop(Xo(this.props.intl.formatMessage(Qo.a.backdrop,{index:1})))}handleBackdropUpload(e){const t=this.props.vm.runtime.storage;this.props.onShowImporting(),Wo(e.target,(e,n,a,o,r)=>{Ko(e,n,t,e=>{this.props.vm.setEditingTarget(this.props.id),e.forEach((e,t)=>{e.name="".concat(a).concat(t?t+1:"")}),this.handleNewBackdrop(e).then(()=>{o===r-1&&this.props.onCloseImporting()})},this.props.onCloseImporting)},this.props.onCloseImporting)}handleFileUploadClick(e){e.stopPropagation(),this.fileInput.click()}handleMouseEnter(){this.props.dispatchSetHoveredSprite(this.props.id)}handleMouseLeave(){this.props.dispatchSetHoveredSprite(null)}handleDrop(e){e.dragType===ba.COSTUME?this.props.vm.shareCostumeToTarget(e.index,this.props.id):e.dragType===ba.SOUND?this.props.vm.shareSoundToTarget(e.index,this.props.id):e.dragType===ba.BACKPACK_COSTUME?this.props.vm.addCostume(e.payload.body,{name:e.payload.name},this.props.id):e.dragType===ba.BACKPACK_SOUND?this.props.vm.addSound({md5:e.payload.body,name:e.payload.name},this.props.id):e.dragType===ba.BACKPACK_CODE&&pi(e.payload.bodyUrl).then(e=>{this.props.vm.shareBlocksToTarget(e,this.props.id),this.props.vm.refreshWorkspace()})}setFileInput(e){this.fileInput=e}setRef(e){this.ref=e}render(){const e=v()(this.props,["asset","dispatchSetHoveredSprite","id","intl","onActivateTab","onSelect","onShowImporting","onCloseImporting"]);return o.a.createElement(Fi,Oi({componentRef:this.setRef,fileInputRef:this.setFileInput,onBackdropFileUpload:this.handleBackdropUpload,onBackdropFileUploadClick:this.handleFileUploadClick,onClick:this.handleClick,onDrop:this.handleDrop,onEmptyBackdropClick:this.handleEmptyBackdrop,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onSurpriseBackdropClick:this.handleSurpriseBackdrop},e))}}Ti.propTypes=ki(ki({},Ei.propTypes),{},{id:s.a.string,intl:m.f.isRequired,onCloseImporting:s.a.func,onSelect:s.a.func,onShowImporting:s.a.func});var Ii=Object(m.e)(Object(l.b)((e,{asset:t,id:n})=>({url:t&&t.encodeDataURI(),vm:e.scratchGui.vm,receivedBlocks:e.scratchGui.hoveredTarget.receivedBlocks&&e.scratchGui.hoveredTarget.sprite===n,raised:e.scratchGui.blockDrag}),e=>({onNewBackdropClick:t=>{t.stopPropagation(),e(Object(b.o)())},onActivateTab:t=>{e(Object(f.d)(t))},dispatchSetHoveredSprite:t=>{e(Object(Pa.c)(t))},onCloseImporting:()=>e(Object(se.c)("importingAsset")),onShowImporting:()=>e(Object(se.i)("importingAsset"))}))(Ti)),Ri=n(432),ji=n.n(Ri);const Di=["editingTarget","fileInputRef","hoveredTarget","spriteLibraryVisible","onActivateBlocksTab","onChangeSpriteDirection","onChangeSpriteName","onChangeSpriteRotationStyle","onChangeSpriteSize","onChangeSpriteVisibility","onChangeSpriteX","onChangeSpriteY","onDeleteSprite","onDrop","onDuplicateSprite","onExportSprite","onFileUploadClick","onNewSpriteClick","onPaintSpriteClick","onRequestCloseSpriteLibrary","onSelectSprite","onSpriteUpload","onSurpriseSpriteClick","raiseSprites","stage","stageSize","sprites","vm"];function Ai(){return(Ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Pi(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Mi=e=>{let{editingTarget:t,fileInputRef:n,hoveredTarget:a,spriteLibraryVisible:r,onActivateBlocksTab:s,onChangeSpriteDirection:i,onChangeSpriteName:l,onChangeSpriteRotationStyle:c,onChangeSpriteSize:d,onChangeSpriteVisibility:u,onChangeSpriteX:p,onChangeSpriteY:m,onDeleteSprite:h,onDrop:g,onDuplicateSprite:f,onExportSprite:b,onFileUploadClick:_,onNewSpriteClick:v,onPaintSpriteClick:y,onRequestCloseSpriteLibrary:w,onSelectSprite:S,onSpriteUpload:E,onSurpriseSpriteClick:C,raiseSprites:k,stage:x,stageSize:O,sprites:F,vm:T}=e,I=Pi(e,Di);return o.a.createElement("div",Ai({className:ji.a.targetPane},I),o.a.createElement(Bs,{editingTarget:t,hoveredTarget:a,raised:k,selectedId:t,spriteFileInput:n,sprites:F,stageSize:O,onChangeSpriteDirection:i,onChangeSpriteName:l,onChangeSpriteRotationStyle:c,onChangeSpriteSize:d,onChangeSpriteVisibility:u,onChangeSpriteX:p,onChangeSpriteY:m,onDeleteSprite:h,onDrop:g,onDuplicateSprite:f,onExportSprite:b,onFileUploadClick:_,onNewSpriteClick:v,onPaintSpriteClick:y,onSelectSprite:S,onSpriteUpload:E,onSurpriseSpriteClick:C}),o.a.createElement("div",{className:ji.a.stageSelectorWrapper},x.id&&o.a.createElement(Ii,{asset:x.costume&&x.costume.asset,backdropCount:x.costumeCount,id:x.id,selected:x.id===t,onSelect:S}),o.a.createElement("div",null,r?o.a.createElement(kr,{vm:T,onActivateBlocksTab:s,onRequestClose:w}):null)))},Ni=s.a.shape({costume:s.a.shape({asset:s.a.object,url:s.a.string,name:s.a.string.isRequired,bitmapResolution:s.a.number,rotationCenterX:s.a.number,rotationCenterY:s.a.number}),costumeCount:s.a.number,direction:s.a.number,id:s.a.string,name:s.a.string,order:s.a.number,size:s.a.number,visibility:s.a.bool,x:s.a.number,y:s.a.number});Mi.propTypes={editingTarget:s.a.string,extensionLibraryVisible:s.a.bool,fileInputRef:s.a.func,hoveredTarget:s.a.shape({hoveredSprite:s.a.string,receivedBlocks:s.a.bool}),onActivateBlocksTab:s.a.func.isRequired,onChangeSpriteDirection:s.a.func,onChangeSpriteName:s.a.func,onChangeSpriteRotationStyle:s.a.func,onChangeSpriteSize:s.a.func,onChangeSpriteVisibility:s.a.func,onChangeSpriteX:s.a.func,onChangeSpriteY:s.a.func,onDeleteSprite:s.a.func,onDrop:s.a.func,onDuplicateSprite:s.a.func,onExportSprite:s.a.func,onFileUploadClick:s.a.func,onNewSpriteClick:s.a.func,onPaintSpriteClick:s.a.func,onRequestCloseExtensionLibrary:s.a.func,onRequestCloseSpriteLibrary:s.a.func,onSelectSprite:s.a.func,onSpriteUpload:s.a.func,onSurpriseSpriteClick:s.a.func,raiseSprites:s.a.bool,spriteLibraryVisible:s.a.bool,sprites:s.a.objectOf(Ni),stage:Ni,stageSize:s.a.oneOf(Object.keys(ha.c)).isRequired,vm:s.a.instanceOf(p.a)};var Li=Mi;const Bi=["dispatchUpdateRestore","isRtl","onActivateTab","onCloseImporting","onHighlightTarget","onReceivedBlocks","onShowImporting","workspaceMetrics"];function Ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gi(){return(Gi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function zi(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class Hi extends o.a.Component{constructor(e){super(e),F()(this,["handleActivateBlocksTab","handleBlockDragEnd","handleChangeSpriteRotationStyle","handleChangeSpriteDirection","handleChangeSpriteName","handleChangeSpriteSize","handleChangeSpriteVisibility","handleChangeSpriteX","handleChangeSpriteY","handleDeleteSprite","handleDrop","handleDuplicateSprite","handleExportSprite","handleNewSprite","handleSelectSprite","handleSurpriseSpriteClick","handlePaintSpriteClick","handleFileUploadClick","handleSpriteUpload","setFileInput"])}componentDidMount(){this.props.vm.addListener("BLOCK_DRAG_END",this.handleBlockDragEnd)}componentWillUnmount(){this.props.vm.removeListener("BLOCK_DRAG_END",this.handleBlockDragEnd)}handleChangeSpriteDirection(e){this.props.vm.postSpriteInfo({direction:e})}handleChangeSpriteRotationStyle(e){this.props.vm.postSpriteInfo({rotationStyle:e})}handleChangeSpriteName(e){this.props.vm.renameSprite(this.props.editingTarget,e)}handleChangeSpriteSize(e){this.props.vm.postSpriteInfo({size:e})}handleChangeSpriteVisibility(e){this.props.vm.postSpriteInfo({visible:e})}handleChangeSpriteX(e){this.props.vm.postSpriteInfo({x:e})}handleChangeSpriteY(e){this.props.vm.postSpriteInfo({y:e})}handleDeleteSprite(e){const t=this.props.vm.deleteSprite(e);this.props.dispatchUpdateRestore({restoreFun:()=>t().then(this.handleActivateBlocksTab),deletedItem:"Sprite"})}handleDuplicateSprite(e){this.props.vm.duplicateSprite(e)}handleExportSprite(e){const t=this.props.vm.runtime.getTargetById(e).getName(),n=document.createElement("a");document.body.appendChild(n),this.props.vm.exportSprite(e).then(e=>{Object(Yo.a)("".concat(t,".sprite3"),e)})}handleSelectSprite(e){this.props.vm.setEditingTarget(e),this.props.stage&&e!==this.props.stage.id&&this.props.onHighlightTarget(e)}async handleSurpriseSpriteClick(){const e=(await hr()).filter(e=>-1===e.tags.indexOf("letters")&&-1===e.tags.indexOf("numbers")),t=e[Math.floor(Math.random()*e.length)];Uo(t),this.props.vm.addSprite(JSON.stringify(t)).then(this.handleActivateBlocksTab)}handlePaintSpriteClick(){const e=this.props.intl.formatMessage,t=(n=e(Qo.a.sprite,{index:1}),e(Qo.a.pop),a=e(Qo.a.costume,{index:1}),{objName:n,sounds:[],costumes:[{costumeName:a,baseLayerID:-1,baseLayerMD5:"cd21514d0531fdffb22204e0ec5ed84a.svg",bitmapResolution:1,rotationCenterX:0,rotationCenterY:0}],currentCostumeIndex:0,scratchX:36,scratchY:28,scale:1,direction:90,rotationStyle:"normal",isDraggable:!1,visible:!0,spriteInfo:{}});var n,a;this.props.vm.addSprite(JSON.stringify(t)).then(()=>{setTimeout(()=>{this.props.onActivateTab(f.b)})})}handleActivateBlocksTab(){this.props.onActivateTab(f.a)}handleNewSprite(e){return this.props.vm.addSprite(e).then(this.handleActivateBlocksTab)}handleFileUploadClick(){this.fileInput.click()}handleSpriteUpload(e){const t=this.props.vm.runtime.storage;this.props.onShowImporting(),Wo(e.target,(e,n,a,o,r)=>{!function(e,t,n,a,o,r=(()=>{})){switch(t){case"":case"application/zip":return void o(new Uint8Array(e));case"image/svg+xml":case"image/png":case"image/bmp":case"image/jpeg":case"image/gif":return void Ko(e,t,a,e=>{e.forEach((e,t)=>{e.name="".concat(n).concat(t?t+1:"")});const t={name:n,isStage:!1,x:0,y:0,visible:!0,size:100,rotationStyle:"all around",direction:90,draggable:!1,currentCostume:0,blocks:{},variables:{},costumes:e,sounds:[]};Uo(t),o(JSON.stringify(t))},r);default:r("Encountered unexpected file type: ".concat(t))}}(e,n,a,t,e=>{this.handleNewSprite(e).then(()=>{o===r-1&&this.props.onCloseImporting()}).catch(this.props.onCloseImporting)},this.props.onCloseImporting)},this.props.onCloseImporting)}setFileInput(e){this.fileInput=e}handleBlockDragEnd(e){this.props.hoveredTarget.sprite&&this.props.hoveredTarget.sprite!==this.props.editingTarget&&(this.shareBlocks(e,this.props.hoveredTarget.sprite,this.props.editingTarget),this.props.onReceivedBlocks(!0))}shareBlocks(e,t,n){const a=e.find(e=>e.topLevel);if(a){let e;e=this.props.workspaceMetrics.targets[t]?this.props.workspaceMetrics.targets[t]:{scrollX:0,scrollY:0,scale:ha.a};const{scrollX:n,scrollY:o,scale:r}=e,s=30-o;let i;i=this.props.isRtl?n+30:30-n,a.x=i/r,a.y=s/r}return this.props.vm.shareBlocksToTarget(e,t,n)}handleDrop(e){const{sprite:t}=this.props.hoveredTarget;e.dragType===ba.SPRITE?this.props.vm.reorderTarget(e.index+1,e.newIndex+1):e.dragType===ba.BACKPACK_SPRITE?mi(e.payload.bodyUrl).then(e=>this.props.vm.addSprite(e)):t&&(e.dragType===ba.COSTUME?this.props.vm.shareCostumeToTarget(e.index,t):t&&e.dragType===ba.SOUND?this.props.vm.shareSoundToTarget(e.index,t):e.dragType===ba.BACKPACK_COSTUME?this.props.vm.addCostume(e.payload.body,{name:e.payload.name},t):e.dragType===ba.BACKPACK_SOUND?this.props.vm.addSound({md5:e.payload.body,name:e.payload.name},t):e.dragType===ba.BACKPACK_CODE&&pi(e.payload.bodyUrl).then(e=>this.shareBlocks(e,t)).then(()=>this.props.vm.refreshWorkspace()))}render(){const e=this.props,{dispatchUpdateRestore:t,isRtl:n,onActivateTab:a,onCloseImporting:r,onHighlightTarget:s,onReceivedBlocks:i,onShowImporting:l,workspaceMetrics:c}=e,d=zi(e,Bi);return o.a.createElement(Li,Gi({},d,{fileInputRef:this.setFileInput,onActivateBlocksTab:this.handleActivateBlocksTab,onChangeSpriteDirection:this.handleChangeSpriteDirection,onChangeSpriteName:this.handleChangeSpriteName,onChangeSpriteRotationStyle:this.handleChangeSpriteRotationStyle,onChangeSpriteSize:this.handleChangeSpriteSize,onChangeSpriteVisibility:this.handleChangeSpriteVisibility,onChangeSpriteX:this.handleChangeSpriteX,onChangeSpriteY:this.handleChangeSpriteY,onDeleteSprite:this.handleDeleteSprite,onDrop:this.handleDrop,onDuplicateSprite:this.handleDuplicateSprite,onExportSprite:this.handleExportSprite,onFileUploadClick:this.handleFileUploadClick,onPaintSpriteClick:this.handlePaintSpriteClick,onSelectSprite:this.handleSelectSprite,onSpriteUpload:this.handleSpriteUpload,onSurpriseSpriteClick:this.handleSurpriseSpriteClick}))}}const Wi=Li.propTypes,{onSelectSprite:Vi,onActivateBlocksTab:Ki}=Wi,Xi=zi(Wi,["onSelectSprite","onActivateBlocksTab"]);Hi.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ui(Object(n),!0).forEach((function(t){qi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({intl:m.f.isRequired,onCloseImporting:s.a.func,onShowImporting:s.a.func},Xi);var Qi=Object(m.e)(Object(l.b)(e=>({editingTarget:e.scratchGui.targets.editingTarget,hoveredTarget:e.scratchGui.hoveredTarget,isRtl:e.locales.isRtl,spriteLibraryVisible:e.scratchGui.modals.spriteLibrary,sprites:e.scratchGui.targets.sprites,stage:e.scratchGui.targets.stage,raiseSprites:e.scratchGui.blockDrag,workspaceMetrics:e.scratchGui.workspaceMetrics}),e=>({onNewSpriteClick:t=>{t.preventDefault(),e(Object(b.w)())},onRequestCloseSpriteLibrary:()=>{e(Object(b.i)())},onActivateTab:t=>{e(Object(f.d)(t))},onReceivedBlocks:t=>{e(Object(Pa.d)(t))},dispatchUpdateRestore:t=>{e(Object(Jo.c)(t))},onHighlightTarget:t=>{e(Object(he.b)(t))},onCloseImporting:()=>e(Object(se.c)("importingAsset")),onShowImporting:()=>e(Object(se.i)("importingAsset"))}))(Hi)),Yi=n(782),Ji=n.n(Yi),Zi=n(783),$i=n.n(Zi),el=n(784),tl=n.n(el),nl=n(785),al=n.n(nl),ol=n(336),rl=n.n(ol);const sl=function(e,t=.55){if(0===e.length)return 0;let n=0;for(let t=0;t<e.length;t++){const a=e[t];n+=Math.pow(a,2)}const a=Math.sqrt(n/e.length)/t;return Math.sqrt(a)},il=function(e,t=1024){const n=e.length,a=[];for(let o=0;o<n;o+=t){const r=Math.min(n,o+t);a.push(sl(e.slice(o,r)))}return a},ll=function(e,t,n,a,o){rl.a.encode({sampleRate:n,channelData:[t]}).then(r=>{const s={format:"",dataFormat:"wav",rate:n,sampleCount:t.length},i=e.runtime.storage;s.asset=i.createAsset(i.AssetType.Sound,i.DataFormat.WAV,new Uint8Array(r),null,!0),s.assetId=s.asset.assetId,s.md5="".concat(s.assetId,".").concat(s.dataFormat),s.name=a,e.addSound(s).then(()=>{o&&o()})})};var cl=n(197),dl=n.n(cl);const ul=e=>{const{level:t,width:n,height:a}=e,r=(a-50)/19,s=((19-Math.floor(19*t))*(r+2.5)+1.25)/a;return o.a.createElement("div",{className:dl.a.maskContainer,style:{height:"".concat(a,"px")}},o.a.createElement("svg",{className:dl.a.container,height:a,width:n},Array(19).fill(0).map((e,t)=>o.a.createElement("rect",{className:t<11?dl.a.green:t<16?dl.a.yellow:dl.a.red,height:r,key:t,rx:3,ry:3,width:n-2,x:1,y:a-(2.5+r)*(t+1)}))),o.a.createElement("div",{className:dl.a.mask,style:{transform:"scaleY(".concat(s,")")}}))};ul.propTypes={height:s.a.number,level:s.a.number,width:s.a.number};var pl=ul,ml=n(433),hl=n.n(ml);class gl extends o.a.PureComponent{render(){const{width:e,height:t,data:n}=this.props,a=Math.ceil(n.length/e),r=1===a?n.slice(0):n.filter((e,t)=>t%a==0);1===r.length&&r.push(r[0]);const s=r.length-1,i=[...r.map((n,a)=>[e*(a/s),t*n/2]),...r.reverse().map((n,a)=>[e*(1-a/s),-t*n/2])],l=i.map(([e,t],n)=>{const[a,o]=i[n<i.length-1?n+1:0];return"Q".concat(e," ").concat(t," ").concat((e+a)/2," ").concat((t+o)/2)});return o.a.createElement("svg",{className:hl.a.container,viewBox:"0 0 ".concat(e," ").concat(t)},o.a.createElement("g",{transform:"scale(1, -1) translate(0, -".concat(t/2,")")},o.a.createElement("path",{className:hl.a.waveformPath,d:"M0 0".concat(l.join(" "),"Z"),strokeLinejoin:"round",strokeWidth:1})))}}gl.propTypes={data:s.a.arrayOf(s.a.number),height:s.a.number,width:s.a.number};var fl=gl,bl=n(46),_l=n.n(bl),vl=n(786),yl=n.n(vl);const wl=Object(m.d)({beginRecord:{id:"gui.recordingStep.beginRecord",defaultMessage:"Begin recording by clicking the button below"},permission:{id:"gui.recordingStep.permission",defaultMessage:"{arrow}We need your permission to use your microphone"},stop:{id:"gui.recordingStep.stop",defaultMessage:"Stop recording"},record:{id:"gui.recordingStep.record",defaultMessage:"Record"}}),Sl=e=>o.a.createElement(it.a,null,o.a.createElement(it.a,{className:_l.a.visualizationContainer},o.a.createElement(it.a,{className:_l.a.meterContainer},o.a.createElement(pl,{height:172,level:e.level,width:20})),o.a.createElement(it.a,{className:_l.a.waveformContainer},e.levels?o.a.createElement(fl,{data:e.levels,height:150,level:0,width:440}):o.a.createElement("span",{className:_l.a.helpText},e.listening?e.intl.formatMessage(wl.beginRecord):e.intl.formatMessage(wl.permission,{arrow:e.isRtl?"↗️  ":"↖️  "})))),o.a.createElement(it.a,{className:_l.a.mainButtonRow},o.a.createElement("button",{className:_l.a.mainButton,disabled:!e.listening,onClick:e.recording?e.onStopRecording:e.onRecord},e.recording?o.a.createElement("img",{draggable:!1,src:yl.a}):o.a.createElement("svg",{className:_l.a.recordButton,height:"52",width:"52"},o.a.createElement("circle",{className:_l.a.recordButtonCircle,cx:"26",cy:"26",r:"25"}),o.a.createElement("circle",{className:_l.a.recordButtonCircleOutline,cx:"26",cy:"26",r:27+5*e.level})),o.a.createElement("div",{className:_l.a.helpText},o.a.createElement("span",{className:_l.a.recordingText},e.recording?e.intl.formatMessage(wl.stop):e.intl.formatMessage(wl.record))))));Sl.propTypes={intl:m.f.isRequired,isRtl:s.a.bool,level:s.a.number,levels:s.a.arrayOf(s.a.number),listening:s.a.bool,onRecord:s.a.func.isRequired,onStopRecording:s.a.func.isRequired,recording:s.a.bool};var El=Object(m.e)(Sl),Cl=(n(1437),n(337)),kl=n.n(Cl),xl=n(420),Ol=n.n(xl),Fl=n(338);let Tl;if(!n.n(Fl).a.msie){const e=void 0===document.ontouchstart?"mousedown":"touchstart",t=()=>{document.removeEventListener(e,t),Tl=new(window.AudioContext||window.webkitAudioContext),Ol()(Tl)};document.addEventListener(e,t)}var Il=function(){return Tl};var Rl=class{constructor(){this.audioContext=new Il,this.bufferLength=8192,this.userMediaStream=null,this.mediaStreamSource=null,this.sourceNode=null,this.scriptProcessorNode=null,this.recordedSamples=0,this.recording=!1,this.started=!1,this.buffers=[],this.disposed=!1}startListening(e,t,n){try{kl()({audio:!0}).then(n=>{this.disposed||(this.started=!0,e(),this.attachUserMediaStream(n,t))}).catch(e=>{this.disposed||n(e)})}catch(e){this.disposed||n(e)}}startRecording(){this.recording=!0}attachUserMediaStream(e,t){this.userMediaStream=e,this.mediaStreamSource=this.audioContext.createMediaStreamSource(e),this.sourceNode=this.audioContext.createGain(),this.scriptProcessorNode=this.audioContext.createScriptProcessor(this.bufferLength,1,1),this.scriptProcessorNode.onaudioprocess=e=>{this.recording&&!this.disposed&&this.buffers.push(new Float32Array(e.inputBuffer.getChannelData(0)))},this.analyserNode=this.audioContext.createAnalyser(),this.analyserNode.fftSize=2048;const n=this.analyserNode.frequencyBinCount,a=new Float32Array(n),o=()=>{this.disposed||(this.analyserNode.getFloatTimeDomainData(a),t(sl(a)),requestAnimationFrame(o))};requestAnimationFrame(o),this.mediaStreamSource.connect(this.sourceNode),this.sourceNode.connect(this.analyserNode),this.analyserNode.connect(this.scriptProcessorNode),this.scriptProcessorNode.connect(this.audioContext.destination)}stop(){const e=new Float32Array(this.buffers.length*this.bufferLength);let t=0;for(let n=0;n<this.buffers.length;n++){const a=this.buffers[n];e.set(a,t),t+=a.length}const n=il(e),a=Math.max.apply(null,n)/8;let o=null,r=null;for(let e=0;e<n.length;e++)n[e]>a&&(null===o&&(o=e+1),r=e+1);let s=Math.max(2,o-2)/this.buffers.length,i=Math.min(this.buffers.length-2,r+2)/this.buffers.length;return s>=i&&(s=0,i=1),{levels:n,samples:e,sampleRate:this.audioContext.sampleRate,trimStart:s,trimEnd:i}}dispose(){this.started&&(this.scriptProcessorNode.onaudioprocess=null,this.scriptProcessorNode.disconnect(),this.analyserNode.disconnect(),this.sourceNode.disconnect(),this.mediaStreamSource.disconnect(),this.userMediaStream.getAudioTracks()[0].stop()),this.disposed=!0}};const jl=["onRecord","onStopRecording"];function Dl(){return(Dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Al(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Pl=Object(m.d)({alertMsg:{id:"gui.recordingStep.alertMsg",defaultMessage:"Could not start recording"}});class Ml extends o.a.Component{constructor(e){super(e),F()(this,["handleRecord","handleStopRecording","handleStarted","handleLevelUpdate","handleRecordingError"]),this.state={listening:!1,level:0,levels:null}}componentDidMount(){this.audioRecorder=new Rl,this.audioRecorder.startListening(this.handleStarted,this.handleLevelUpdate,this.handleRecordingError)}componentWillUnmount(){this.audioRecorder.dispose()}handleStarted(){this.setState({listening:!0})}handleRecordingError(){alert(this.props.intl.formatMessage(Pl.alertMsg))}handleLevelUpdate(e){this.setState({level:e,levels:this.props.recording?(this.state.levels||[]).concat([e]):this.state.levels})}handleRecord(){this.audioRecorder.startRecording(),this.props.onRecord()}handleStopRecording(){const{samples:e,sampleRate:t,levels:n,trimStart:a,trimEnd:o}=this.audioRecorder.stop();this.props.onStopRecording(e,t,n,a,o)}render(){const e=this.props,{onRecord:t,onStopRecording:n}=e,a=Al(e,jl);return o.a.createElement(El,Dl({level:this.state.level,levels:this.state.levels,listening:this.state.listening,onRecord:this.handleRecord,onStopRecording:this.handleStopRecording},a))}}Ml.propTypes={intl:m.f.isRequired,onRecord:s.a.func.isRequired,onStopRecording:s.a.func.isRequired,recording:s.a.bool};var Nl=Object(m.e)(Ml),Ll=n(37),Bl=n.n(Ll),Ul=n(434),ql=n.n(Ul);const Gl=e=>o.a.createElement(it.a,{className:Ve()(Bl.a.trimLine,e.handleStyle),onMouseDown:e.onMouseDown,onTouchStart:e.onMouseDown},o.a.createElement(it.a,{className:Ve()(Bl.a.trimHandle,Bl.a.topTrimHandle)},o.a.createElement("img",{src:ql.a})),o.a.createElement(it.a,{className:Ve()(Bl.a.trimHandle,Bl.a.bottomTrimHandle)},o.a.createElement("img",{src:ql.a})));Gl.propTypes={handleStyle:s.a.string,onMouseDown:s.a.func};var zl=Gl;const Hl=e=>o.a.createElement("div",{className:Bl.a.playheadContainer},o.a.createElement("div",{className:Ve()(Bl.a.playhead),style:{transform:"translateX(".concat(100*e.playbackPosition,"%)")}}));Hl.propTypes={playbackPosition:s.a.number};var Wl=Hl;const Vl=e=>o.a.createElement("div",{className:Ve()(Bl.a.absolute,Bl.a.trimmer),ref:e.containerRef},null===e.trimStart?null:o.a.createElement(it.a,{className:Ve()(Bl.a.absolute,Bl.a.trimBackground,Bl.a.startTrimBackground),style:{width:"".concat(100*e.trimStart,"%")},onMouseDown:e.onTrimStartMouseDown,onTouchStart:e.onTrimStartMouseDown},o.a.createElement(it.a,{className:Ve()(Bl.a.absolute,Bl.a.trimBackgroundMask)}),o.a.createElement(zl,{handleStyle:Bl.a.leftHandle})),e.playhead?o.a.createElement(Wl,{playbackPosition:e.playhead}):null,null===e.trimEnd?null:o.a.createElement(it.a,{className:Ve()(Bl.a.absolute,Bl.a.trimBackground,Bl.a.endTrimBackground),style:{left:"".concat(100*e.trimEnd,"%"),width:"".concat(100-100*e.trimEnd,"%")},onMouseDown:e.onTrimEndMouseDown,onTouchStart:e.onTrimEndMouseDown},o.a.createElement(it.a,{className:Ve()(Bl.a.absolute,Bl.a.trimBackgroundMask)}),o.a.createElement(zl,{handleStyle:Bl.a.rightHandle})));Vl.propTypes={containerRef:s.a.func,onTrimEndMouseDown:s.a.func.isRequired,onTrimStartMouseDown:s.a.func.isRequired,playhead:s.a.number,trimEnd:s.a.number,trimStart:s.a.number};var Kl=Vl;class Xl extends o.a.Component{constructor(e){super(e),F()(this,["handleTrimStartMouseDown","handleTrimEndMouseDown","handleTrimStartMouseMove","handleTrimEndMouseMove","storeRef"]),this.trimStartDragRecognizer=new qa({onDrag:this.handleTrimStartMouseMove,touchDragAngle:90,distanceThreshold:0}),this.trimEndDragRecognizer=new qa({onDrag:this.handleTrimEndMouseMove,touchDragAngle:90,distanceThreshold:0})}handleTrimStartMouseMove(e,t){const n=(e.x-t.x)/this.containerSize,a=Math.max(0,Math.min(this.props.trimEnd-.01,this.initialTrim+n));this.props.onSetTrimStart(a)}handleTrimEndMouseMove(e,t){const n=(e.x-t.x)/this.containerSize,a=Math.min(1,Math.max(this.props.trimStart+.01,this.initialTrim+n));this.props.onSetTrimEnd(a)}handleTrimStartMouseDown(e){this.containerSize=this.containerElement.getBoundingClientRect().width,this.trimStartDragRecognizer.start(e),this.initialTrim=this.props.trimStart,e.stopPropagation(),e.preventDefault()}handleTrimEndMouseDown(e){this.containerSize=this.containerElement.getBoundingClientRect().width,this.trimEndDragRecognizer.start(e),this.initialTrim=this.props.trimEnd,e.stopPropagation(),e.preventDefault()}storeRef(e){this.containerElement=e}render(){return o.a.createElement(Kl,{containerRef:this.storeRef,playhead:this.props.playhead,trimEnd:this.props.trimEnd,trimStart:this.props.trimStart,onTrimEndMouseDown:this.handleTrimEndMouseDown,onTrimStartMouseDown:this.handleTrimStartMouseDown})}}Xl.propTypes={onSetTrimEnd:s.a.func,onSetTrimStart:s.a.func,playhead:s.a.number,trimEnd:s.a.number,trimStart:s.a.number};var Ql=Xl,Yl=n(787),Jl=n.n(Yl),Zl=n(788),$l=n.n(Zl),ec=n(789),tc=n.n(ec);const nc=Object(m.d)({stopMsg:{id:"gui.playbackStep.stopMsg",defaultMessage:"Stop"},playMsg:{id:"gui.playbackStep.playMsg",defaultMessage:"Play"},loadingMsg:{id:"gui.playbackStep.loadingMsg",defaultMessage:"Loading..."},saveMsg:{id:"gui.playbackStep.saveMsg",defaultMessage:"Save"},reRecordMsg:{id:"gui.playbackStep.reRecordMsg",defaultMessage:"Re-record"}}),ac=e=>o.a.createElement(it.a,null,o.a.createElement(it.a,{className:_l.a.visualizationContainer},o.a.createElement(it.a,{className:_l.a.meterContainer},o.a.createElement(pl,{height:172,level:0,width:20})),o.a.createElement(it.a,{className:_l.a.waveformContainer},o.a.createElement(fl,{data:e.levels,height:150,level:0,width:480}),o.a.createElement(Ql,{playhead:e.playhead,trimEnd:e.trimEnd,trimStart:e.trimStart,onSetTrimEnd:e.onSetTrimEnd,onSetTrimStart:e.onSetTrimStart}))),o.a.createElement(it.a,{className:_l.a.mainButtonRow},o.a.createElement("button",{className:_l.a.mainButton,onClick:e.playing?e.onStopPlaying:e.onPlay},o.a.createElement("img",{draggable:!1,src:e.playing?$l.a:tc.a}),o.a.createElement("div",{className:_l.a.helpText},o.a.createElement("span",{className:_l.a.playingText},e.playing?e.intl.formatMessage(nc.stopMsg):e.intl.formatMessage(nc.playMsg))))),o.a.createElement(it.a,{className:_l.a.buttonRow},o.a.createElement("button",{className:_l.a.rerecordButton,onClick:e.onBack},o.a.createElement("img",{draggable:!1,src:Jl.a}),e.intl.formatMessage(nc.reRecordMsg)),o.a.createElement("button",{className:_l.a.okButton,disabled:e.encoding,onClick:e.onSubmit},e.encoding?e.intl.formatMessage(nc.loadingMsg):e.intl.formatMessage(nc.saveMsg))));ac.propTypes={encoding:s.a.bool.isRequired,intl:m.f.isRequired,levels:s.a.arrayOf(s.a.number).isRequired,onBack:s.a.func.isRequired,onPlay:s.a.func.isRequired,onSetTrimEnd:s.a.func.isRequired,onSetTrimStart:s.a.func.isRequired,onStopPlaying:s.a.func.isRequired,onSubmit:s.a.func.isRequired,playhead:s.a.number,playing:s.a.bool.isRequired,trimEnd:s.a.number.isRequired,trimStart:s.a.number.isRequired};var oc=Object(m.e)(ac);var rc=class{constructor(e,t){this.audioContext=new Il,this.buffer=this.audioContext.createBuffer(1,e.length,t),this.buffer.getChannelData(0).set(e),this.source=null,this.startTime=null,this.updateCallback=null,this.trimStart=null,this.trimEnd=null}play(e,t,n,a){this.updateCallback=n,this.trimStart=e,this.trimEnd=t,this.startTime=Date.now();const o=this.buffer.duration*e,r=this.buffer.duration*t-o;this.source=this.audioContext.createBufferSource(),this.source.onended=a,this.source.buffer=this.buffer,this.source.connect(this.audioContext.destination),this.source.start(0,o,r),this.update()}update(){const e=(Date.now()-this.startTime)/1e3/this.buffer.duration;e+this.trimStart<this.trimEnd&&this.source.onended?(requestAnimationFrame(this.update.bind(this)),this.updateCallback(e+this.trimStart)):this.updateCallback=null}stop(){if(this.source){this.source.onended=null;try{this.source.stop()}catch(e){console.log("Caught error while stopping buffer source node.")}}}};const sc=["sampleRate","onPlay","onStopPlaying","onSetPlayhead"];function ic(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function lc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cc(){return(cc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function dc(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class uc extends o.a.Component{constructor(e){super(e),F()(this,["handlePlay","handleStopPlaying"])}componentDidMount(){this.audioBufferPlayer=new rc(this.props.samples,this.props.sampleRate)}componentWillUnmount(){this.audioBufferPlayer.stop()}handlePlay(){this.audioBufferPlayer.play(this.props.trimStart,this.props.trimEnd,this.props.onSetPlayhead,this.props.onStopPlaying),this.props.onPlay()}handleStopPlaying(){this.audioBufferPlayer.stop(),this.props.onStopPlaying()}render(){const e=this.props,{sampleRate:t,onPlay:n,onStopPlaying:a,onSetPlayhead:r}=e,s=dc(e,sc);return o.a.createElement(oc,cc({onPlay:this.handlePlay,onStopPlaying:this.handleStopPlaying},s))}}uc.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ic(Object(n),!0).forEach((function(t){lc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ic(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sampleRate:s.a.number.isRequired,samples:s.a.instanceOf(Float32Array).isRequired},oc.propTypes);var pc=uc;const mc=Object(m.d)({title:{id:"gui.recordModal.title",defaultMessage:"Record Sound"}}),hc=e=>o.a.createElement(Ot,{className:_l.a.modalContent,contentLabel:e.intl.formatMessage(mc.title),onRequestClose:e.onCancel},o.a.createElement(it.a,{className:_l.a.body},e.samples?o.a.createElement(pc,{encoding:e.encoding,levels:e.levels,playhead:e.playhead,playing:e.playing,sampleRate:e.sampleRate,samples:e.samples,trimEnd:e.trimEnd,trimStart:e.trimStart,onBack:e.onBack,onPlay:e.onPlay,onSetPlayhead:e.onSetPlayhead,onSetTrimEnd:e.onSetTrimEnd,onSetTrimStart:e.onSetTrimStart,onStopPlaying:e.onStopPlaying,onSubmit:e.onSubmit}):o.a.createElement(Nl,{recording:e.recording,onRecord:e.onRecord,onStopRecording:e.onStopRecording})));hc.propTypes={encoding:s.a.bool.isRequired,intl:m.f.isRequired,levels:s.a.arrayOf(s.a.number),onBack:s.a.func.isRequired,onCancel:s.a.func.isRequired,onPlay:s.a.func.isRequired,onRecord:s.a.func.isRequired,onSetPlayhead:s.a.func.isRequired,onSetTrimEnd:s.a.func.isRequired,onSetTrimStart:s.a.func.isRequired,onStopPlaying:s.a.func.isRequired,onStopRecording:s.a.func.isRequired,onSubmit:s.a.func.isRequired,playhead:s.a.number,playing:s.a.bool,recording:s.a.bool,sampleRate:s.a.number,samples:s.a.instanceOf(Float32Array),trimEnd:s.a.number.isRequired,trimStart:s.a.number.isRequired};var gc=Object(m.e)(hc);class fc extends o.a.Component{constructor(e){super(e),F()(this,["handleRecord","handleStopRecording","handlePlay","handleStopPlaying","handleBack","handleSubmit","handleCancel","handleSetPlayhead","handleSetTrimStart","handleSetTrimEnd"]),this.state={samples:null,encoding:!1,levels:null,playhead:null,playing:!1,recording:!1,sampleRate:null,trimStart:0,trimEnd:1}}handleRecord(){this.setState({recording:!0})}handleStopRecording(e,t,n,a,o){e.length>0&&this.setState({samples:e,sampleRate:t,levels:n,trimStart:a,trimEnd:o,recording:!1})}handlePlay(){this.setState({playing:!0})}handleStopPlaying(){this.setState({playing:!1,playhead:null})}handleBack(){this.setState({playing:!1,samples:null})}handleSetTrimEnd(e){this.setState({trimEnd:e})}handleSetTrimStart(e){this.setState({trimStart:e})}handleSetPlayhead(e){this.setState({playhead:e})}handleSubmit(){this.setState({encoding:!0},()=>{const e=this.state.samples.length,t=Math.floor(this.state.trimStart*e),n=Math.floor(this.state.trimEnd*e),a=this.state.samples.slice(t,n);ll(this.props.vm,a,this.state.sampleRate,"recording1",()=>{this.props.onClose(),this.props.onNewSound()})})}handleCancel(){this.props.onClose()}render(){return o.a.createElement(gc,{encoding:this.state.encoding,levels:this.state.levels,playhead:this.state.playhead,playing:this.state.playing,recording:this.state.recording,sampleRate:this.state.sampleRate,samples:this.state.samples,trimEnd:this.state.trimEnd,trimStart:this.state.trimStart,onBack:this.handleBack,onCancel:this.handleCancel,onPlay:this.handlePlay,onRecord:this.handleRecord,onSetPlayhead:this.handleSetPlayhead,onSetTrimEnd:this.handleSetTrimEnd,onSetTrimStart:this.handleSetTrimStart,onStopPlaying:this.handleStopPlaying,onStopRecording:this.handleStopRecording,onSubmit:this.handleSubmit})}}fc.propTypes={onClose:s.a.func,onNewSound:s.a.func,vm:s.a.instanceOf(p.a)};var bc=Object(l.b)(e=>({vm:e.scratchGui.vm}),e=>({onClose:()=>{e(Object(b.h)())}}))(fc);class _c{static get DELAY_TIME(){return.25}static get TAIL_SECONDS(){return.75}constructor(e,t,n){this.audioContext=e,this.input=this.audioContext.createGain(),this.output=this.audioContext.createGain(),this.effectInput=this.audioContext.createGain(),this.effectInput.gain.value=0,this.effectInput.gain.setValueAtTime(.75,t),this.effectInput.gain.setValueAtTime(0,n),this.delay=this.audioContext.createDelay(1),this.delay.delayTime.value=_c.DELAY_TIME,this.decay=this.audioContext.createGain(),this.decay.gain.value=.3,this.compressor=this.audioContext.createDynamicsCompressor(),this.compressor.threshold.value=-5,this.compressor.knee.value=15,this.compressor.ratio.value=12,this.compressor.attack.value=0,this.compressor.release.value=.25,this.input.connect(this.effectInput),this.effectInput.connect(this.delay),this.delay.connect(this.compressor),this.input.connect(this.compressor),this.delay.connect(this.decay),this.decay.connect(this.delay),this.compressor.connect(this.output)}}var vc=_c;var yc=class{constructor(e,t,n){this.audioContext=e,this.input=this.audioContext.createGain(),this.output=this.audioContext.createGain(),this.passthrough=this.audioContext.createGain(),this.effectInput=this.audioContext.createGain(),this.passthrough.gain.value=1,this.effectInput.gain.value=0,this.passthrough.gain.setValueAtTime(0,t),this.passthrough.gain.setValueAtTime(1,n),this.effectInput.gain.setValueAtTime(1,t),this.effectInput.gain.setValueAtTime(0,n);const a=()=>{const e=this.audioContext.createWaveShaper(),t=(e,t=.2,n=.4,a=.65)=>e<=t?0:e<=n?a*(Math.pow(e-t,2)/(2*n-2*t)):a*e-a*n+a*(Math.pow(e-t,2)/(2*n-2*t)),n=new Float32Array(1024);for(let e=0;e<1024;e++){const a=e/1024*2-1;n[e]=t(a)}return e.curve=n,e},o=this.audioContext.createOscillator();o.frequency.value=50,o.start(0);const r=this.audioContext.createGain();r.gain.value=.5;const s=this.audioContext.createGain();s.gain.value=-1;const i=this.audioContext.createGain();i.gain.value=-1;const l=a(this.audioContext),c=a(this.audioContext),d=this.audioContext.createGain();d.gain.value=-1;const u=this.audioContext.createGain();u.gain.value=-1;const p=a(this.audioContext),m=a(this.audioContext),h=this.audioContext.createDynamicsCompressor();h.threshold.value=-5,h.knee.value=15,h.ratio.value=12,h.attack.value=0,h.release.value=.25;const g=this.audioContext.createBiquadFilter();g.type="highpass",g.frequency.value=1e3,g.gain.value=1.25,this.input.connect(this.effectInput),this.input.connect(this.passthrough),this.passthrough.connect(this.output),this.effectInput.connect(u),this.effectInput.connect(m),u.connect(p),o.connect(r),r.connect(s),r.connect(u),r.connect(m),s.connect(i),s.connect(c),i.connect(l),l.connect(d),c.connect(d),d.connect(h),p.connect(h),m.connect(h),this.effectInput.connect(g),g.connect(h),h.connect(this.output)}};var wc=class{constructor(e,t,n,a){this.audioContext=e,this.input=this.audioContext.createGain(),this.output=this.audioContext.createGain(),this.gain=this.audioContext.createGain(),this.rampLength=.01,this.gain.gain.setValueAtTime(1,Math.max(0,n-this.rampLength)),this.gain.gain.exponentialRampToValueAtTime(t,n),this.gain.gain.setValueAtTime(t,a),this.gain.gain.exponentialRampToValueAtTime(1,a+this.rampLength),this.input.connect(this.gain),this.gain.connect(this.output)}};var Sc=class{constructor(e,t,n,a){this.audioContext=e,this.input=this.audioContext.createGain(),this.output=this.audioContext.createGain(),this.gain=this.audioContext.createGain(),this.gain.gain.setValueAtTime(1,0),t?(this.gain.gain.setValueAtTime(0,n),this.gain.gain.linearRampToValueAtTime(1,a)):(this.gain.gain.setValueAtTime(1,n),this.gain.gain.linearRampToValueAtTime(0,a)),this.gain.gain.setValueAtTime(1,a),this.input.connect(this.gain),this.gain.connect(this.output)}};var Ec=class{constructor(e,t,n){this.audioContext=e,this.input=this.audioContext.createGain(),this.output=this.audioContext.createGain(),this.gain=this.audioContext.createGain(),this.rampLength=.001,this.gain.gain.setValueAtTime(1,Math.max(0,t-this.rampLength)),this.gain.gain.linearRampToValueAtTime(0,t),this.gain.gain.setValueAtTime(0,n),this.gain.gain.linearRampToValueAtTime(1,n+this.rampLength),this.input.connect(this.gain),this.gain.connect(this.output)}};const Cc={ROBOT:"robot",REVERSE:"reverse",LOUDER:"higher",SOFTER:"lower",FASTER:"faster",SLOWER:"slower",ECHO:"echo",FADEIN:"fade in",FADEOUT:"fade out",MUTE:"mute"};var kc=class{static get effectTypes(){return Cc}constructor(e,t,n,a){this.trimStartSeconds=n*e.length/e.sampleRate,this.trimEndSeconds=a*e.length/e.sampleRate,this.adjustedTrimStartSeconds=this.trimStartSeconds,this.adjustedTrimEndSeconds=this.trimEndSeconds;const o=Math.pow(2,4/12);let r=e.length;const s=Math.floor((this.trimEndSeconds-this.trimStartSeconds)*e.sampleRate);let i=s;const l=r-s;switch(this.playbackRate=1,t){case Cc.ECHO:r=Math.max(r,Math.floor((this.trimEndSeconds+vc.TAIL_SECONDS)*e.sampleRate));break;case Cc.FASTER:this.playbackRate=o,i=Math.floor(s/this.playbackRate),r=l+i;break;case Cc.SLOWER:this.playbackRate=1/o,i=Math.floor(s/this.playbackRate),r=l+i}const c=r/e.sampleRate;if(this.adjustedTrimEndSeconds=this.trimStartSeconds+i/e.sampleRate,this.adjustedTrimStart=this.adjustedTrimStartSeconds/c,this.adjustedTrimEnd=this.adjustedTrimEndSeconds/c,window.OfflineAudioContext)this.audioContext=new window.OfflineAudioContext(1,r,e.sampleRate);else{const t=44100/e.sampleRate;this.audioContext=new window.webkitOfflineAudioContext(1,t*r,44100)}if(t===Cc.REVERSE){const t=e.getChannelData(0),n=this.audioContext.createBuffer(1,e.length,e.sampleRate),a=n.getChannelData(0),o=e.length,r=Math.floor(this.trimStartSeconds*e.sampleRate),s=Math.floor(this.trimEndSeconds*e.sampleRate);let i=0;for(let e=0;e<o;e++)e>=r&&e<s?(a[e]=t[s-i-1],i++):a[e]=t[e];this.buffer=n}else this.buffer=e;this.source=this.audioContext.createBufferSource(),this.source.buffer=this.buffer,this.name=t}process(e){let t,n;switch(this.name){case Cc.FASTER:case Cc.SLOWER:this.source.playbackRate.setValueAtTime(this.playbackRate,this.adjustedTrimStartSeconds),this.source.playbackRate.setValueAtTime(1,this.adjustedTrimEndSeconds);break;case Cc.LOUDER:({input:t,output:n}=new wc(this.audioContext,1.25,this.adjustedTrimStartSeconds,this.adjustedTrimEndSeconds));break;case Cc.SOFTER:({input:t,output:n}=new wc(this.audioContext,.75,this.adjustedTrimStartSeconds,this.adjustedTrimEndSeconds));break;case Cc.ECHO:({input:t,output:n}=new vc(this.audioContext,this.adjustedTrimStartSeconds,this.adjustedTrimEndSeconds));break;case Cc.ROBOT:({input:t,output:n}=new yc(this.audioContext,this.adjustedTrimStartSeconds,this.adjustedTrimEndSeconds));break;case Cc.FADEIN:({input:t,output:n}=new Sc(this.audioContext,!0,this.adjustedTrimStartSeconds,this.adjustedTrimEndSeconds));break;case Cc.FADEOUT:({input:t,output:n}=new Sc(this.audioContext,!1,this.adjustedTrimStartSeconds,this.adjustedTrimEndSeconds));break;case Cc.MUTE:({input:t,output:n}=new Ec(this.audioContext,this.adjustedTrimStartSeconds,this.adjustedTrimEndSeconds))}t&&n?(this.source.connect(t),n.connect(this.audioContext.destination)):this.source.connect(this.audioContext.destination),this.source.start(),this.audioContext.startRendering(),this.audioContext.oncomplete=({renderedBuffer:t})=>{e(t,this.adjustedTrimStart,this.adjustedTrimEnd)}}};const xc=e=>o.a.createElement("div",{className:Ve()(Bl.a.absolute,Bl.a.selector),ref:e.containerRef,onMouseDown:e.onNewSelectionMouseDown,onTouchStart:e.onNewSelectionMouseDown},null===e.trimStart?null:o.a.createElement(it.a,{className:Ve()(Bl.a.absolute),style:{left:"".concat(100*e.trimStart,"%"),width:"".concat(100*(e.trimEnd-e.trimStart),"%")}},o.a.createElement(it.a,{className:Ve()(Bl.a.absolute,Bl.a.selectionBackground)}),o.a.createElement(zl,{handleStyle:Bl.a.leftHandle,onMouseDown:e.onTrimStartMouseDown}),o.a.createElement(zl,{handleStyle:Bl.a.rightHandle,onMouseDown:e.onTrimEndMouseDown})),e.playhead?o.a.createElement(Wl,{playbackPosition:e.playhead}):null);xc.propTypes={containerRef:s.a.func,onNewSelectionMouseDown:s.a.func.isRequired,onTrimEndMouseDown:s.a.func.isRequired,onTrimStartMouseDown:s.a.func.isRequired,playhead:s.a.number,trimEnd:s.a.number,trimStart:s.a.number};var Oc=xc;class Fc extends o.a.Component{constructor(e){super(e),F()(this,["handleNewSelectionMouseDown","handleTrimStartMouseDown","handleTrimEndMouseDown","handleTrimStartMouseMove","handleTrimEndMouseMove","handleTrimStartMouseUp","handleTrimEndMouseUp","storeRef"]),this.state={trimStart:e.trimStart,trimEnd:e.trimEnd},this.clickStartTime=0,this.trimStartDragRecognizer=new qa({onDrag:this.handleTrimStartMouseMove,onDragEnd:this.handleTrimStartMouseUp,touchDragAngle:90,distanceThreshold:0}),this.trimEndDragRecognizer=new qa({onDrag:this.handleTrimEndMouseMove,onDragEnd:this.handleTrimEndMouseUp,touchDragAngle:90,distanceThreshold:0})}componentWillReceiveProps(e){const{trimStart:t,trimEnd:n}=this.props;e.trimStart===t&&e.trimEnd===n||this.setState({trimStart:e.trimStart,trimEnd:e.trimEnd})}clearSelection(){this.props.onSetTrim(null,null)}handleNewSelectionMouseDown(e){const{width:t,left:n}=this.containerElement.getBoundingClientRect();this.initialTrimEnd=(Ba(e).x-n)/t,this.initialTrimStart=this.initialTrimEnd,this.props.onSetTrim(this.initialTrimStart,this.initialTrimEnd),this.clickStartTime=Date.now(),this.containerSize=t,this.trimEndDragRecognizer.start(e),e.preventDefault()}handleTrimStartMouseMove(e,t){const n=(e.x-t.x)/this.containerSize,a=Math.max(0,Math.min(1,this.initialTrimStart+n));a>this.initialTrimEnd?this.setState({trimStart:this.initialTrimEnd,trimEnd:a}):this.setState({trimStart:a,trimEnd:this.initialTrimEnd})}handleTrimEndMouseMove(e,t){const n=(e.x-t.x)/this.containerSize,a=Math.min(1,Math.max(0,this.initialTrimEnd+n));a<this.initialTrimStart?this.setState({trimStart:a,trimEnd:this.initialTrimStart}):this.setState({trimStart:this.initialTrimStart,trimEnd:a})}handleTrimStartMouseUp(){this.props.onSetTrim(this.state.trimStart,this.state.trimEnd)}handleTrimEndMouseUp(){const e=Date.now()-this.clickStartTime<500,t=this.state.trimEnd-this.state.trimStart<.01;e&&t?this.clearSelection():this.props.onSetTrim(this.state.trimStart,this.state.trimEnd)}handleTrimStartMouseDown(e){this.containerSize=this.containerElement.getBoundingClientRect().width,this.trimStartDragRecognizer.start(e),this.initialTrimStart=this.props.trimStart,this.initialTrimEnd=this.props.trimEnd,e.stopPropagation(),e.preventDefault()}handleTrimEndMouseDown(e){this.containerSize=this.containerElement.getBoundingClientRect().width,this.trimEndDragRecognizer.start(e),this.initialTrimEnd=this.props.trimEnd,this.initialTrimStart=this.props.trimStart,e.stopPropagation(),e.preventDefault()}storeRef(e){this.containerElement=e}render(){return o.a.createElement(Oc,{containerRef:this.storeRef,playhead:this.props.playhead,trimEnd:this.state.trimEnd,trimStart:this.state.trimStart,onNewSelectionMouseDown:this.handleNewSelectionMouseDown,onTrimEndMouseDown:this.handleTrimEndMouseDown,onTrimStartMouseDown:this.handleTrimStartMouseDown})}}Fc.propTypes={onSetTrim:s.a.func,playhead:s.a.number,trimEnd:s.a.number,trimStart:s.a.number};var Tc=Fc,Ic=n(285),Rc=n.n(Ic);const jc=({img:e,disabled:t,className:n,title:a,onClick:r})=>o.a.createElement("div",{className:Ve()(Rc.a.container,n,t?Rc.a.disabled:null),role:"button",onClick:t?null:r},o.a.createElement("img",{className:Rc.a.icon,draggable:!1,src:e}),o.a.createElement("div",{className:Rc.a.title},a));jc.propTypes={className:s.a.string,disabled:s.a.bool,img:s.a.string,onClick:s.a.func.isRequired,title:s.a.node.isRequired};var Dc=jc,Ac=n(31),Pc=n.n(Ac),Mc=n(790),Nc=n.n(Mc),Lc=n(791),Bc=n.n(Lc),Uc=n(792),qc=n.n(Uc),Gc=n(793),zc=n.n(Gc),Hc=n(794),Wc=n.n(Hc),Vc=n(795),Kc=n.n(Vc),Xc=n(796),Qc=n.n(Xc),Yc=n(797),Jc=n.n(Yc),Zc=n(798),$c=n.n(Zc),ed=n(799),td=n.n(ed),nd=n(800),ad=n.n(nd),od=n(801),rd=n.n(od),sd=n(802),id=n.n(sd),ld=n(803),cd=n.n(ld),dd=n(804),ud=n.n(dd),pd=n(805),md=n.n(pd),hd=n(806),gd=n.n(hd),fd=n(807),bd=n.n(fd);const _d=Object(Rr.a)(Ir.a),vd=Object(m.d)({sound:{id:"gui.soundEditor.sound",defaultMessage:"Sound"},play:{id:"gui.soundEditor.play",defaultMessage:"Play"},stop:{id:"gui.soundEditor.stop",defaultMessage:"Stop"},copy:{id:"gui.soundEditor.copy",defaultMessage:"Copy"},paste:{id:"gui.soundEditor.paste",defaultMessage:"Paste"},copyToNew:{id:"gui.soundEditor.copyToNew",defaultMessage:"Copy to New"},delete:{id:"gui.soundEditor.delete",defaultMessage:"Delete"},save:{id:"gui.soundEditor.save",defaultMessage:"Save"},undo:{id:"gui.soundEditor.undo",defaultMessage:"Undo"},redo:{id:"gui.soundEditor.redo",defaultMessage:"Redo"},faster:{id:"gui.soundEditor.faster",defaultMessage:"Faster"},slower:{id:"gui.soundEditor.slower",defaultMessage:"Slower"},echo:{id:"gui.soundEditor.echo",defaultMessage:"Echo"},robot:{id:"gui.soundEditor.robot",defaultMessage:"Robot"},louder:{id:"gui.soundEditor.louder",defaultMessage:"Louder"},softer:{id:"gui.soundEditor.softer",defaultMessage:"Softer"},reverse:{id:"gui.soundEditor.reverse",defaultMessage:"Reverse"},fadeOut:{id:"gui.soundEditor.fadeOut",defaultMessage:"Fade out"},fadeIn:{id:"gui.soundEditor.fadeIn",defaultMessage:"Fade in"},mute:{id:"gui.soundEditor.mute",defaultMessage:"Mute"}}),yd=e=>o.a.createElement("div",{className:Pc.a.editorContainer,ref:e.setRef,onMouseDown:e.onContainerClick},o.a.createElement("div",{className:Pc.a.row},o.a.createElement("div",{className:Pc.a.inputGroup},o.a.createElement(Tr,{text:e.intl.formatMessage(vd.sound)},o.a.createElement(_d,{tabIndex:"1",type:"text",value:e.name,onSubmit:e.onChangeName})),o.a.createElement("div",{className:Pc.a.buttonGroup},o.a.createElement("button",{className:Pc.a.button,disabled:!e.canUndo,title:e.intl.formatMessage(vd.undo),onClick:e.onUndo},o.a.createElement("img",{className:Pc.a.undoIcon,draggable:!1,src:zc.a})),o.a.createElement("button",{className:Pc.a.button,disabled:!e.canRedo,title:e.intl.formatMessage(vd.redo),onClick:e.onRedo},o.a.createElement("img",{className:Pc.a.redoIcon,draggable:!1,src:qc.a})))),o.a.createElement("div",{className:Pc.a.inputGroup},o.a.createElement(Dc,{className:Pc.a.toolButton,img:md.a,title:e.intl.formatMessage(vd.copy),onClick:e.onCopy}),o.a.createElement(Dc,{className:Pc.a.toolButton,disabled:!1===e.canPaste,img:gd.a,title:e.intl.formatMessage(vd.paste),onClick:e.onPaste}),o.a.createElement(Dc,{className:Ve()(Pc.a.toolButton,Pc.a.flipInRtl),img:bd.a,title:e.intl.formatMessage(vd.copyToNew),onClick:e.onCopyToNew})),o.a.createElement(Dc,{className:Pc.a.toolButton,disabled:null===e.trimStart,img:ud.a,title:e.intl.formatMessage(vd.delete),onClick:e.onDelete})),o.a.createElement("div",{className:Pc.a.row},o.a.createElement("div",{className:Pc.a.waveformContainer},o.a.createElement(fl,{data:e.chunkLevels,height:160,width:600}),o.a.createElement(Tc,{playhead:e.playhead,trimEnd:e.trimEnd,trimStart:e.trimStart,onPlay:e.onPlay,onSetTrim:e.onSetTrim,onStop:e.onStop}))),o.a.createElement("div",{className:Ve()(Pc.a.row,Pc.a.rowReverse)},o.a.createElement("div",{className:Pc.a.inputGroup},e.playhead?o.a.createElement("button",{className:Ve()(Pc.a.roundButton,Pc.a.stopButtonn),title:e.intl.formatMessage(vd.stop),onClick:e.onStop},o.a.createElement("img",{draggable:!1,src:Bc.a})):o.a.createElement("button",{className:Ve()(Pc.a.roundButton,Pc.a.playButton),title:e.intl.formatMessage(vd.play),onClick:e.onPlay},o.a.createElement("img",{draggable:!1,src:Nc.a}))),o.a.createElement(Dc,{className:Pc.a.effectButton,img:Wc.a,title:o.a.createElement(m.a,vd.faster),onClick:e.onFaster}),o.a.createElement(Dc,{className:Pc.a.effectButton,img:Kc.a,title:o.a.createElement(m.a,vd.slower),onClick:e.onSlower}),o.a.createElement(Dc,{disabled:e.tooLoud,className:Ve()(Pc.a.effectButton,Pc.a.flipInRtl),img:Qc.a,title:o.a.createElement(m.a,vd.louder),onClick:e.onLouder}),o.a.createElement(Dc,{className:Ve()(Pc.a.effectButton,Pc.a.flipInRtl),img:Jc.a,title:o.a.createElement(m.a,vd.softer),onClick:e.onSofter}),o.a.createElement(Dc,{className:Ve()(Pc.a.effectButton,Pc.a.flipInRtl),img:cd.a,title:o.a.createElement(m.a,vd.mute),onClick:e.onMute}),o.a.createElement(Dc,{className:Pc.a.effectButton,img:id.a,title:o.a.createElement(m.a,vd.fadeIn),onClick:e.onFadeIn}),o.a.createElement(Dc,{className:Pc.a.effectButton,img:rd.a,title:o.a.createElement(m.a,vd.fadeOut),onClick:e.onFadeOut}),o.a.createElement(Dc,{className:Pc.a.effectButton,img:ad.a,title:o.a.createElement(m.a,vd.reverse),onClick:e.onReverse}),o.a.createElement(Dc,{className:Pc.a.effectButton,img:$c.a,title:o.a.createElement(m.a,vd.robot),onClick:e.onRobot}),o.a.createElement(Dc,{className:Pc.a.effectButton,img:td.a,title:o.a.createElement(m.a,vd.echo),onClick:e.onEcho})));yd.propTypes={canPaste:s.a.bool.isRequired,canRedo:s.a.bool.isRequired,canUndo:s.a.bool.isRequired,chunkLevels:s.a.arrayOf(s.a.number).isRequired,intl:m.f,name:s.a.string.isRequired,onChangeName:s.a.func.isRequired,onContainerClick:s.a.func.isRequired,onCopy:s.a.func.isRequired,onCopyToNew:s.a.func.isRequired,onDelete:s.a.func,onEcho:s.a.func.isRequired,onFadeIn:s.a.func.isRequired,onFadeOut:s.a.func.isRequired,onFaster:s.a.func.isRequired,onLouder:s.a.func.isRequired,onMute:s.a.func.isRequired,onPaste:s.a.func.isRequired,onPlay:s.a.func.isRequired,onRedo:s.a.func.isRequired,onReverse:s.a.func.isRequired,onRobot:s.a.func.isRequired,onSetTrim:s.a.func,onSlower:s.a.func.isRequired,onSofter:s.a.func.isRequired,onStop:s.a.func.isRequired,onUndo:s.a.func.isRequired,playhead:s.a.number,setRef:s.a.func,tooLoud:s.a.bool.isRequired,trimEnd:s.a.number,trimStart:s.a.number};var wd=Object(m.e)(yd);function Sd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ed(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sd(Object(n),!0).forEach((function(t){Cd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class kd extends o.a.Component{constructor(e){super(e),F()(this,["copy","copyCurrentBuffer","handleCopyToNew","handleStoppedPlaying","handleChangeName","handlePlay","handleStopPlaying","handleUpdatePlayhead","handleDelete","handleUpdateTrim","handleEffect","handleUndo","handleRedo","submitNewSamples","handleCopy","handlePaste","paste","handleKeyPress","handleContainerClick","setRef","resampleBufferToRate"]),this.state={copyBuffer:null,chunkLevels:il(this.props.samples),playhead:null,trimStart:null,trimEnd:null},this.redoStack=[],this.undoStack=[],this.ref=null}componentDidMount(){this.audioBufferPlayer=new rc(this.props.samples,this.props.sampleRate),document.addEventListener("keydown",this.handleKeyPress)}componentWillReceiveProps(e){e.soundId!==this.props.soundId&&(this.redoStack=[],this.undoStack=[],this.resetState(e.samples,e.sampleRate),this.setState({trimStart:null,trimEnd:null}))}componentWillUnmount(){this.audioBufferPlayer.stop(),document.removeEventListener("keydown",this.handleKeyPress)}handleKeyPress(e){e.target instanceof HTMLInputElement||this.props.isFullScreen||(" "===e.key&&(e.preventDefault(),this.state.playhead?this.handleStopPlaying():this.handlePlay()),"Delete"!==e.key&&"Backspace"!==e.key||(e.preventDefault(),e.shiftKey?this.handleDeleteInverse():this.handleDelete()),"Escape"===e.key&&(e.preventDefault(),this.handleUpdateTrim(null,null)),(e.metaKey||e.ctrlKey)&&(e.shiftKey&&"z"===e.key.toLowerCase()?(e.preventDefault(),this.redoStack.length>0&&this.handleRedo()):"z"===e.key?this.undoStack.length>0&&(e.preventDefault(),this.handleUndo()):"c"===e.key?(e.preventDefault(),this.handleCopy()):"v"===e.key?(e.preventDefault(),this.handlePaste()):"a"===e.key&&(e.preventDefault(),this.handleUpdateTrim(0,1))))}resetState(e,t){this.audioBufferPlayer.stop(),this.audioBufferPlayer=new rc(e,t),this.setState({chunkLevels:il(e),playhead:null})}submitNewSamples(e,t,n){return((e,t)=>{const{samples:n,sampleRate:a}=e,o=n.length/a;return 2*n.length<1e7?Promise.resolve({samples:n,sampleRate:a}):22050*o*2<1e7?t({samples:n,sampleRate:a},22050):Promise.reject(new Error("Sound too large to save, refusing to edit"))})({samples:e,sampleRate:t},this.resampleBufferToRate).then(({samples:e,sampleRate:t})=>rl.a.encode({sampleRate:t,channelData:[e]}).then(a=>(n||(this.redoStack=[],this.undoStack.length>=99&&this.undoStack.shift(),this.undoStack.push(this.getUndoItem())),this.resetState(e,t),this.props.vm.updateSoundBuffer(this.props.soundIndex,this.audioBufferPlayer.buffer,new Uint8Array(a)),!0))).catch(e=>(I.default.error("Encountered error while trying to encode sound update: ".concat(e.message)),!1))}handlePlay(){this.audioBufferPlayer.stop(),this.audioBufferPlayer.play(this.state.trimStart||0,this.state.trimEnd||1,this.handleUpdatePlayhead,this.handleStoppedPlaying)}handleStopPlaying(){this.audioBufferPlayer.stop(),this.handleStoppedPlaying()}handleStoppedPlaying(){this.setState({playhead:null})}handleUpdatePlayhead(e){this.setState({playhead:e})}handleChangeName(e){this.props.vm.renameSound(this.props.soundIndex,e)}handleDelete(){const{samples:e,sampleRate:t}=this.copyCurrentBuffer(),n=e.length,a=Math.floor(this.state.trimStart*n),o=Math.floor(this.state.trimEnd*n),r=e.slice(0,a),s=e.slice(o,n),i=r.length+s.length;let l;0===i?l=new Float32Array(1):(l=new Float32Array(i),l.set(r,0),l.set(s,r.length)),this.submitNewSamples(l,t).then(()=>{this.setState({trimStart:null,trimEnd:null})})}handleDeleteInverse(){const{samples:e,sampleRate:t}=this.copyCurrentBuffer(),n=e.length,a=Math.floor(this.state.trimStart*n),o=Math.floor(this.state.trimEnd*n);let r=e.slice(a,o);0===r.length&&(r=new Float32Array(1)),this.submitNewSamples(r,t).then(e=>{e&&this.setState({trimStart:null,trimEnd:null})})}handleUpdateTrim(e,t){this.setState({trimStart:e,trimEnd:t}),this.handleStopPlaying()}effectFactory(e){return()=>this.handleEffect(e)}copyCurrentBuffer(){return{samples:this.audioBufferPlayer.buffer.getChannelData(0),sampleRate:this.audioBufferPlayer.buffer.sampleRate}}handleEffect(e){const t=null===this.state.trimStart?0:this.state.trimStart,n=null===this.state.trimEnd?1:this.state.trimEnd;if(this.audioBufferPlayer.buffer.length<2)return;new kc(this.audioBufferPlayer.buffer,e,t,n).process((e,t,n)=>{const a=e.getChannelData(0),o=e.sampleRate;this.submitNewSamples(a,o).then(e=>{e&&(null===this.state.trimStart?this.handlePlay():this.setState({trimStart:t,trimEnd:n},this.handlePlay))})})}tooLoud(){const e=this.state.chunkLevels.length,t=null===this.state.trimStart?0:Math.floor(this.state.trimStart*e),n=null===this.state.trimEnd?e-1:Math.ceil(this.state.trimEnd*e),a=this.state.chunkLevels.slice(t,n);return Math.max(...a)>1.2}getUndoItem(){return Ed(Ed({},this.copyCurrentBuffer()),{},{trimStart:this.state.trimStart,trimEnd:this.state.trimEnd})}handleUndo(){this.redoStack.push(this.getUndoItem());const{samples:e,sampleRate:t,trimStart:n,trimEnd:a}=this.undoStack.pop();if(e)return this.submitNewSamples(e,t,!0).then(e=>{e&&this.setState({trimStart:n,trimEnd:a},this.handlePlay)})}handleRedo(){const{samples:e,sampleRate:t,trimStart:n,trimEnd:a}=this.redoStack.pop();if(e)return this.undoStack.push(this.getUndoItem()),this.submitNewSamples(e,t,!0).then(e=>{e&&this.setState({trimStart:n,trimEnd:a},this.handlePlay)})}handleCopy(){this.copy()}copy(e){const t=null===this.state.trimStart?0:this.state.trimStart,n=null===this.state.trimEnd?1:this.state.trimEnd,a=this.copyCurrentBuffer(),o=t*a.samples.length,r=n*a.samples.length;a.samples=a.samples.slice(o,r),this.setState({copyBuffer:a},e)}handleCopyToNew(){this.copy(()=>{ll(this.props.vm,this.state.copyBuffer.samples,this.state.copyBuffer.sampleRate,this.props.name)})}resampleBufferToRate(e,t){return new Promise((n,a)=>{const o=t/e.sampleRate*e.samples.length;let r;try{window.OfflineAudioContext?r=new window.OfflineAudioContext(1,o,t):window.webkitOfflineAudioContext&&(r=new window.webkitOfflineAudioContext(1,o,t))}catch(o){return t===e.sampleRate/2?n((e=>{const t=Math.floor(e.samples.length/2),n=new Float32Array(t);for(let a=0;a<t;a++)n[a]=e.samples[2*a];return{samples:n,sampleRate:e.sampleRate/2}})(e)):a(new Error("Could not resample"))}const s=r.createBufferSource(),i=r.createBuffer(1,e.samples.length,e.sampleRate);i.getChannelData(0).set(e.samples),s.buffer=i,s.connect(r.destination),s.start(),r.startRendering(),r.oncomplete=({renderedBuffer:e})=>{n({samples:e.getChannelData(0),sampleRate:t})}})}paste(){const{samples:e}=this.copyCurrentBuffer();if(null===this.state.trimStart){const t=e.length+this.state.copyBuffer.samples.length,n=new Float32Array(t);n.set(e,0),n.set(this.state.copyBuffer.samples,e.length),this.submitNewSamples(n,this.props.sampleRate,!1).then(e=>{e&&this.handlePlay()})}else{const t=this.state.trimStart*e.length,n=this.state.trimEnd*e.length,a=e.slice(0,t),o=e.slice(n),r=a.length+this.state.copyBuffer.samples.length+o.length,s=new Float32Array(r);s.set(a,0),s.set(this.state.copyBuffer.samples,a.length),s.set(o,a.length+this.state.copyBuffer.samples.length);const i=t/this.props.sampleRate,l=i+this.state.copyBuffer.samples.length/this.state.copyBuffer.sampleRate,c=s.length/this.state.copyBuffer.sampleRate,d=i/c,u=l/c;this.submitNewSamples(s,this.props.sampleRate,!1).then(e=>{e&&this.setState({trimStart:d,trimEnd:u},this.handlePlay)})}}handlePaste(){this.state.copyBuffer&&(this.state.copyBuffer.sampleRate===this.props.sampleRate?this.paste():this.resampleBufferToRate(this.state.copyBuffer,this.props.sampleRate).then(e=>{this.setState({copyBuffer:e},this.paste)}))}setRef(e){this.ref=e}handleContainerClick(e){e.target===this.ref&&null!==this.state.trimStart&&this.handleUpdateTrim(null,null)}render(){const{effectTypes:e}=kc;return o.a.createElement(wd,{canPaste:null!==this.state.copyBuffer,canRedo:this.redoStack.length>0,canUndo:this.undoStack.length>0,chunkLevels:this.state.chunkLevels,name:this.props.name,playhead:this.state.playhead,setRef:this.setRef,tooLoud:this.tooLoud(),trimEnd:this.state.trimEnd,trimStart:this.state.trimStart,onChangeName:this.handleChangeName,onContainerClick:this.handleContainerClick,onCopy:this.handleCopy,onCopyToNew:this.handleCopyToNew,onDelete:this.handleDelete,onEcho:this.effectFactory(e.ECHO),onFadeIn:this.effectFactory(e.FADEIN),onFadeOut:this.effectFactory(e.FADEOUT),onFaster:this.effectFactory(e.FASTER),onLouder:this.effectFactory(e.LOUDER),onMute:this.effectFactory(e.MUTE),onPaste:this.handlePaste,onPlay:this.handlePlay,onRedo:this.handleRedo,onReverse:this.effectFactory(e.REVERSE),onRobot:this.effectFactory(e.ROBOT),onSetTrim:this.handleUpdateTrim,onSlower:this.effectFactory(e.SLOWER),onSofter:this.effectFactory(e.SOFTER),onStop:this.handleStopPlaying,onUndo:this.handleUndo})}}kd.propTypes={isFullScreen:s.a.bool,name:s.a.string.isRequired,sampleRate:s.a.number,samples:s.a.instanceOf(Float32Array),soundId:s.a.string,soundIndex:s.a.number,vm:s.a.instanceOf(p.a).isRequired};var xd=Object(l.b)((e,{soundIndex:t})=>{const n=e.scratchGui.vm.editingTarget.sprite,a=t<n.sounds.length?t:n.sounds.length-1,o=e.scratchGui.vm.editingTarget.sprite.sounds[a],r=e.scratchGui.vm.getSoundBuffer(a);return{soundId:o.soundId,sampleRate:r.sampleRate,samples:r.getChannelData(0),isFullScreen:e.scratchGui.mode.isFullScreen,name:o.name,vm:e.scratchGui.vm}})(kd),Od=n(808),Fd=n.n(Od),Td=n(809),Id=n.n(Td),Rd=[{tag:"animals",intlLabel:wr.animals},{tag:"effects",intlLabel:wr.effects},{tag:"loops",intlLabel:wr.loops},{tag:"notes",intlLabel:wr.notes},{tag:"percussion",intlLabel:wr.percussion},{tag:"space",intlLabel:wr.space},{tag:"sports",intlLabel:wr.sports},{tag:"voice",intlLabel:wr.voice},{tag:"wacky",intlLabel:wr.wacky}];const jd=["md5ext"];function Dd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ad(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pd(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Md=Object(m.d)({libraryTitle:{id:"gui.soundLibrary.chooseASound",defaultMessage:"Choose a Sound"}}),Nd=(e,t)=>e.map(e=>{const{md5ext:n}=e,a=Pd(e,jd);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dd(Object(n),!0).forEach((function(t){Ad(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({_md5:n,rawURL:t?Id.a:Fd.a},a)});class Ld extends o.a.PureComponent{constructor(e){super(e),F()(this,["handleItemSelected","handleItemMouseEnter","handleItemMouseLeave","onStop","setStopHandler"]),this.audioEngine=null,this.playingSoundPromise=null,this.handleStop=null;const t=mr();this.state={data:Array.isArray(t)?Nd(t,this.props.isRtl):t}}componentDidMount(){this.state.data.then&&this.state.data.then(e=>{this.setState({data:Nd(e,this.props.isRtl)})}),this.audioEngine=new xe.a,this.playingSoundPromise=null}componentWillUnmount(){this.stopPlayingSound()}onStop(){null!==this.playingSoundPromise&&(this.playingSoundPromise.then(e=>e.removeListener("stop",this.onStop)),this.handleStop&&this.handleStop())}setStopHandler(e){this.handleStop=e}stopPlayingSound(){null!==this.playingSoundPromise&&(this.playingSoundPromise.then(e=>e.removeListener("stop",this.onStop)),this.playingSoundPromise.isPlaying?this.playingSoundPromise.then(e=>{e.stop()}):this.playingSoundPromise.then(e=>{e.stopImmediately()}),this.playingSoundPromise=null)}handleItemMouseEnter(e){const t=e._md5,n=t.split(".")[0],a=this.props.vm;this.stopPlayingSound(),this.playingSoundPromise=a.runtime.storage.load(a.runtime.storage.AssetType.Sound,n).then(n=>{const a={md5:t,name:e.name,format:e.format,data:n.data};return this.audioEngine.decodeSoundPlayer(a)}).then(e=>(e.connect(this.audioEngine),e.play(),e.addListener("stop",this.onStop),null!==this.playingSoundPromise&&(this.playingSoundPromise.isPlaying=!0),e))}handleItemMouseLeave(){this.stopPlayingSound()}handleItemSelected(e){const t={format:e.format,md5:e._md5,rate:e.rate,sampleCount:e.sampleCount,name:e.name};this.props.vm.addSound(t).then(()=>{this.props.onNewSound()})}render(){return o.a.createElement(Kn,{showPlayButton:!0,data:this.state.data,id:"soundLibrary",setStopHandler:this.setStopHandler,tags:Rd,title:this.props.intl.formatMessage(Md.libraryTitle),onItemMouseEnter:this.handleItemMouseEnter,onItemMouseLeave:this.handleItemMouseLeave,onItemSelected:this.handleItemSelected,onRequestClose:this.props.onRequestClose})}}Ld.propTypes={intl:m.f.isRequired,isRtl:s.a.bool,onNewSound:s.a.func.isRequired,onRequestClose:s.a.func,vm:s.a.instanceOf(p.a).isRequired};var Bd=Object(m.e)(Object(l.b)(e=>({isRtl:e.locales.isRtl}),()=>({}))(Ld));class Ud extends o.a.Component{constructor(e){super(e),F()(this,["handleSelectSound","handleDeleteSound","handleDuplicateSound","handleExportSound","handleNewSound","handleSurpriseSound","handleFileUploadClick","handleSoundUpload","handleDrop","setFileInput"]),this.state={selectedSoundIndex:0}}componentWillReceiveProps(e){const{editingTarget:t,sprites:n,stage:a}=e,o=t&&n[t]?n[t]:a;o&&o.sounds&&(this.props.editingTarget!==t?this.setState({selectedSoundIndex:0}):this.state.selectedSoundIndex>o.sounds.length-1&&this.setState({selectedSoundIndex:Math.max(o.sounds.length-1,0)}))}handleSelectSound(e){this.setState({selectedSoundIndex:e})}handleDeleteSound(e){const t=this.props.vm.deleteSound(e);e>=this.state.selectedSoundIndex&&this.setState({selectedSoundIndex:Math.max(0,e-1)}),this.props.dispatchUpdateRestore({restoreFun:t,deletedItem:"Sound"})}handleExportSound(e){const t=this.props.vm.editingTarget.sprite.sounds[e],n=new Blob([t.asset.data],{type:t.asset.assetType.contentType});Object(Yo.a)("".concat(t.name,".").concat(t.asset.dataFormat),n)}handleDuplicateSound(e){this.props.vm.duplicateSound(e).then(()=>{this.setState({selectedSoundIndex:e+1})})}handleNewSound(){if(!this.props.vm.editingTarget)return null;const e=this.props.vm.editingTarget.sprite,t=e.sounds?e.sounds:[];this.setState({selectedSoundIndex:Math.max(t.length-1,0)})}async handleSurpriseSound(){const e=await mr(),t=e[Math.floor(Math.random()*e.length)],n={format:t.dataFormat,md5:t.md5ext,rate:t.rate,sampleCount:t.sampleCount,name:t.name};this.props.vm.addSound(n).then(()=>{this.handleNewSound()})}handleFileUploadClick(){this.fileInput.click()}handleSoundUpload(e){const t=this.props.vm.runtime.storage,n=this.props.vm.editingTarget.id;this.props.onShowImporting(),Wo(e.target,(e,a,o,r,s)=>{!function(e,t,n,a,o){let r;switch(t){case"audio/mp3":case"audio/mpeg":r=n.DataFormat.MP3;break;case"audio/wav":case"audio/wave":case"audio/x-wav":case"audio/x-pn-wav":r=n.DataFormat.WAV;break;default:return void o("Encountered unexpected file type: ".concat(t))}a(Vo(n,n.AssetType.Sound,r,new Uint8Array(e)))}(e,a,t,e=>{e.name=o,this.props.vm.addSound(e,n).then(()=>{this.handleNewSound(),r===s-1&&this.props.onCloseImporting()})},this.props.onCloseImporting)},this.props.onCloseImporting)}handleDrop(e){if(e.dragType===ba.SOUND){const t=this.props.vm.editingTarget.sprite,n=t.sounds[this.state.selectedSoundIndex];this.props.vm.reorderSound(this.props.vm.editingTarget.id,e.index,e.newIndex),this.setState({selectedSoundIndex:t.sounds.indexOf(n)})}else e.dragType===ba.BACKPACK_COSTUME?(this.props.onActivateCostumesTab(),this.props.vm.addCostume(e.payload.body,{name:e.payload.name})):e.dragType===ba.BACKPACK_SOUND&&this.props.vm.addSound({md5:e.payload.body,name:e.payload.name}).then(this.handleNewSound)}setFileInput(e){this.fileInput=e}render(){const{dispatchUpdateRestore:e,intl:t,isRtl:n,vm:a,onNewSoundFromLibraryClick:r,onNewSoundFromRecordingClick:s}=this.props;if(!a.editingTarget)return null;const i=a.editingTarget.sprite,l=i.sounds?i.sounds.map(e=>({url:n?$i.a:Ji.a,name:e.name,details:(e.sampleCount/e.rate).toFixed(2),dragPayload:e})):[],c=Object(m.d)({fileUploadSound:{id:"gui.soundTab.fileUploadSound",defaultMessage:"Upload Sound"},surpriseSound:{id:"gui.soundTab.surpriseSound",defaultMessage:"Surprise"},recordSound:{id:"gui.soundTab.recordSound",defaultMessage:"Record"},addSound:{id:"gui.soundTab.addSoundFromLibrary",defaultMessage:"Choose a Sound"}});return o.a.createElement(Do,{buttons:[{title:t.formatMessage(c.addSound),img:tl.a,onClick:r},{title:t.formatMessage(c.fileUploadSound),img:ar.a,onClick:this.handleFileUploadClick,fileAccept:".wav, .mp3",fileChange:this.handleSoundUpload,fileInput:this.setFileInput,fileMultiple:!0},{title:t.formatMessage(c.surpriseSound),img:ir.a,onClick:this.handleSurpriseSound},{title:t.formatMessage(c.recordSound),img:al.a,onClick:s},{title:t.formatMessage(c.addSound),img:cr.a,onClick:r}],dragType:ba.SOUND,isRtl:n,items:l,selectedItemIndex:this.state.selectedSoundIndex,onDeleteClick:this.handleDeleteSound,onDrop:this.handleDrop,onDuplicateClick:this.handleDuplicateSound,onExportClick:this.handleExportSound,onItemClick:this.handleSelectSound},i.sounds&&i.sounds[this.state.selectedSoundIndex]?o.a.createElement(xd,{soundIndex:this.state.selectedSoundIndex}):null,this.props.soundRecorderVisible?o.a.createElement(bc,{onNewSound:this.handleNewSound}):null,this.props.soundLibraryVisible?o.a.createElement(Bd,{vm:this.props.vm,onNewSound:this.handleNewSound,onRequestClose:this.props.onRequestCloseSoundLibrary}):null)}}Ud.propTypes={dispatchUpdateRestore:s.a.func,editingTarget:s.a.string,intl:m.f,isRtl:s.a.bool,onActivateCostumesTab:s.a.func.isRequired,onCloseImporting:s.a.func.isRequired,onNewSoundFromLibraryClick:s.a.func.isRequired,onNewSoundFromRecordingClick:s.a.func.isRequired,onRequestCloseSoundLibrary:s.a.func.isRequired,onShowImporting:s.a.func.isRequired,soundLibraryVisible:s.a.bool,soundRecorderVisible:s.a.bool,sprites:s.a.shape({id:s.a.shape({sounds:s.a.arrayOf(s.a.shape({name:s.a.string.isRequired}))})}),stage:s.a.shape({sounds:s.a.arrayOf(s.a.shape({name:s.a.string.isRequired}))}),vm:s.a.instanceOf(p.a).isRequired};var qd=Object(h.a)("Sound Tab")(Object(m.e)(Object(l.b)(e=>({editingTarget:e.scratchGui.targets.editingTarget,isRtl:e.locales.isRtl,sprites:e.scratchGui.targets.sprites,stage:e.scratchGui.targets.stage,soundLibraryVisible:e.scratchGui.modals.soundLibrary,soundRecorderVisible:e.scratchGui.modals.soundRecorder}),e=>({onActivateCostumesTab:()=>e(Object(f.d)(f.b)),onNewSoundFromLibraryClick:t=>{t.preventDefault(),e(Object(b.u)())},onNewSoundFromRecordingClick:()=>{e(Object(b.v)())},onRequestCloseSoundLibrary:()=>{e(Object(b.g)())},dispatchUpdateRestore:t=>{e(Object(Jo.c)(t))},onCloseImporting:()=>e(Object(se.c)("importingAsset")),onShowImporting:()=>e(Object(se.i)("importingAsset"))}))(Ud))),Gd=n(216),zd=n(73),Hd=n(339),Wd=n.n(Hd),Vd=n(435),Kd=n.n(Vd);const Xd=["active","className","onClick","title"];function Qd(){return(Qd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Yd(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Jd=function(e){const{active:t,className:n,onClick:a,title:r}=e,s=Yd(e,Xd);return o.a.createElement("img",Qd({className:Ve()(n,Kd.a.greenFlag,{[Kd.a.isActive]:t}),draggable:!1,src:Wd.a,title:r,onClick:a,onContextMenu:a},s))};Jd.propTypes={active:s.a.bool,className:s.a.string,onClick:s.a.func.isRequired,title:s.a.string},Jd.defaultProps={active:!1,title:"Go"};var Zd=Jd,$d=n(810),eu=n.n($d),tu=n(436),nu=n.n(tu);const au=["active","className","onClick","title"];function ou(){return(ou=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ru(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const su=function(e){const{active:t,className:n,onClick:a,title:r}=e,s=ru(e,au);return o.a.createElement("img",ou({className:Ve()(n,nu.a.stopAll,{[nu.a.isActive]:t}),draggable:!1,src:eu.a,title:r,onClick:a},s))};su.propTypes={active:s.a.bool,className:s.a.string,onClick:s.a.func.isRequired,title:s.a.string},su.defaultProps={active:!1,title:"Stop"};var iu=su,lu=n(811),cu=n.n(lu),du=n(357),uu=n.n(du);var pu=()=>o.a.createElement("div",{className:uu.a.turboContainer},o.a.createElement("img",{className:uu.a.turboIcon,src:cu.a}),o.a.createElement("div",{className:uu.a.turboLabel},o.a.createElement(m.a,{defaultMessage:"Turbo Mode",id:"gui.turboMode.active"}))),mu=n(437),hu=n.n(mu);const gu=({framerate:e,interpolation:t})=>30!==e||t?o.a.createElement("div",{className:hu.a.framerateContainer},o.a.createElement("div",{className:hu.a.framerateLabel},t?o.a.createElement(m.a,{defaultMessage:"{framerate} FPS with interpolation",id:"tw.framerateIndicatorInterpolated",values:{framerate:e}}):o.a.createElement(m.a,{defaultMessage:"{framerate} FPS",id:"tw.framerateIndicator",values:{framerate:e}}))):null;gu.propTypes={framerate:s.a.number,interpolation:s.a.bool};var fu=gu,bu=n(812),_u=n.n(bu);const vu=["active","className","intl","onGreenFlagClick","onStopAllClick","turbo","framerate","interpolation"];function yu(){return(yu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function wu(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Su=Object(m.d)({goTitle:{id:"gui.controls.go",defaultMessage:"Go"},stopTitle:{id:"gui.controls.stop",defaultMessage:"Stop"}}),Eu=function(e){const{active:t,className:n,intl:a,onGreenFlagClick:r,onStopAllClick:s,turbo:i,framerate:l,interpolation:c}=e,d=wu(e,vu);return o.a.createElement("div",yu({className:Ve()(_u.a.controlsContainer,n)},d),o.a.createElement(Zd,{active:t,title:a.formatMessage(Su.goTitle),onClick:r}),o.a.createElement(iu,{active:t,title:a.formatMessage(Su.stopTitle),onClick:s}),i?o.a.createElement(pu,null):null,o.a.createElement(fu,{framerate:l,interpolation:c}))};Eu.propTypes={active:s.a.bool,className:s.a.string,intl:m.f.isRequired,onGreenFlagClick:s.a.func.isRequired,onStopAllClick:s.a.func.isRequired,framerate:s.a.number,interpolation:s.a.bool,turbo:s.a.bool},Eu.defaultProps={active:!1,turbo:!1};var Cu=Object(m.e)(Eu);const ku=["vm","isStarted","projectRunning","turbo"];function xu(){return(xu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ou(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class Fu extends o.a.Component{constructor(e){super(e),F()(this,["handleGreenFlagClick","handleStopAllClick"])}handleGreenFlagClick(e){e.preventDefault(),e.shiftKey||e.altKey||"contextmenu"===e.type?(e.shiftKey&&this.props.vm.setTurboMode(!this.props.turbo),(e.altKey||"contextmenu"===e.type)&&(30===this.props.framerate?this.props.vm.setFramerate(60):this.props.vm.setFramerate(30))):(this.props.isStarted||this.props.vm.start(),this.props.vm.greenFlag())}handleStopAllClick(e){e.preventDefault(),this.props.vm.stopAll()}render(){const e=this.props,{vm:t,isStarted:n,projectRunning:a,turbo:r}=e,s=Ou(e,ku);return o.a.createElement(Cu,xu({},s,{active:a&&n,turbo:r,onGreenFlagClick:this.handleGreenFlagClick,onStopAllClick:this.handleStopAllClick}))}}Fu.propTypes={isStarted:s.a.bool.isRequired,projectRunning:s.a.bool.isRequired,turbo:s.a.bool.isRequired,framerate:s.a.number.isRequired,interpolation:s.a.bool.isRequired,vm:s.a.instanceOf(p.a)};var Tu=Object(l.b)(e=>({isStarted:e.scratchGui.vmStatus.started,projectRunning:e.scratchGui.vmStatus.running,framerate:e.scratchGui.tw.framerate,interpolation:e.scratchGui.tw.interpolation,turbo:e.scratchGui.vmStatus.turbo}),()=>({}))(Fu);const Iu="undefined"!=typeof URLSearchParams&&new URLSearchParams(location.search).get("scale"),Ru=12,ju=44,Du=(e,t)=>{const n={heightDefault:ha.e.standardStageHeight,widthDefault:ha.e.standardStageWidth,height:0,width:0,scale:0};if(t){n.height=window.innerHeight-ju-Ru,n.width=n.height*(Ho.a.width/Ho.a.height);const e=Iu?Math.min(window.innerWidth,Iu*Ho.a.width):window.innerWidth;n.width>e&&(n.width=e,n.height=n.width*(Ho.a.height/Ho.a.width)),n.scale=n.width/n.widthDefault}else n.scale=ha.b[e],n.height=n.scale*n.heightDefault,n.width=n.scale*n.widthDefault;return n.height=Math.round(n.height),n.width=Math.round(n.width),n},Au=({width:e,height:t,widthDefault:n,heightDefault:a})=>{const o=e/n,r=t/a;if(1!==o||1!==r)return{transform:"scale(".concat(o,",").concat(r,")")}};var Pu=n(438),Mu=n.n(Pu),Nu=n(813),Lu=n.n(Nu),Bu=n(814),Uu=n.n(Bu),qu=n(815),Gu=n.n(qu),zu=n(57),Hu=n.n(zu),Wu=n(172);const Vu=Object(m.d)({largeStageSizeMessage:{id:"gui.stageHeader.stageSizeLarge",defaultMessage:"Switch to large stage"},smallStageSizeMessage:{id:"gui.stageHeader.stageSizeSmall",defaultMessage:"Switch to small stage"},fullStageSizeMessage:{id:"gui.stageHeader.stageSizeFull",defaultMessage:"Enter full screen mode"},unFullStageSizeMessage:{id:"gui.stageHeader.stageSizeUnFull",defaultMessage:"Exit full screen mode"},fullscreenControl:{id:"gui.stageHeader.fullscreenControl",defaultMessage:"Full Screen Control"}}),Ku=function(e){const{isFullScreen:t,isPlayerOnly:n,onKeyPress:a,onSetStageLarge:r,onSetStageSmall:s,onSetStageFull:i,onSetStageUnFull:l,isEmbedded:c,stageSizeMode:d,vm:u}=e;let p=null;if(t||c){const n=Du(null,!0),r=c&&!Wu.a.available()?null:t?o.a.createElement(lt.a,{className:Hu.a.stageButton,onClick:l,onKeyPress:a},o.a.createElement("img",{alt:e.intl.formatMessage(Vu.unFullStageSizeMessage),className:Hu.a.stageButtonIcon,draggable:!1,src:Gu.a,title:e.intl.formatMessage(Vu.fullscreenControl)})):o.a.createElement(lt.a,{className:Hu.a.stageButton,onClick:i},o.a.createElement("img",{alt:e.intl.formatMessage(Vu.fullStageSizeMessage),className:Hu.a.stageButtonIcon,draggable:!1,src:Mu.a,title:e.intl.formatMessage(Vu.fullscreenControl)}));p=o.a.createElement(it.a,{className:Ve()(Hu.a.stageHeaderWrapperOverlay,{[Hu.a.embedded]:c})},o.a.createElement(it.a,{className:Hu.a.stageMenuWrapper,style:{width:n.width}},o.a.createElement(Tu,{vm:u}),r))}else{const t=n?[]:o.a.createElement("div",{className:Hu.a.stageSizeToggleGroup},o.a.createElement("div",null,o.a.createElement(lt.a,{className:Ve()(Hu.a.stageButton,Hu.a.stageButtonFirst,d===ha.d.small?null:Hu.a.stageButtonToggledOff),onClick:s},o.a.createElement("img",{alt:e.intl.formatMessage(Vu.smallStageSizeMessage),className:Hu.a.stageButtonIcon,draggable:!1,src:Uu.a}))),o.a.createElement("div",null,o.a.createElement(lt.a,{className:Ve()(Hu.a.stageButton,Hu.a.stageButtonLast,d===ha.d.large?null:Hu.a.stageButtonToggledOff),onClick:r},o.a.createElement("img",{alt:e.intl.formatMessage(Vu.largeStageSizeMessage),className:Hu.a.stageButtonIcon,draggable:!1,src:Lu.a}))));p=o.a.createElement(it.a,{className:Hu.a.stageHeaderWrapper},o.a.createElement(it.a,{className:Hu.a.stageMenuWrapper},o.a.createElement(Tu,{vm:u}),o.a.createElement("div",{className:Hu.a.stageSizeRow},t,o.a.createElement("div",null,o.a.createElement(lt.a,{className:Hu.a.stageButton,onClick:i},o.a.createElement("img",{alt:e.intl.formatMessage(Vu.fullStageSizeMessage),className:Hu.a.stageButtonIcon,draggable:!1,src:Mu.a,title:e.intl.formatMessage(Vu.fullscreenControl)}))))))}return p};Ku.propTypes={intl:m.f,isFullScreen:s.a.bool.isRequired,isPlayerOnly:s.a.bool.isRequired,onKeyPress:s.a.func.isRequired,onSetStageFull:s.a.func.isRequired,onSetStageLarge:s.a.func.isRequired,onSetStageSmall:s.a.func.isRequired,onSetStageUnFull:s.a.func.isRequired,isEmbedded:s.a.bool.isRequired,stageSizeMode:s.a.oneOf(Object.keys(ha.d)),vm:s.a.instanceOf(p.a).isRequired},Ku.defaultProps={stageSizeMode:ha.d.large};var Xu=Object(m.e)(Object(l.b)(e=>({stageSizeMode:e.scratchGui.stageSize.stageSize}))(Ku));function Qu(){return(Qu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}class Yu extends o.a.Component{constructor(e){super(e),F()(this,["handleKeyPress"])}componentDidMount(){document.addEventListener("keydown",this.handleKeyPress)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyPress)}handleKeyPress(e){"Escape"===e.key&&this.props.isFullScreen&&this.props.onSetStageUnFull(!1)}render(){const e=Qu({},this.props);return o.a.createElement(Xu,Qu({},e,{onKeyPress:this.handleKeyPress}))}}Yu.propTypes={isFullScreen:s.a.bool,isWindowFullScreen:s.a.bool,dimensions:s.a.arrayOf(s.a.number),isPlayerOnly:s.a.bool,onSetStageUnFull:s.a.func.isRequired,isEmbedded:s.a.bool,stageSizeMode:s.a.oneOf(Object.keys(ha.d)),vm:s.a.instanceOf(p.a).isRequired};var Ju=Object(l.b)(e=>({stageSizeMode:e.scratchGui.stageSize.stageSize,isEmbedded:e.scratchGui.mode.isEmbedded,isFullScreen:e.scratchGui.mode.isFullScreen,isWindowFullScreen:e.scratchGui.tw.isWindowFullScreen,dimensions:e.scratchGui.tw.dimensions,isPlayerOnly:e.scratchGui.mode.isPlayerOnly}),e=>({onSetStageLarge:()=>e(Object(Gd.b)(ha.d.large)),onSetStageSmall:()=>e(Object(Gd.b)(ha.d.small)),onSetStageFull:()=>e(Object(zd.c)(!0)),onSetStageUnFull:()=>e(Object(zd.c)(!1))}))(Yu);const Zu=[];class $u{constructor(){this.mirror=!0,this._frameCacheTimeout=16,this._video=null,this._track=null,this._workspace=[]}static get FORMAT_IMAGE_DATA(){return"image-data"}static get FORMAT_CANVAS(){return"canvas"}static get DIMENSIONS(){return[480,360]}static get ORDER(){return 1}get video(){return this._video}enableVideo(){return this.enabled=!0,this._setupVideo()}disableVideo(){this.enabled=!1,this._singleSetup&&this._singleSetup.then(this._teardown.bind(this)).catch(e=>this.onError(e))}_teardown(){if(!1===this.enabled){const e=(Zu.pop(),!(Zu.length>0));this._singleSetup=null,this._video=null,this._track&&e&&this._track.stop(),this._track=null}}getFrame({dimensions:e=$u.DIMENSIONS,mirror:t=this.mirror,format:n=$u.FORMAT_IMAGE_DATA,cacheTimeout:a=this._frameCacheTimeout}){if(!this.videoReady)return null;const[o,r]=e,s=this._getWorkspace({dimensions:e,mirror:Boolean(t)}),{videoWidth:i,videoHeight:l}=this._video,{canvas:c,context:d,lastUpdate:u,cacheData:p}=s,m=Date.now();u+a<m&&(t&&(d.scale(-1,1),d.translate(-1*o,0)),d.drawImage(this._video,0,0,i,l,0,0,o,r),d.setTransform(1,0,0,1,0,0),s.lastUpdate=m),p[n]||(p[n]={lastUpdate:0});const h=p[n];return h.lastUpdate+a<m&&(n===$u.FORMAT_IMAGE_DATA?h.lastData=d.getImageData(0,0,o,r):n===$u.FORMAT_CANVAS?(h.lastUpdate=1/0,h.lastData=c):(I.default.error("video io error - unimplemented format ".concat(n)),h.lastUpdate=1/0,h.lastData=null),h.lastUpdate=Math.max(s.lastUpdate,h.lastUpdate)),h.lastData}onError(e){I.default.error("Unhandled video io device error",e)}_setupVideo(){return this._singleSetup||(this._singleSetup=(e=>{let t;return 0===Zu.length?(t=kl()({audio:!1,video:e}),Zu.push(t)):Zu.length>0&&(t=Zu[0],Zu.push(!0)),t})({width:{min:480,ideal:640},height:{min:360,ideal:480}}).then(e=>{this._video=document.createElement("video");try{this._video.srcObject=e}catch(t){this._video.src=window.URL.createObjectURL(e)}return this._video.play(),this._track=e.getTracks()[0],this}).catch(e=>{this._singleSetup=null,this.onError(e)})),this._singleSetup}get videoReady(){if(!this.enabled)return!1;if(!this._video)return!1;if(!this._track)return!1;const{videoWidth:e,videoHeight:t}=this._video;return"number"==typeof e&&"number"==typeof t&&(0!==e&&0!==t)}_getWorkspace({dimensions:e,mirror:t}){let n=this._workspace.find(n=>n.dimensions.join("-")===e.join("-")&&n.mirror===t);return n||(n={dimensions:e,mirror:t,canvas:document.createElement("canvas"),lastUpdate:0,cacheData:{}},n.canvas.width=e[0],n.canvas.height=e[1],n.context=n.canvas.getContext("2d"),this._workspace.push(n)),n}}var ep=$u,tp=n(154),np=n(816),ap=n.n(np);const op=["colorInfo"];function rp(){return(rp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function sp(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class ip extends o.a.Component{constructor(e){super(e),F()(this,["setCanvas"])}componentDidUpdate(){this.draw()}draw(){const e=this.canvas.getContext("2d"),{color:t,data:n,width:a,height:o}=this.props.colorInfo;this.canvas.width=3*a,this.canvas.height=3*o;const r=document.createElement("canvas");r.width=a,r.height=o;const s=r.getContext("2d"),i=s.createImageData(a,o);i.data.set(n),s.putImageData(i,0,0),e.save(),e.scale(3,3),e.drawImage(r,0,0,a,o),e.lineWidth=1/3,e.strokeStyle="black",e.fillStyle="rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.a,")"),e.beginPath(),e.rect(a/2-1,o/2-1,2,2),e.fill(),e.stroke(),e.strokeStyle="rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.a,")"),e.lineWidth=5,e.beginPath(),e.moveTo(a,o/2),e.arc(a/2,o/2,a/2,0,2*Math.PI),e.stroke(),e.restore()}setCanvas(e){this.canvas=e}render(){const e=this.props,{colorInfo:t}=e,n=sp(e,op);return o.a.createElement(it.a,rp({},n,{className:ap.a.colorPicker,componentRef:this.setCanvas,element:"canvas",height:t.height,style:{top:t.y-3*t.height/2,left:t.x-3*t.width/2,width:3*t.width,height:3*t.height},width:t.width}))}}ip.propTypes={colorInfo:s.a.shape({color:s.a.shape({r:s.a.number,g:s.a.number,b:s.a.number,a:s.a.number}),data:s.a.instanceOf(Uint8Array),width:s.a.number,height:s.a.number,x:s.a.number,y:s.a.number})};var lp=ip,cp=n(125);const dp=Object(m.d)({motion_direction:{id:"gui.opcodeLabels.direction",defaultMessage:"direction"},motion_xposition:{id:"gui.opcodeLabels.xposition",defaultMessage:"x position"},motion_yposition:{id:"gui.opcodeLabels.yposition",defaultMessage:"y position"},looks_size:{id:"gui.opcodeLabels.size",defaultMessage:"size"},looks_costumename:{id:"gui.opcodeLabels.costumename",defaultMessage:"costume name"},looks_costumenumber:{id:"gui.opcodeLabels.costumenumber",defaultMessage:"costume number"},looks_backdropname:{id:"gui.opcodeLabels.backdropname",defaultMessage:"backdrop name"},looks_backdropnumber:{id:"gui.opcodeLabels.backdropnumber",defaultMessage:"backdrop number"},sound_volume:{id:"gui.opcodeLabels.volume",defaultMessage:"volume"},sound_tempo:{id:"gui.opcodeLabels.tempo",defaultMessage:"tempo"},sensing_answer:{id:"gui.opcodeLabels.answer",defaultMessage:"answer"},sensing_loudness:{id:"gui.opcodeLabels.loudness",defaultMessage:"loudness"},sensing_username:{id:"gui.opcodeLabels.username",defaultMessage:"username"},sensing_current_year:{id:"gui.opcodeLabels.year",defaultMessage:"year"},sensing_current_month:{id:"gui.opcodeLabels.month",defaultMessage:"month"},sensing_current_date:{id:"gui.opcodeLabels.date",defaultMessage:"date"},sensing_current_dayofweek:{id:"gui.opcodeLabels.dayofweek",defaultMessage:"day of week"},sensing_current_hour:{id:"gui.opcodeLabels.hour",defaultMessage:"hour"},sensing_current_minute:{id:"gui.opcodeLabels.minute",defaultMessage:"minute"},sensing_current_second:{id:"gui.opcodeLabels.second",defaultMessage:"second"},sensing_timer:{id:"gui.opcodeLabels.timer",defaultMessage:"timer"}});var up=new class{constructor(){this._translator=e=>e.defaultMessage,this._opcodeMap={motion_direction:{category:"motion"},motion_xposition:{category:"motion"},motion_yposition:{category:"motion"},looks_size:{category:"looks"},looks_costumenumbername:{category:"looks"},looks_backdropnumbername:{category:"looks"},looks_backdropname:{category:"looks"},data_variable:{category:"data"},data_listcontents:{category:"list"},sound_volume:{category:"sound"},sound_tempo:{category:"sound"},sensing_answer:{category:"sensing"},sensing_loudness:{category:"sensing"},sensing_username:{category:"sensing"},sensing_current:{category:"sensing"},sensing_timer:{category:"sensing"}},this._refreshOpcodeMap()}setTranslatorFunction(e){this._translator=e,this._refreshOpcodeMap()}_refreshOpcodeMap(){this._opcodeMap.motion_direction.labelFn=()=>this._translator(dp.motion_direction),this._opcodeMap.motion_xposition.labelFn=()=>this._translator(dp.motion_xposition),this._opcodeMap.motion_yposition.labelFn=()=>this._translator(dp.motion_yposition),this._opcodeMap.looks_size.labelFn=()=>this._translator(dp.looks_size),this._opcodeMap.looks_costumenumbername.labelFn=e=>"number"===e.NUMBER_NAME?this._translator(dp.looks_costumenumber):this._translator(dp.looks_costumename),this._opcodeMap.looks_backdropnumbername.labelFn=e=>"number"===e.NUMBER_NAME?this._translator(dp.looks_backdropnumber):this._translator(dp.looks_backdropname),this._opcodeMap.looks_backdropname.labelFn=()=>this._translator(dp.looks_backdropname),this._opcodeMap.data_variable.labelFn=e=>e.VARIABLE,this._opcodeMap.data_listcontents.labelFn=e=>e.LIST,this._opcodeMap.sound_volume.labelFn=()=>this._translator(dp.sound_volume),this._opcodeMap.sound_tempo.labelFn=()=>this._translator(dp.sound_tempo),this._opcodeMap.sensing_answer.labelFn=()=>this._translator(dp.sensing_answer),this._opcodeMap.sensing_loudness.labelFn=()=>this._translator(dp.sensing_loudness),this._opcodeMap.sensing_username.labelFn=()=>this._translator(dp.sensing_username),this._opcodeMap.sensing_current.labelFn=e=>{switch(e.CURRENTMENU.toLowerCase()){case"year":return this._translator(dp.sensing_current_year);case"month":return this._translator(dp.sensing_current_month);case"date":return this._translator(dp.sensing_current_date);case"dayofweek":return this._translator(dp.sensing_current_dayofweek);case"hour":return this._translator(dp.sensing_current_hour);case"minute":return this._translator(dp.sensing_current_minute);case"second":return this._translator(dp.sensing_current_second)}},this._opcodeMap.sensing_timer.labelFn=()=>this._translator(dp.sensing_timer)}getLabel(e){return e in this._opcodeMap?this._opcodeMap[e]:{category:"extension",label:e}}};var pp=n(49),mp=n.n(pp),hp=n(340),gp=n.n(hp),fp=n(33),bp=n.n(fp);const _p=({categoryColor:e,label:t,value:n})=>o.a.createElement("div",{className:bp.a.defaultMonitor},o.a.createElement("div",{className:bp.a.row},o.a.createElement("div",{className:bp.a.label},t),o.a.createElement("div",{className:bp.a.value,style:{background:e}},n)));_p.propTypes={categoryColor:s.a.string.isRequired,label:s.a.string.isRequired,value:s.a.oneOfType([s.a.string,s.a.number])};var vp=_p;const yp=({categoryColor:e,value:t})=>o.a.createElement("div",{className:bp.a.largeMonitor},o.a.createElement("div",{className:bp.a.largeValue,style:{background:e}},t));yp.propTypes={categoryColor:s.a.string,value:s.a.oneOfType([s.a.string,s.a.number])};var wp=yp;const Sp=(e,t,n)=>(t?e.runtime.getTargetById(t):e.runtime.getTargetForStage()).variables[n],Ep=(e,t,n)=>{const a=Sp(e,t,n);return a.value instanceof Array?a.value.slice():a.value},Cp=(e,t,n,a)=>{Sp(e,t,n).value=a},kp=({categoryColor:e,isDiscrete:t,label:n,min:a,max:r,value:s,onSliderUpdate:i})=>o.a.createElement("div",{className:bp.a.defaultMonitor},o.a.createElement("div",{className:bp.a.row},o.a.createElement("div",{className:bp.a.label},n),o.a.createElement("div",{className:bp.a.value,style:{background:e}},s)),o.a.createElement("div",{className:bp.a.row},o.a.createElement("input",{className:Ve()(bp.a.slider,"no-drag"),max:r,min:a,step:t?1:.01,type:"range",value:s,onChange:i})));kp.propTypes={categoryColor:s.a.string.isRequired,isDiscrete:s.a.bool,label:s.a.string.isRequired,max:s.a.number,min:s.a.number,onSliderUpdate:s.a.func.isRequired,value:s.a.oneOfType([s.a.string,s.a.number])},kp.defaultProps={isDiscrete:!0,min:0,max:100};var xp=kp;const Op=["vm","value"];function Fp(){return(Fp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Tp(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class Ip extends o.a.Component{constructor(e){super(e),F()(this,["handleSliderUpdate"]),this.state={value:e.value}}componentWillReceiveProps(e){this.state.value!==e.value&&this.setState({value:e.value})}handleSliderUpdate(e){this.setState({value:Number(e.target.value)});const{vm:t,targetId:n,id:a}=this.props;Cp(t,n,a,Number(e.target.value))}render(){const e=this.props,{vm:t,value:n}=e,a=Tp(e,Op);return o.a.createElement(xp,Fp({},a,{value:this.state.value,onSliderUpdate:this.handleSliderUpdate}))}}Ip.propTypes={id:s.a.string,targetId:s.a.string,value:s.a.oneOfType([s.a.number,s.a.string]),vm:s.a.instanceOf(p.a)};var Rp=Object(l.b)(e=>({vm:e.scratchGui.vm}))(Ip),jp=n(862);class Dp extends o.a.Component{constructor(e){super(e),F()(this,["rowRenderer","noRowsRenderer","handleEventFactory"])}handleEventFactory(e){return()=>this.props.onActivate(e)}noRowsRenderer(){return o.a.createElement("div",{className:Ve()(bp.a.listRow,bp.a.listEmpty)},o.a.createElement(m.a,{defaultMessage:"(empty)",id:"gui.monitor.listMonitor.empty"}))}rowRenderer({index:e,key:t,style:n}){return o.a.createElement("div",{className:bp.a.listRow,key:t,style:n},o.a.createElement("div",{className:bp.a.listIndex},e+1),o.a.createElement("div",{className:bp.a.listValue,dataIndex:e,style:{background:this.props.categoryColor},onClick:this.props.draggable?this.handleEventFactory(e):null},this.props.draggable&&this.props.activeIndex===e?o.a.createElement("div",{className:bp.a.inputWrapper},o.a.createElement("input",{autoFocus:!0,autoComplete:!1,className:Ve()(bp.a.listInput,"no-drag"),spellCheck:!1,type:"text",value:this.props.activeValue,onBlur:this.props.onDeactivate,onChange:this.props.onInput,onFocus:this.props.onFocus,onKeyDown:this.props.onKeyPress}),o.a.createElement("div",{className:bp.a.removeButton,onMouseDown:this.props.onRemove},"✖︎")):o.a.createElement("div",{className:bp.a.valueInner},this.props.values[e])))}render(){const{height:e,values:t,width:n,activeIndex:a,activeValue:r}=this.props,s=null===a?void 0:a;return o.a.createElement(jp.a,{activeIndex:a,activeValue:r,height:e-44,noRowsRenderer:this.noRowsRenderer,rowCount:t.length,rowHeight:24,rowRenderer:this.rowRenderer,scrollToIndex:s,values:t,width:n})}}Dp.propTypes={activeIndex:s.a.number,activeValue:s.a.string,categoryColor:s.a.string,draggable:s.a.bool,height:s.a.number,onActivate:s.a.func,onDeactivate:s.a.func,onFocus:s.a.func,onInput:s.a.func,onKeyPress:s.a.func,onRemove:s.a.func,values:s.a.arrayOf(s.a.oneOfType([s.a.string,s.a.number])),width:s.a.number};var Ap=Dp;const Pp=["draggable","label","width","height","value","onResizeMouseDown","onAdd"];function Mp(){return(Mp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Np(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Lp=e=>{let{draggable:t,label:n,width:a,height:r,value:s,onResizeMouseDown:i,onAdd:l}=e,c=Np(e,Pp);return o.a.createElement("div",{className:bp.a.listMonitor,style:{width:"".concat(a,"px"),height:"".concat(r,"px")}},o.a.createElement("div",{className:bp.a.listHeader},n),o.a.createElement("div",{className:bp.a.listBody},o.a.createElement(Ap,Mp({draggable:t,height:r,values:s,width:a},c))),o.a.createElement("div",{className:bp.a.listFooter},o.a.createElement("div",{className:Ve()(t?bp.a.addButton:null,"no-drag"),onClick:t?l:null},"+"),o.a.createElement("div",{className:bp.a.footerLength},o.a.createElement(m.a,{defaultMessage:"length {length}",id:"gui.monitor.listMonitor.listLength",values:{length:s.length}})),o.a.createElement("div",{className:Ve()(t?bp.a.resizeHandle:null,"no-drag"),onMouseDown:t?i:null},"=")))};Lp.propTypes={activeIndex:s.a.number,categoryColor:s.a.string.isRequired,draggable:s.a.bool.isRequired,height:s.a.number,label:s.a.string.isRequired,onActivate:s.a.func,onAdd:s.a.func,onResizeMouseDown:s.a.func,value:s.a.oneOfType([s.a.string,s.a.number,s.a.arrayOf(s.a.oneOfType([s.a.string,s.a.number]))]),width:s.a.number},Lp.defaultProps={width:110,height:200};var Bp=Lp,Up=n(95);const qp=["vm"];function Gp(){return(Gp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function zp(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class Hp extends o.a.Component{constructor(e){super(e),F()(this,["handleActivate","handleDeactivate","handleInput","handleRemove","handleKeyPress","handleFocus","handleAdd","handleResizeMouseDown"]),this.state={activeIndex:null,activeValue:null,width:e.width||100,height:e.height||200}}handleActivate(e){this.state.activeIndex!==e&&this.setState({activeIndex:e,activeValue:this.props.value[e]})}handleDeactivate(){if(null!==this.state.activeIndex){const{vm:e,targetId:t,id:n}=this.props,a=Ep(e,t,n);a[this.state.activeIndex]=this.state.activeValue,Cp(e,t,n,a),this.setState({activeIndex:null,activeValue:null})}}handleFocus(e){e.target.select()}handleKeyPress(e){const t=this.state.activeIndex,{vm:n,targetId:a,id:o}=this.props;let r=0;if("Tab"===e.key?r=e.shiftKey?-1:1:"ArrowUp"===e.key?r=-1:"ArrowDown"===e.key&&(r=1),r){this.handleDeactivate();const n=this.wrapListIndex(t+r,this.props.value.length);this.setState({activeIndex:n,activeValue:this.props.value[n]}),e.preventDefault()}else if("Enter"===e.key){this.handleDeactivate();const r="",s=e.shiftKey?0:1,i=Ep(n,a,o),l=i.slice(0,t+s).concat([r]).concat(i.slice(t+s));Cp(n,a,o,l);const c=this.wrapListIndex(t+s,l.length);this.setState({activeIndex:c,activeValue:r})}}handleInput(e){this.setState({activeValue:e.target.value})}handleRemove(e){e.preventDefault(),e.stopPropagation();const{vm:t,targetId:n,id:a}=this.props,o=Ep(t,n,a),r=o.slice(0,this.state.activeIndex).concat(o.slice(this.state.activeIndex+1));Cp(t,n,a,r);const s=Math.min(r.length-1,this.state.activeIndex);this.setState({activeIndex:s,activeValue:r[s]})}handleAdd(){const{vm:e,targetId:t,id:n}=this.props,a=Ep(e,t,n).concat([""]);Cp(e,t,n,a),this.setState({activeIndex:a.length-1,activeValue:""})}handleResizeMouseDown(e){this.initialPosition=Ba(e),this.initialWidth=this.state.width,this.initialHeight=this.state.height;const t=e=>{const t=Ba(e),n=t.x-this.initialPosition.x,a=t.y-this.initialPosition.y;this.setState({width:Math.max(Math.min(this.initialWidth+n,Ho.a.width),100),height:Math.max(Math.min(this.initialHeight+a,Ho.a.height),60)})},n=e=>{t(e),window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",n),this.props.vm.runtime.requestUpdateMonitor(Object(Up.Map)({id:this.props.id,height:this.state.height,width:this.state.width}))};window.addEventListener("mousemove",t),window.addEventListener("mouseup",n)}wrapListIndex(e,t){return(e+t)%t}render(){const e=this.props,{vm:t}=e,n=zp(e,qp);return o.a.createElement(Bp,Gp({},n,{activeIndex:this.state.activeIndex,activeValue:this.state.activeValue,height:this.state.height,width:this.state.width,onActivate:this.handleActivate,onAdd:this.handleAdd,onDeactivate:this.handleDeactivate,onFocus:this.handleFocus,onInput:this.handleInput,onKeyPress:this.handleKeyPress,onRemove:this.handleRemove,onResizeMouseDown:this.handleResizeMouseDown}))}}Hp.propTypes={height:s.a.number,id:s.a.string,targetId:s.a.string,value:s.a.oneOfType([s.a.number,s.a.string]),vm:s.a.instanceOf(p.a),width:s.a.number,x:s.a.number,y:s.a.number};var Wp=Object(l.b)(e=>({vm:e.scratchGui.vm}))(Hp);function Vp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Kp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Xp={data:"#FF8C1A",sensing:"#5CB1D6",sound:"#CF63CF",looks:"#9966FF",motion:"#4C97FF",list:"#FC662C",extension:"#0FBD8C"},Qp={default:vp,large:wp,slider:Rp,list:Wp},Yp=e=>o.a.createElement(Ya.b,{disable:!e.draggable&&!e.onExport,holdToDisplay:"slider"===e.mode?-1:1e3,id:"monitor-".concat(e.label)},o.a.createElement(gp.a,{bounds:".monitor-overlay",cancel:".no-drag",defaultClassNameDragging:bp.a.dragging,disabled:!e.draggable,onStop:e.onDragEnd},o.a.createElement(it.a,{className:bp.a.monitorContainer,componentRef:e.componentRef,onDoubleClick:"list"!==e.mode&&e.draggable?e.onNextMode:null},o.a.createElement(Qp[e.mode],function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vp(Object(n),!0).forEach((function(t){Kp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({categoryColor:Xp[e.category]},e)))),mp.a.createPortal(o.a.createElement(eo,{id:"monitor-".concat(e.label)},e.onSetModeToDefault&&o.a.createElement(to,{onClick:e.onSetModeToDefault},o.a.createElement(m.a,{defaultMessage:"normal readout",id:"gui.monitor.contextMenu.default"})),e.onSetModeToLarge&&o.a.createElement(to,{onClick:e.onSetModeToLarge},o.a.createElement(m.a,{defaultMessage:"large readout",id:"gui.monitor.contextMenu.large"})),e.onSetModeToSlider&&o.a.createElement(to,{onClick:e.onSetModeToSlider},o.a.createElement(m.a,{defaultMessage:"slider",id:"gui.monitor.contextMenu.slider"})),e.onSliderPromptOpen&&"slider"===e.mode&&o.a.createElement(no,{onClick:e.onSliderPromptOpen},o.a.createElement(m.a,{defaultMessage:"change slider range",id:"gui.monitor.contextMenu.sliderRange"})),e.onImport&&o.a.createElement(to,{onClick:e.onImport},o.a.createElement(m.a,{defaultMessage:"import",id:"gui.monitor.contextMenu.import"})),e.onExport&&o.a.createElement(to,{onClick:e.onExport},o.a.createElement(m.a,{defaultMessage:"export",id:"gui.monitor.contextMenu.export"}))),document.body));Yp.categories=Xp;const Jp=Object.keys(Qp);Yp.propTypes={category:s.a.oneOf(Object.keys(Xp)),componentRef:s.a.func.isRequired,draggable:s.a.bool.isRequired,label:s.a.string.isRequired,mode:s.a.oneOf(Jp),onDragEnd:s.a.func.isRequired,onExport:s.a.func,onImport:s.a.func,onNextMode:s.a.func.isRequired,onSetModeToDefault:s.a.func,onSetModeToLarge:s.a.func,onSetModeToSlider:s.a.func,onSliderPromptOpen:s.a.func},Yp.defaultProps={category:"extension",mode:"default"};var Zp=n(820),$p=n.n(Zp),em=n(127),tm=n.n(em);const nm=Object(m.d)({minValue:{id:"gui.sliderModal.min",defaultMessage:"Minimum value"},maxValue:{id:"gui.sliderModal.max",defaultMessage:"Maximum value"},title:{id:"gui.sliderModal.title",defaultMessage:"Change slider range"}}),am=e=>o.a.createElement(Ot,{className:tm.a.modalContent,contentLabel:e.intl.formatMessage(nm.title),id:"sliderPrompt",onRequestClose:e.onCancel},o.a.createElement(it.a,{className:tm.a.body},o.a.createElement(it.a,{className:tm.a.label},e.intl.formatMessage(nm.minValue)),o.a.createElement(it.a,null,o.a.createElement("input",{className:tm.a.minInput,name:e.intl.formatMessage(nm.minValue),pattern:"-?[0-9]*(\\.[0-9]+)?",type:"text",value:e.minValue,onChange:e.onChangeMin,onKeyPress:e.onKeyPress})),o.a.createElement(it.a,{className:tm.a.label},e.intl.formatMessage(nm.maxValue)),o.a.createElement(it.a,null,o.a.createElement("input",{className:tm.a.maxInput,name:e.intl.formatMessage(nm.maxValue),pattern:"-?[0-9]*(\\.[0-9]+)?",type:"text",value:e.maxValue,onChange:e.onChangeMax,onKeyPress:e.onKeyPress})),o.a.createElement(it.a,{className:tm.a.buttonRow},o.a.createElement("button",{className:tm.a.cancelButton,onClick:e.onCancel},o.a.createElement(m.a,{defaultMessage:"Cancel",id:"gui.sliderPrompt.cancel"})),o.a.createElement("button",{className:tm.a.okButton,onClick:e.onOk},o.a.createElement(m.a,{defaultMessage:"OK",id:"gui.sliderPrompt.ok"})))));am.propTypes={intl:m.f,maxValue:s.a.string,minValue:s.a.string,onCancel:s.a.func.isRequired,onChangeMax:s.a.func.isRequired,onChangeMin:s.a.func.isRequired,onKeyPress:s.a.func.isRequired,onOk:s.a.func.isRequired};var om=Object(m.e)(am);class rm extends o.a.Component{constructor(e){super(e),F()(this,["handleOk","handleCancel","handleChangeMin","handleChangeMax","handleKeyPress","validates","shouldBeDiscrete"]);const{isDiscrete:t,minValue:n,maxValue:a}=this.props;this.state={minValue:t?n.toFixed(0):n.toFixed(2),maxValue:t?a.toFixed(0):a.toFixed(2)}}handleKeyPress(e){"Enter"===e.key&&this.handleOk()}handleOk(){const{minValue:e,maxValue:t}=this.state;this.validates(e,t)?this.props.onOk(parseFloat(e),parseFloat(t),this.shouldBeDiscrete(e,t)):this.props.onCancel()}handleCancel(){this.props.onCancel()}handleChangeMin(e){this.setState({minValue:e.target.value})}handleChangeMax(e){this.setState({maxValue:e.target.value})}shouldBeDiscrete(e,t){return e.indexOf(".")+t.indexOf(".")===-2}validates(e,t){return isFinite(e)&&isFinite(t)}render(){return o.a.createElement(om,{maxValue:this.state.maxValue,minValue:this.state.minValue,onCancel:this.handleCancel,onChangeMax:this.handleChangeMax,onChangeMin:this.handleChangeMin,onKeyPress:this.handleKeyPress,onOk:this.handleOk})}}rm.propTypes={isDiscrete:s.a.bool,maxValue:s.a.number,minValue:s.a.number,onCancel:s.a.func.isRequired,onOk:s.a.func.isRequired},rm.defaultProps={maxValue:100,minValue:0,isDiscrete:!0};var sm=rm;function im(){return(im=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const lm=e=>Jp.filter(t=>"data_variable"===e?"list"!==t:"data_listcontents"===e?"list"===t:"slider"!==t&&"list"!==t),cm=Object(m.d)({columnPrompt:{id:"gui.monitors.importListColumnPrompt",defaultMessage:"Which column should be used (1-{numberOfColumns})?"}});class dm extends o.a.Component{constructor(e){super(e),F()(this,["handleDragEnd","handleNextMode","handleSetModeToDefault","handleSetModeToLarge","handleSetModeToSlider","handleSliderPromptClose","handleSliderPromptOk","handleSliderPromptOpen","handleImport","handleExport","setElement"]),this.state={sliderPrompt:!1}}componentDidMount(){let e;const t=e=>"number"==typeof e&&!isNaN(e);t(this.props.x)&&t(this.props.y)&&!this.props.monitorLayout.savedMonitorPositions[this.props.id]?(e={upperStart:{x:this.props.x,y:this.props.y},lowerEnd:{x:this.props.x+this.element.offsetWidth,y:this.props.y+this.element.offsetHeight}},this.props.addMonitorRect(this.props.id,e,!0)):(e=Object(cp.c)(this.props.monitorLayout,this.props.id,this.element.offsetWidth,this.element.offsetHeight),this.props.addMonitorRect(this.props.id,e),this.props.vm.runtime.requestUpdateMonitor(Object(Up.Map)({id:this.props.id,x:e.upperStart.x,y:e.upperStart.y}))),this.element.style.top="".concat(e.upperStart.y,"px"),this.element.style.left="".concat(e.upperStart.x,"px")}shouldComponentUpdate(e,t){if(t!==this.state)return!0;for(const t of Object.getOwnPropertyNames(e))if("monitorLayout"!==t&&e[t]!==this.props[t])return!0;return!1}componentDidUpdate(){this.props.draggable&&this.props.resizeMonitorRect(this.props.id,this.element.offsetWidth,this.element.offsetHeight)}componentWillUnmount(){this.props.removeMonitorRect(this.props.id)}handleDragEnd(e,{x:t,y:n}){const a=parseInt(this.element.style.left,10)+t,o=parseInt(this.element.style.top,10)+n;this.props.onDragEnd(this.props.id,a,o),this.props.vm.runtime.requestUpdateMonitor(Object(Up.Map)({id:this.props.id,x:a,y:o}))}handleNextMode(){const e=lm(this.props.opcode),t=e.indexOf(this.props.mode),n=e[(t+1)%e.length];this.props.vm.runtime.requestUpdateMonitor(Object(Up.Map)({id:this.props.id,mode:n}))}handleSetModeToDefault(){this.props.vm.runtime.requestUpdateMonitor(Object(Up.Map)({id:this.props.id,mode:"default"}))}handleSetModeToLarge(){this.props.vm.runtime.requestUpdateMonitor(Object(Up.Map)({id:this.props.id,mode:"large"}))}handleSetModeToSlider(){this.props.vm.runtime.requestUpdateMonitor(Object(Up.Map)({id:this.props.id,mode:"slider"}))}handleSliderPromptClose(){this.setState({sliderPrompt:!1})}handleSliderPromptOpen(){this.setState({sliderPrompt:!0})}handleSliderPromptOk(e,t,n){const a=Math.min(e,t),o=Math.max(e,t);this.props.vm.runtime.requestUpdateMonitor(Object(Up.Map)({id:this.props.id,sliderMin:a,sliderMax:o,isDiscrete:n})),this.handleSliderPromptClose()}setElement(e){this.element=e}handleImport(){new Promise((e,t)=>{const n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("accept",".csv, .tsv, .txt"),n.onchange=a=>{const o=a.target.files[0],r=new FileReader;r.onload=()=>{document.body.removeChild(n);const a=r.result;$p.a.parse(a,{header:!1,complete:t=>{e({rows:t.data,text:a})},error:e=>{t(e)}})},r.onerror=()=>{document.body.removeChild(n),t(new Error("Cannot read file"))},r.readAsText(o)},document.body.appendChild(n),n.click()}).then(({rows:e,text:t})=>{const n=e[0].length;let a,o=1;if(n>1){const e=this.props.intl.formatMessage(cm.columnPrompt,{numberOfColumns:n});o=parseInt(prompt(e),10)}a=isNaN(o)||1===n?t.replace(/\r/g,"").split("\n"):e.map(e=>e[o-1]).filter(e=>"string"==typeof e);const{vm:r,targetId:s,id:i}=this.props;Cp(r,s,i,a)})}handleExport(){const{vm:e,targetId:t,id:n}=this.props,a=Sp(e,t,n),o=a.value.join("\r\n"),r=new Blob([o],{type:"text/plain;charset=utf-8"});Object(Yo.a)("".concat(a.name,".txt"),r)}render(){const e=function({id:e,spriteName:t,opcode:n,params:a,value:o,vm:r}){let{label:s,category:i,labelFn:l}=r&&r.runtime.getLabelForOpcode(n)||up.getLabel(n);if(void 0!==l&&(s=l(a)),t&&(s="".concat(t,": ").concat(s)),"number"==typeof o&&(o=Number(o.toFixed(6))),"boolean"==typeof o&&(o=o.toString()),Array.isArray(o))for(let e=0;e<o.length;e++){const t=o[e];"boolean"==typeof t&&(o[e]=t.toString())}return{id:e,label:s,category:i,value:o}}(this.props),t=-1!==lm(this.props.opcode).indexOf("slider"),n="list"===this.props.mode;return o.a.createElement(o.a.Fragment,null,this.state.sliderPrompt&&o.a.createElement(sm,{isDiscrete:this.props.isDiscrete,maxValue:parseFloat(this.props.max),minValue:parseFloat(this.props.min),onCancel:this.handleSliderPromptClose,onOk:this.handleSliderPromptOk}),o.a.createElement(Yp,im({componentRef:this.setElement},e,{draggable:this.props.draggable,height:this.props.height,isDiscrete:this.props.isDiscrete,max:this.props.max,min:this.props.min,mode:this.props.mode,targetId:this.props.targetId,width:this.props.width,onDragEnd:this.handleDragEnd,onExport:n?this.handleExport:null,onImport:n?this.handleImport:null,onNextMode:this.handleNextMode,onSetModeToDefault:n?null:this.handleSetModeToDefault,onSetModeToLarge:n?null:this.handleSetModeToLarge,onSetModeToSlider:t?this.handleSetModeToSlider:null,onSliderPromptOpen:this.handleSliderPromptOpen})))}}dm.propTypes={addMonitorRect:s.a.func.isRequired,draggable:s.a.bool,height:s.a.number,id:s.a.string.isRequired,intl:m.f,isDiscrete:s.a.bool,max:s.a.number,min:s.a.number,mode:s.a.oneOf(["default","slider","large","list"]),monitorLayout:s.a.shape({monitors:s.a.object,savedMonitorPositions:s.a.object}).isRequired,onDragEnd:s.a.func.isRequired,opcode:s.a.string.isRequired,params:s.a.object,removeMonitorRect:s.a.func.isRequired,resizeMonitorRect:s.a.func.isRequired,spriteName:s.a.string,targetId:s.a.string,value:s.a.oneOfType([s.a.string,s.a.number,s.a.arrayOf(s.a.oneOfType([s.a.string,s.a.number]))]),vm:s.a.instanceOf(p.a),width:s.a.number,x:s.a.number,y:s.a.number};var um=Object(m.e)(Object(l.b)(e=>({monitorLayout:e.scratchGui.monitorLayout,vm:e.scratchGui.vm}),e=>({addMonitorRect:(t,n,a)=>e(Object(cp.a)(t,n.upperStart,n.lowerEnd,a)),resizeMonitorRect:(t,n,a)=>e(Object(cp.g)(t,n,a)),removeMonitorRect:t=>e(Object(cp.f)(t))}))(dm)),pm=n(439),mm=n.n(pm);const hm=e=>o.a.createElement(it.a,{className:Ve()(mm.a.monitorList,"monitor-overlay"),style:{width:e.stageSize.width,height:e.stageSize.height}},o.a.createElement(it.a,{className:mm.a.monitorListScaler,style:Au(e.stageSize)},e.monitors.valueSeq().filter(e=>e.visible).map(t=>o.a.createElement(um,{draggable:e.draggable,height:t.height,id:t.id,isDiscrete:t.isDiscrete,key:t.id,max:t.sliderMax,min:t.sliderMin,mode:t.mode,opcode:t.opcode,params:t.params,spriteName:t.spriteName,targetId:t.targetId,value:t.value,width:t.width,x:t.x,y:t.y,onDragEnd:e.onMonitorChange}))));hm.propTypes={draggable:s.a.bool.isRequired,monitors:s.a.instanceOf(Up.OrderedMap),onMonitorChange:s.a.func.isRequired,stageSize:s.a.shape({width:s.a.number,height:s.a.number,widthDefault:s.a.number,heightDefault:s.a.number}).isRequired};var gm=hm;function fm(){return(fm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}class bm extends o.a.Component{constructor(e){super(e),F()(this,["handleMonitorChange"]),up.setTranslatorFunction(e.intl.formatMessage)}handleMonitorChange(e,t,n){this.props.moveMonitorRect(e,t,n)}render(){return o.a.createElement(gm,fm({onMonitorChange:this.handleMonitorChange},this.props))}}bm.propTypes={intl:m.f.isRequired,moveMonitorRect:s.a.func.isRequired};var _m=Object(h.a)("Monitors")(Object(m.e)(Object(l.b)(e=>({monitors:e.scratchGui.monitors}),e=>({moveMonitorRect:(t,n,a)=>e(Object(cp.e)(t,n,a))}))(bm)));class vm extends o.a.Component{constructor(e){super(e),F()(this,["getPageCoords"])}getPageCoords(e,t){const{stageWidth:n,stageHeight:a,vm:o}=this.props,r=o.renderer.getNativeSize();return[n/r[0]*e+n/2,-a/r[1]*t+a/2]}render(){const{className:e,highlightedTargetId:t,highlightedTargetTime:n,vm:a}=this.props;if(!(t&&a&&a.renderer&&a.runtime.getTargetById(t)))return null;const r=a.runtime.getTargetById(t),s=a.renderer.getBounds(r.drawableID),[i,l]=this.getPageCoords(s.left,s.top),[c,d]=this.getPageCoords(s.right,s.bottom);return o.a.createElement("div",{className:e,key:n,style:{position:"absolute",top:"".concat(l-2,"px"),left:"".concat(i-2,"px"),width:"".concat(c-i+4,"px"),height:"".concat(d-l+4,"px")}})}}vm.propTypes={className:s.a.string,highlightedTargetId:s.a.string,highlightedTargetTime:s.a.number,stageHeight:s.a.number,stageWidth:s.a.number,vm:s.a.instanceOf(p.a)};var ym=Object(l.b)(e=>({highlightedTargetTime:e.scratchGui.targets.highlightedTargetTime,highlightedTargetId:e.scratchGui.targets.highlightedTargetId,vm:e.scratchGui.vm}),()=>({}))(vm);class wm extends o.a.Component{constructor(e){super(e),F()(this,["handleClick"])}handleClick(){this.props.vm.start(),this.props.vm.greenFlag()}render(){return o.a.createElement(it.a,{className:this.props.wrapperClass,onClick:this.handleClick},o.a.createElement("div",{className:this.props.className},o.a.createElement("img",{draggable:!1,src:Wd.a})))}}wm.propTypes={className:s.a.string,vm:s.a.instanceOf(p.a),wrapperClass:s.a.string};var Sm=Object(l.b)(e=>({vm:e.scratchGui.vm}),()=>({}))(wm),Em=n(223),Cm=n.n(Em),km=n(821),xm=n.n(km);const Om=e=>{const{answer:t,className:n,question:a,onChange:r,onClick:s,onKeyPress:i}=e;return o.a.createElement("div",{className:n},o.a.createElement("div",{className:Cm.a.questionContainer},a?o.a.createElement("div",{className:Cm.a.questionLabel},a):null,o.a.createElement("div",{className:Cm.a.questionInput},o.a.createElement(Ir.a,{autoFocus:!0,value:t,onChange:r,onKeyPress:i}),o.a.createElement("button",{className:Cm.a.questionSubmitButton,onClick:s},o.a.createElement("img",{className:Cm.a.questionSubmitButtonIcon,draggable:!1,src:xm.a})))))};Om.propTypes={answer:s.a.string,className:s.a.string,onChange:s.a.func.isRequired,onClick:s.a.func.isRequired,onKeyPress:s.a.func.isRequired,question:s.a.string};var Fm=Om;class Tm extends o.a.Component{constructor(e){super(e),F()(this,["handleChange","handleKeyPress","handleSubmit"]),this.state={answer:""}}handleChange(e){this.setState({answer:e.target.value})}handleKeyPress(e){"Enter"===e.key&&this.handleSubmit()}handleSubmit(){this.props.onQuestionAnswered(this.state.answer)}render(){return o.a.createElement(Fm,{answer:this.state.answer,question:this.props.question,onChange:this.handleChange,onClick:this.handleSubmit,onKeyPress:this.handleKeyPress})}}Tm.propTypes={onQuestionAnswered:s.a.func.isRequired,question:s.a.string};var Im=Tm,Rm=n(822),jm=n.n(Rm),Dm=n(823),Am=n.n(Dm);const Pm=e=>o.a.createElement("div",{className:e.className,style:Au(e.stageSize)},o.a.createElement("img",{className:jm.a.micImg,src:Am.a}));Pm.propTypes={className:s.a.string,stageSize:s.a.shape({width:s.a.number,height:s.a.number,widthDefault:s.a.number,heightDefault:s.a.number}).isRequired};var Mm=Pm,Nm=n(77),Lm=n.n(Nm);const Bm=["canvas","dragRef","isColorPicking","isFullScreen","isPlayerOnly","isStarted","colorInfo","micIndicator","question","stageSize","useEditorDragStyle","onDeactivateColorPicker","onDoubleClick","onQuestionAnswered"];function Um(){return(Um=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function qm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Gm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qm(Object(n),!0).forEach((function(t){zm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hm(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Wm=e=>{const{canvas:t,dragRef:n,isColorPicking:a,isFullScreen:r,isPlayerOnly:s,isStarted:i,colorInfo:l,micIndicator:c,question:d,stageSize:u,useEditorDragStyle:p,onDeactivateColorPicker:m,onDoubleClick:h,onQuestionAnswered:g}=e,f=Hm(e,Bm),b=Du(u,r),_=(e=>480*ha.b[e])(u),v=b.width<_&&!r?{transform:"translateX(".concat((_-b.width)/2,"px)")}:{};return o.a.createElement(o.a.Fragment,null,o.a.createElement(it.a,{className:Ve()(Lm.a.stageWrapper,{[Lm.a.withColorPicker]:!r&&a}),onDoubleClick:h,style:s?null:{minWidth:"".concat(_,"px")}},o.a.createElement(it.a,{className:Ve()(Lm.a.stage,{[Lm.a.fullScreen]:r}),style:Gm({height:b.height,width:b.width},v)},o.a.createElement(tp.a,Um({domElement:t,style:{height:b.height,width:b.width}},f)),o.a.createElement(it.a,{className:Lm.a.monitorWrapper},o.a.createElement(_m,{draggable:p,stageSize:b})),o.a.createElement(it.a,{className:Lm.a.frameWrapper},o.a.createElement(ym,{className:Lm.a.frame,stageHeight:b.height,stageWidth:b.width})),a&&l?o.a.createElement(lp,{colorInfo:l}):null),o.a.createElement(it.a,{className:Ve()(Lm.a.stageOverlays,{[Lm.a.fullScreen]:r}),style:v},o.a.createElement("div",{className:Lm.a.stageBottomWrapper,style:{width:b.width,height:b.height}},c?o.a.createElement(Mm,{className:Lm.a.micIndicator,stageSize:b}):null,null===d?null:o.a.createElement("div",{className:Lm.a.questionWrapper,style:{width:b.width}},o.a.createElement(Im,{question:d,onQuestionAnswered:g}))),o.a.createElement("canvas",{className:Lm.a.draggingSprite,height:0,ref:n,width:0})),i?null:o.a.createElement(Sm,{className:Lm.a.greenFlagOverlay,wrapperClass:Lm.a.greenFlagOverlayWrapper})),a?o.a.createElement(it.a,{className:Lm.a.colorPickerBackground,onClick:m}):null)};Wm.propTypes={canvas:s.a.instanceOf(Element).isRequired,colorInfo:lp.propTypes.colorInfo,dragRef:s.a.func,isColorPicking:s.a.bool,isFullScreen:s.a.bool.isRequired,isPlayerOnly:s.a.bool,isStarted:s.a.bool,micIndicator:s.a.bool,onDeactivateColorPicker:s.a.func,onDoubleClick:s.a.func,onQuestionAnswered:s.a.func,question:s.a.string,stageSize:s.a.oneOf(Object.keys(ha.c)).isRequired,useEditorDragStyle:s.a.bool},Wm.defaultProps={dragRef:()=>{}};var Vm=Wm;const Km=["vm","onActivateColorPicker","disableEditingTargetChange"];function Xm(){return(Xm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Qm(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ym(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Jm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Zm extends o.a.Component{constructor(e){super(e),F()(this,["attachMouseEvents","cancelMouseDownTimeout","detachMouseEvents","handleDoubleClick","handleQuestionAnswered","onMouseUp","onMouseMove","onMouseDown","onStartDrag","onStopDrag","onWheel","onContextMenu","updateRect","questionListener","setDragCanvas","clearDragCanvas","drawDragCanvas","positionDragCanvas"]),this.state={mouseDownTimeoutId:null,mouseDownPosition:null,isDragging:!1,dragOffset:null,dragId:null,colorInfo:null,question:null},this.props.vm.renderer?(this.renderer=this.props.vm.renderer,this.canvas=this.renderer.canvas):(this.canvas=document.createElement("canvas"),this.renderer=new $e.a(this.canvas,-Ho.a.width/2,Ho.a.width/2,-Ho.a.height/2,Ho.a.height/2),this.props.vm.runtime.stageWidth=Ho.a.width,this.props.vm.runtime.stageHeight=Ho.a.height,this.props.vm.attachRenderer(this.renderer),this.props.vm.setVideoProvider(new ep),this.props.vm.renderer.draw(),this.props.vm.renderer.on("UseHighQualityRenderChanged",this.props.onHighQualityPenChanged)),this.props.vm.attachV2BitmapAdapter(new Na.BitmapAdapter)}componentDidMount(){this.attachRectEvents(),this.attachMouseEvents(this.canvas),this.updateRect(),this.props.vm.runtime.addListener("QUESTION",this.questionListener)}shouldComponentUpdate(e,t){return this.props.stageSize!==e.stageSize||this.props.isColorPicking!==e.isColorPicking||this.state.colorInfo!==t.colorInfo||this.props.isFullScreen!==e.isFullScreen||this.props.isWindowFullScreen!==e.isWindowFullScreen||this.props.dimensions!==e.dimensions||this.state.question!==t.question||this.props.micIndicator!==e.micIndicator||this.props.isStarted!==e.isStarted}componentDidUpdate(e){this.props.isColorPicking&&!e.isColorPicking?this.startColorPickingLoop():!this.props.isColorPicking&&e.isColorPicking&&this.stopColorPickingLoop(),this.updateRect(),this.renderer.resize(this.rect.width,this.rect.height)}componentWillUnmount(){this.detachMouseEvents(this.canvas),this.detachRectEvents(),this.stopColorPickingLoop(),this.props.vm.runtime.removeListener("QUESTION",this.questionListener)}questionListener(e){this.setState({question:e})}handleQuestionAnswered(e){this.setState({question:null},()=>{this.props.vm.runtime.emit("ANSWER",e)})}startColorPickingLoop(){this.intervalId=setInterval(()=>{"number"==typeof this.pickX&&this.setState({colorInfo:this.getColorInfo(this.pickX,this.pickY)})},30)}stopColorPickingLoop(){clearInterval(this.intervalId)}attachMouseEvents(e){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("touchmove",this.onMouseMove),document.addEventListener("touchend",this.onMouseUp),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("touchstart",this.onMouseDown),e.addEventListener("wheel",this.onWheel),e.addEventListener("contextmenu",this.onContextMenu)}detachMouseEvents(e){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onMouseMove),document.removeEventListener("touchend",this.onMouseUp),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("touchstart",this.onMouseDown),e.removeEventListener("wheel",this.onWheel),e.removeEventListener("contextmenu",this.onContextMenu)}attachRectEvents(){window.addEventListener("resize",this.updateRect),window.addEventListener("scroll",this.updateRect)}detachRectEvents(){window.removeEventListener("resize",this.updateRect),window.removeEventListener("scroll",this.updateRect)}updateRect(){this.rect=this.canvas.getBoundingClientRect()}getScratchCoords(e,t){const n=this.renderer.getNativeSize();return[n[0]/this.rect.width*(e-this.rect.width/2),n[1]/this.rect.height*(t-this.rect.height/2)]}getColorInfo(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ym(Object(n),!0).forEach((function(t){Jm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ym(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:e,y:t},this.renderer.extractColor(e,t,20))}handleDoubleClick(e){if(this.props.disableEditingTargetChange)return;const{x:t,y:n}=Ba(e),a=[t-this.rect.left,n-this.rect.top],o=this.renderer.pick(a[0],a[1]);if(null===o)return;const r=this.props.vm.getTargetIdForDrawableId(o);null!==r&&this.props.vm.setEditingTarget(r)}onMouseMove(e){const{x:t,y:n}=Ba(e),a=[t-this.rect.left,n-this.rect.top];if(this.props.isColorPicking&&(this.pickX=a[0],this.pickY=a[1]),this.state.mouseDown&&!this.state.isDragging){Math.sqrt(Math.pow(a[0]-this.state.mouseDownPosition[0],2)+Math.pow(a[1]-this.state.mouseDownPosition[1],2))>3&&(this.cancelMouseDownTimeout(),this.onStartDrag(...this.state.mouseDownPosition))}if(this.state.mouseDown&&this.state.isDragging)if(this.props.useEditorDragStyle)this.positionDragCanvas(a[0],a[1]);else{const e=this.getScratchCoords(a[0],a[1]);this.props.vm.postSpriteInfo({x:e[0]+this.state.dragOffset[0],y:-(e[1]+this.state.dragOffset[1]),force:!0})}const o={x:a[0],y:a[1],canvasWidth:this.rect.width,canvasHeight:this.rect.height};this.props.vm.postIOData("mouse",o)}onMouseUp(e){const{x:t,y:n}=Ba(e),a=[t-this.rect.left,n-this.rect.top];this.cancelMouseDownTimeout(),this.setState({mouseDown:!1,mouseDownPosition:null});const o={isDown:!1,button:e.button,x:t-this.rect.left,y:n-this.rect.top,canvasWidth:this.rect.width,canvasHeight:this.rect.height,wasDragged:this.state.isDragging};if(this.state.isDragging&&this.onStopDrag(a[0],a[1]),this.props.vm.postIOData("mouse",o),this.props.isColorPicking&&a[0]>0&&a[0]<this.rect.width&&a[1]>0&&a[1]<this.rect.height){const{r:e,g:t,b:n}=this.state.colorInfo.color,a=e=>{const t=e.toString(16);return 1===t.length?"0".concat(t):t},o="#".concat(a(e)).concat(a(t)).concat(a(n));this.props.onDeactivateColorPicker(o),this.setState({colorInfo:null}),this.pickX=null,this.pickY=null}}onMouseDown(e){this.updateRect();const{x:t,y:n}=Ba(e),a=[t-this.rect.left,n-this.rect.top];if(this.props.isColorPicking)this.pickX=a[0],this.pickY=a[1],this.setState({colorInfo:this.getColorInfo(this.pickX,this.pickY)});else{(0===e.button||window.TouchEvent&&e instanceof TouchEvent)&&this.setState({mouseDown:!0,mouseDownPosition:a,mouseDownTimeoutId:setTimeout(this.onStartDrag.bind(this,a[0],a[1]),400)});const t={isDown:!0,button:e.button,x:a[0],y:a[1],canvasWidth:this.rect.width,canvasHeight:this.rect.height};this.props.vm.postIOData("mouse",t),e.preventDefault&&(e.preventDefault(),document.activeElement&&document.activeElement.blur&&document.activeElement.blur())}}onWheel(e){const t={deltaX:e.deltaX,deltaY:e.deltaY};this.props.vm.postIOData("mouseWheel",t)}onContextMenu(e){this.props.vm.runtime.ioDevices.mouse.usesRightClickDown&&e.preventDefault()}cancelMouseDownTimeout(){null!==this.state.mouseDownTimeoutId&&clearTimeout(this.state.mouseDownTimeoutId),this.setState({mouseDownTimeoutId:null})}drawDragCanvas(e,t,n){const{imageData:a,x:o,y:r,width:s,height:i}=e;this.dragCanvas.width=a.width,this.dragCanvas.height=a.height,this.dragCanvas.style.width="".concat(s,"px"),this.dragCanvas.style.height="".concat(i,"px"),this.dragCanvas.getContext("2d").putImageData(a,0,0),this.dragCanvas.style.left="".concat(o-t,"px"),this.dragCanvas.style.top="".concat(r-n,"px"),this.dragCanvas.style.display="block"}clearDragCanvas(){this.dragCanvas.width=this.dragCanvas.height=0,this.dragCanvas.style.display="none"}positionDragCanvas(e,t){this.dragCanvas.style.transform="translate(".concat(e,"px, ").concat(t,"px)")}onStartDrag(e,t){if(this.state.dragId)return;const n=this.renderer.pick(e,t);if(null===n)return;const a=this.props.vm.getTargetIdForDrawableId(n);if(null===a)return;const o=this.props.vm.runtime.getTargetById(a);if(!this.props.useEditorDragStyle&&!o.draggable)return;o.goToFront();const[r,s]=this.getScratchCoords(e,t),i=o.x-r,l=-(o.y+s);if(this.props.vm.startDrag(a),this.setState({isDragging:!0,dragId:a,dragOffset:[i,l]}),this.props.useEditorDragStyle){const a=this.renderer.extractDrawableScreenSpace(n);this.drawDragCanvas(a,e,t),this.positionDragCanvas(e,t),this.props.vm.postSpriteInfo({visible:!1}),this.props.vm.renderer.draw()}}onStopDrag(e,t){const n=this.state.dragId,a=()=>{this.props.vm.stopDrag(n),this.setState({isDragging:!1,dragOffset:null,dragId:null})};if(this.props.useEditorDragStyle){const n={visible:!0};if(e>0&&e<this.rect.width&&t>0&&t<this.rect.height){const a=this.getScratchCoords(e,t);n.x=a[0]+this.state.dragOffset[0],n.y=-(a[1]+this.state.dragOffset[1]),n.force=!0}this.props.vm.postSpriteInfo(n),this.clearDragCanvas(),a(),this.props.vm.renderer.draw()}else a()}setDragCanvas(e){this.dragCanvas=e}render(){const e=this.props,{vm:t,onActivateColorPicker:n,disableEditingTargetChange:a}=e,r=Qm(e,Km);return o.a.createElement(Vm,Xm({canvas:this.canvas,colorInfo:this.state.colorInfo,dragRef:this.setDragCanvas,question:this.state.question,onDoubleClick:this.handleDoubleClick,onQuestionAnswered:this.handleQuestionAnswered},r))}}Zm.propTypes={onHighQualityPenChanged:s.a.func,highQualityPen:s.a.bool,disableEditingTargetChange:s.a.bool,isColorPicking:s.a.bool,isFullScreen:s.a.bool.isRequired,isPlayerOnly:s.a.bool,isWindowFullScreen:s.a.bool,dimensions:s.a.arrayOf(s.a.number),isStarted:s.a.bool,micIndicator:s.a.bool,onActivateColorPicker:s.a.func,onDeactivateColorPicker:s.a.func,stageSize:s.a.oneOf(Object.keys(ha.c)).isRequired,useEditorDragStyle:s.a.bool,vm:s.a.instanceOf(p.a).isRequired},Zm.defaultProps={useEditorDragStyle:!0};var $m=Object(l.b)(e=>({highQualityPen:e.scratchGui.tw.highQualityPen,disableEditingTargetChange:e.scratchGui.mode.isFullScreen||e.scratchGui.mode.isEmbedded||e.scratchGui.mode.isPlayerOnly,isColorPicking:e.scratchGui.colorPicker.active,isFullScreen:e.scratchGui.mode.isFullScreen||e.scratchGui.mode.isEmbedded,isPlayerOnly:e.scratchGui.mode.isPlayerOnly,isWindowFullScreen:e.scratchGui.tw.isWindowFullScreen,dimensions:e.scratchGui.tw.dimensions,isStarted:e.scratchGui.vmStatus.started,micIndicator:e.scratchGui.micIndicator,useEditorDragStyle:!(e.scratchGui.mode.isFullScreen||e.scratchGui.mode.isPlayerOnly)}),e=>({onHighQualityPenChanged:t=>e(Object(ve.l)(t)),onActivateColorPicker:()=>e(Object(Ca.a)()),onDeactivateColorPicker:t=>e(Object(Ca.c)(t))}))(Zm),eh=n(101),th=n.n(eh),nh=n(824),ah=n.n(nh),oh=n(825),rh=n.n(oh),sh=n(826),ih=n.n(sh);const lh={"gui.loader.headline":o.a.createElement(m.a,{defaultMessage:"Loading Project",id:"gui.loader.headline"}),"gui.loader.creating":o.a.createElement(m.a,{defaultMessage:"Creating Project",id:"gui.loader.creating"})},ch=Object(m.d)({generic:{id:"tw.loader.generic",defaultMessage:"Loading project …"},projectData:{id:"tw.loader.data",defaultMessage:"Downloading project data …"},assetsKnown:{id:"tw.loader.assets.known",defaultMessage:"Downloading assets ({complete}/{total}) …"},assetsUnknown:{id:"tw.loader.assets.unknown",defaultMessage:"Downloading assets …"}});class dh extends o.a.Component{constructor(e){super(e),this._state=0,this.progress=0,this.complete=0,this.total=0,F()(this,["barInnerRef","handleProgressChange","messageRef"])}componentDidMount(){L(this.handleProgressChange),this.updateMessage()}componentDidUpdate(){this.update()}componentWillUnmount(){L(()=>{})}handleProgressChange(e,t,n,a){e!==this._state&&(this._state=e,this.updateMessage()),this.progress=t,this.complete=n,this.total=a,this.update()}update(){this.barInner.style.width="".concat(100*this.progress,"%"),2===this._state&&this.updateMessage()}updateMessage(){0===this._state?this.message.textContent=this.props.intl.formatMessage(ch.generic):1===this._state?this.message.textContent=this.props.intl.formatMessage(ch.projectData):this.total>0?this.message.textContent=this.props.intl.formatMessage(ch.assetsKnown,{complete:this.complete,total:this.total}):this.message.textContent=this.props.intl.formatMessage(ch.assetsUnknown)}barInnerRef(e){this.barInner=e}messageRef(e){this.message=e}render(){return o.a.createElement("div",{className:Ve()(th.a.background,{[th.a.fullscreen]:this.props.isFullScreen})},o.a.createElement("div",{className:th.a.container},o.a.createElement("div",{className:th.a.blockAnimation},o.a.createElement("img",{className:th.a.topBlock,src:ah.a}),o.a.createElement("img",{className:th.a.middleBlock,src:rh.a}),o.a.createElement("img",{className:th.a.bottomBlock,src:ih.a})),o.a.createElement("div",{className:th.a.title},lh[this.props.messageId]),o.a.createElement("div",{className:th.a.messageContainerOuter},o.a.createElement("div",{className:th.a.messageContainerInner,ref:this.messageRef})),o.a.createElement("div",{className:th.a.twProgressOuter},o.a.createElement("div",{className:th.a.twProgressInner,ref:this.barInnerRef}))))}}dh.propTypes={isFullScreen:s.a.bool,intl:m.f.isRequired,messageId:s.a.string},dh.defaultProps={isFullScreen:!1,messageId:"gui.loader.headline"};var uh=Object(m.e)(dh),ph=n(224),mh=n.n(ph);const hh=function(e){const{isEmbedded:t,isFullScreen:n,isRtl:a,isRendererSupported:r,loading:s,stageSize:i,vm:l}=e;return o.a.createElement(it.a,{className:Ve()(mh.a.stageWrapper,{[mh.a.embedded]:t},{[mh.a.fullScreen]:n}),dir:a?"rtl":"ltr"},o.a.createElement(it.a,{className:mh.a.stageMenuWrapper},o.a.createElement(Ju,{stageSize:i,vm:l})),o.a.createElement(it.a,{className:mh.a.stageCanvasWrapper},r?o.a.createElement($m,{stageSize:i,vm:l}):null),s?o.a.createElement(uh,{isFullScreen:n}):null)};hh.propTypes={isEmbedded:s.a.bool,isFullScreen:s.a.bool,isRendererSupported:s.a.bool.isRequired,isRtl:s.a.bool.isRequired,loading:s.a.bool,stageSize:s.a.oneOf(Object.keys(ha.c)).isRequired,vm:s.a.instanceOf(p.a).isRequired};var gh=hh;const fh=e=>o.a.createElement(gh,e);fh.propTypes={isRendererSupported:s.a.bool.isRequired,stageSize:s.a.oneOf(Object.keys(ha.c)).isRequired,vm:s.a.instanceOf(p.a).isRequired};var bh=fh,_h=n(166);const vh=Object(m.d)({libraryTitle:{id:"gui.costumeLibrary.chooseACostume",defaultMessage:"Choose a Costume"}});class yh extends o.a.PureComponent{constructor(e){super(e),F()(this,["handleItemSelected"])}handleItemSelected(e){const t={name:e.name,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY,bitmapResolution:e.bitmapResolution,skinId:null};this.props.vm.addCostumeFromLibrary(e.md5ext,t)}render(){return o.a.createElement(Kn,{data:pr(),id:"costumeLibrary",tags:Sr,title:this.props.intl.formatMessage(vh.libraryTitle),onItemSelected:this.handleItemSelected,onRequestClose:this.props.onRequestClose})}}yh.propTypes={intl:m.f.isRequired,onRequestClose:s.a.func,vm:s.a.instanceOf(p.a).isRequired};var wh=Object(m.e)(yh),Sh=[{tag:"fantasy",intlLabel:wr.fantasy},{tag:"music",intlLabel:wr.music},{tag:"sports",intlLabel:wr.sports},{tag:"outdoors",intlLabel:wr.outdoors},{tag:"indoors",intlLabel:wr.indoors},{tag:"space",intlLabel:wr.space},{tag:"underwater",intlLabel:wr.underwater},{tag:"patterns",intlLabel:wr.patterns}];const Eh=Object(m.d)({libraryTitle:{id:"gui.costumeLibrary.chooseABackdrop",defaultMessage:"Choose a Backdrop"}});class Ch extends o.a.Component{constructor(e){super(e),F()(this,["handleItemSelect"])}handleItemSelect(e){const t={name:e.name,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY,bitmapResolution:e.bitmapResolution,skinId:null};this.props.vm.addBackdrop(e.md5ext,t)}render(){return o.a.createElement(Kn,{data:ur(),id:"backdropLibrary",tags:Sh,title:this.props.intl.formatMessage(Eh.libraryTitle),onItemSelected:this.handleItemSelect,onRequestClose:this.props.onRequestClose})}}Ch.propTypes={intl:m.f.isRequired,onRequestClose:s.a.func,vm:s.a.instanceOf(p.a).isRequired};var kh=Object(m.e)(Ch),xh=n(838),Oh=n.n(xh);const Fh=e=>o.a.createElement("img",{className:Oh.a.spriteImage,src:e.costumeURL});Fh.propTypes={costumeURL:s.a.string};var Th=Fh;function Ih(){return(Ih=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}class Rh extends o.a.Component{constructor(e){super(e),F()(this,["getCostumeData"])}getCostumeData(){return this.props.asset?La(this.props.asset):null}render(){const e=v()(this.props,["asset","vm"]);return o.a.createElement(Th,Ih({costumeURL:this.getCostumeData()},e))}}Rh.propTypes={asset:s.a.instanceOf(R.a.Asset),vm:s.a.instanceOf(p.a).isRequired};var jh=Object(l.b)(e=>{const t=e.scratchGui.targets,n=t.editingTarget;let a;if(n)if(t.stage.id===n)a=t.stage.costume.asset;else if(t.sprites.hasOwnProperty(n)){a=t.sprites[n].costume.asset}return{vm:e.scratchGui.vm,asset:a}})(Os("asset",500)(Rh)),Dh=n(281),Ah=n(119),Ph=n.n(Ah);const Mh=()=>{},Nh={costume:ba.BACKPACK_COSTUME,sound:ba.BACKPACK_SOUND,script:ba.BACKPACK_CODE,sprite:ba.BACKPACK_SPRITE},Lh=Object(m.d)({costume:{id:"gui.backpack.costumeLabel",defaultMessage:"costume"},sound:{id:"gui.backpack.soundLabel",defaultMessage:"sound"},script:{id:"gui.backpack.scriptLabel",defaultMessage:"script"},sprite:{id:"gui.backpack.spriteLabel",defaultMessage:"sprite"}}),Bh=({blockDragOver:e,containerRef:t,contents:n,dragOver:a,error:r,expanded:s,intl:i,loading:l,showMore:c,onToggle:d,onDelete:u,onRename:p,onMouseEnter:h,onMouseLeave:g,onMore:f})=>o.a.createElement("div",{className:Ph.a.backpackContainer},o.a.createElement("div",{className:Ph.a.backpackHeader,onClick:d},d?o.a.createElement(m.a,{defaultMessage:"Backpack",id:"gui.backpack.header"}):o.a.createElement(Dh.a,{place:"top",tooltipId:"backpack-tooltip"},o.a.createElement(m.a,{defaultMessage:"Backpack",id:"gui.backpack.header"}))),s?o.a.createElement("div",{className:Ve()(Ph.a.backpackList,{[Ph.a.dragOver]:a||e}),ref:t,onMouseEnter:h,onMouseLeave:g},r?o.a.createElement("div",{className:Ph.a.statusMessage},o.a.createElement(m.a,{defaultMessage:"Error loading backpack",id:"gui.backpack.errorBackpack"})):l?o.a.createElement("div",{className:Ph.a.statusMessage},o.a.createElement(m.a,{defaultMessage:"Loading...",id:"gui.backpack.loadingBackpack"})):n.length>0?o.a.createElement("div",{className:Ph.a.backpackListInner},n.map(e=>o.a.createElement(po,{className:Ph.a.backpackItem,costumeURL:e.thumbnailUrl,details:e.name,dragPayload:e,dragType:Nh[e.type],id:e.id,key:e.id,name:i.formatMessage(Lh[e.type]),selected:!1,onClick:Mh,onDeleteButtonClick:u,onRenameButtonClick:"sprite"===e.type?null:p})),c&&o.a.createElement("button",{className:Ph.a.more,onClick:f},o.a.createElement(m.a,{defaultMessage:"More",id:"gui.backpack.more"}))):o.a.createElement("div",{className:Ph.a.statusMessage},o.a.createElement(m.a,{defaultMessage:"Backpack is empty",id:"gui.backpack.emptyBackpack"}))):null);Bh.propTypes={blockDragOver:s.a.bool,containerRef:s.a.func,contents:s.a.arrayOf(s.a.shape({id:s.a.string,thumbnailUrl:s.a.string,type:s.a.string,name:s.a.string})),dragOver:s.a.bool,error:s.a.bool,expanded:s.a.bool,intl:m.f,loading:s.a.bool,onDelete:s.a.func,onRename:s.a.func,onMore:s.a.func,onMouseEnter:s.a.func,onMouseLeave:s.a.func,onToggle:s.a.func,showMore:s.a.bool},Bh.defaultProps={blockDragOver:!1,contents:[],dragOver:!1,expanded:!1,loading:!1,showMore:!1,onMore:null,onToggle:null};var Uh=Object(m.e)(Bh);function qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Gh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qh(Object(n),!0).forEach((function(t){zh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Hh=fa([ba.COSTUME,ba.SOUND,ba.SPRITE])(Uh),Wh=Object(m.d)({rename:{id:"tw.backpack.rename",defaultMessage:"New name:"}});class Vh extends o.a.Component{constructor(e){super(e),F()(this,["handleDrop","handleToggle","handleDelete","handleRename","getBackpackAssetURL","getContents","handleMouseEnter","handleMouseLeave","handleBlockDragEnd","handleBlockDragUpdate","handleMore"]),this.state={blockDragOutsideWorkspace:!1,blockDragOverBackpack:!1,error:!1,itemsPerPage:20,moreToLoad:!1,loading:!1,expanded:!1,contents:[]},e.host&&!R.a._hasAddedBackpackSource&&"_local_"!==e.host&&(R.a.addWebSource([R.a.AssetType.ImageVector,R.a.AssetType.ImageBitmap,R.a.AssetType.Sound],this.getBackpackAssetURL),R.a._hasAddedBackpackSource=!0)}componentDidMount(){this.props.vm.addListener("BLOCK_DRAG_END",this.handleBlockDragEnd),this.props.vm.addListener("BLOCK_DRAG_UPDATE",this.handleBlockDragUpdate)}componentWillUnmount(){this.props.vm.removeListener("BLOCK_DRAG_END",this.handleBlockDragEnd),this.props.vm.removeListener("BLOCK_DRAG_UPDATE",this.handleBlockDragUpdate)}getBackpackAssetURL(e){return"".concat(this.props.host,"/").concat(e.assetId,".").concat(e.dataFormat)}handleToggle(){const e=!this.state.expanded;this.setState({expanded:e,contents:[]},()=>{window.dispatchEvent(new Event("resize"))}),e&&this.getContents()}handleDrop(e){let t=null,n=null;switch(e.dragType){case ba.COSTUME:t=qs,n=e.payload.asset;break;case ba.SOUND:t=Hs,n=e.payload.asset;break;case ba.SPRITE:t=Ws;break;case ba.CODE:t=Qs}t&&this.setState({loading:!0},()=>{t(e.payload,this.props.vm).then(e=>n&&!n.clean&&"_local_"===!this.props.host?R.a.store(n.assetType,n.dataFormat,n.data,n.assetId).then(()=>e):e).then(e=>(({host:e,username:t,token:n,type:a,mime:o,name:r,body:s,thumbnail:i})=>new Promise((l,c)=>{if("_local_"===e)return ii({type:a,mime:o,name:r,body:s,thumbnail:i}).then(l).catch(c);oe()({method:"POST",uri:"".concat(e,"/").concat(t),headers:{"x-token":n},json:{type:a,mime:o,name:r,body:s,thumbnail:i}},(t,n)=>t||200!==n.statusCode?c(new Error(n.status)):l(di(n.body,e)))}))(Gh({host:this.props.host,token:this.props.token,username:this.props.username},e))).then(e=>{this.setState({loading:!1,contents:[e].concat(this.state.contents)})}).catch(e=>{throw this.setState({error:!0,loading:!1}),e})})}handleDelete(e){this.setState({loading:!0},()=>{(({host:e,username:t,token:n,id:a})=>new Promise((o,r)=>{if("_local_"===e)return li({id:a}).then(o).catch(r);oe()({method:"DELETE",uri:"".concat(e,"/").concat(t,"/").concat(a),headers:{"x-token":n}},(e,t)=>e||200!==t.statusCode?r(new Error(t.status)):o(t.body))}))({host:this.props.host,token:this.props.token,username:this.props.username,id:e}).then(()=>{this.setState({loading:!1,contents:this.state.contents.filter(t=>t.id!==e)})}).catch(e=>{throw this.setState({error:!0,loading:!1}),e})})}findItemById(e){return this.state.contents.find(t=>t.id===e)}handleRename(e){const t=this.findItemById(e),n=prompt(this.props.intl.formatMessage(Wh.rename),t.name);n&&this.setState({loading:!0},()=>{(({host:e,id:t,name:n})=>new Promise((a,o)=>{if("_local_"===e)return ci({id:t,name:n}).then(a).catch(o);o(new Error("updateBackpackObject not supported"))}))(Gh(Gh({host:this.props.host},t),{},{name:n})).then(e=>{this.setState({loading:!1,contents:this.state.contents.map(n=>n===t?e:n)})}).catch(e=>{throw this.setState({error:!0,loading:!1}),e})})}getContents(){(this.props.token&&this.props.username||"_local_"===this.props.host)&&this.setState({loading:!0,error:!1},()=>{(({host:e,username:t,token:n,limit:a,offset:o})=>new Promise((r,s)=>{if("_local_"===e)return si({limit:a,offset:o}).then(r).catch(s);oe()({method:"GET",uri:"".concat(e,"/").concat(t,"?limit=").concat(a,"&offset=").concat(o),headers:{"x-token":n},json:!0},(t,n)=>t||200!==n.statusCode?s(new Error(n.status)):r(n.body.map(t=>di(t,e))))}))({host:this.props.host,token:this.props.token,username:this.props.username,offset:this.state.contents.length,limit:this.state.itemsPerPage}).then(e=>{this.setState({contents:this.state.contents.concat(e),moreToLoad:e.length===this.state.itemsPerPage,loading:!1})}).catch(e=>{throw this.setState({error:!0,loading:!1}),e})})}handleBlockDragUpdate(e){this.setState({blockDragOutsideWorkspace:e})}handleMouseEnter(){this.state.blockDragOutsideWorkspace&&this.setState({blockDragOverBackpack:!0})}handleMouseLeave(){this.setState({blockDragOverBackpack:!1})}handleBlockDragEnd(e,t){this.state.blockDragOverBackpack&&this.handleDrop({dragType:ba.CODE,payload:{blockObjects:e,topBlockId:t}}),this.setState({blockDragOverBackpack:!1,blockDragOutsideWorkspace:!1})}handleMore(){this.getContents()}render(){return o.a.createElement(Hh,{blockDragOver:this.state.blockDragOverBackpack,contents:this.state.contents,error:this.state.error,expanded:this.state.expanded,loading:this.state.loading,showMore:this.state.moreToLoad,onDelete:this.handleDelete,onRename:this.handleRename,onDrop:this.handleDrop,onMore:this.handleMore,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onToggle:this.props.host?this.handleToggle:null})}}Vh.propTypes={intl:m.f,host:s.a.string,token:s.a.string,username:s.a.string,vm:s.a.instanceOf(p.a)};var Kh=Object(m.e)(Object(l.b)(e=>Object.assign({dragInfo:e.scratchGui.assetDrag,vm:e.scratchGui.vm,blockDrag:e.scratchGui.blockDrag},(e=>{if(e.session&&e.session.session&&e.session.session.user)return{token:e.session.session.user.token,username:e.session.session.user.username};const t=window.location.href.match(/[?&]token=([^&]*)&?/),n=window.location.href.match(/[?&]username=([^&]*)&?/);return{token:t?t[1]:null,username:n?n[1]:null}})(e)),()=>({}))(Vh)),Xh=n(167),Qh=n(164),Yh=[{tag:"animation",intlLabel:wr.animation},{tag:"art",intlLabel:wr.art},{tag:"music",intlLabel:wr.music},{tag:"games",intlLabel:wr.games},{tag:"stories",intlLabel:wr.stories}];let Jh;const Zh=function(){return Jh},$h=function(){return!Zh()};const eg=Object(m.d)({tipsLibraryTitle:{id:"gui.tipsLibrary.tutorials",defaultMessage:"Choose a Tutorial"}});class tg extends o.a.PureComponent{constructor(e){super(e),F()(this,["handleItemSelect"])}handleItemSelect(e){if(pe.a.event({category:"library",action:"Select How-to",label:e.id}),e.requiredProjectId&&e.requiredProjectId!==this.props.projectId){const t="/projects/".concat(e.requiredProjectId,"/editor?tutorial=").concat(e.urlId);return window.open(window.location.origin+t,"_blank")}this.props.onActivateDeck(e.id)}render(){const e=Object.keys(ue.a).filter(e=>{if($h())return!0;const t=ue.a[e];return!t.hasOwnProperty("requiredProjectId")&&0!==t.steps.filter(e=>e.title).length}).map(e=>({rawURL:ue.a[e].img,id:e,name:ue.a[e].name,featured:!0,tags:ue.a[e].tags,urlId:ue.a[e].urlId,requiredProjectId:ue.a[e].requiredProjectId,hidden:ue.a[e].hidden||!1}));return this.props.visible?o.a.createElement(Kn,{filterable:!0,data:e,id:"tipsLibrary",tags:Yh,title:this.props.intl.formatMessage(eg.tipsLibraryTitle),visible:this.props.visible,onItemSelected:this.handleItemSelect,onRequestClose:this.props.onRequestClose}):null}}tg.propTypes={intl:m.f.isRequired,onActivateDeck:s.a.func.isRequired,onRequestClose:s.a.func,projectId:s.a.oneOfType([s.a.string,s.a.number]),visible:s.a.bool};var ng=Object(m.e)(Object(l.b)(e=>({visible:e.scratchGui.modals.tipsLibrary,projectId:e.scratchGui.projectState.projectId}),e=>({onActivateDeck:t=>e(Object(me.a)(t)),onRequestClose:()=>e(Object(b.k)())}))(tg)),ag=n(28),og=n.n(ag),rg=n(840),sg=n.n(rg),ig=n(841),lg=n.n(ig),cg=n(445),dg=n.n(cg),ug=n(446),pg=n.n(ug),mg=n(422),hg=n.n(mg),gg=n(842),fg=n.n(gg);const bg={},_g=(e,t)=>bg.hasOwnProperty(e)?bg[e].hasOwnProperty(t)?bg[e][t]:bg[e].en:e,vg={};let yg={},wg="";const Sg={},Eg=e=>{Sg.hasOwnProperty(e)&&Sg[e]().then(t=>{yg=t,wg=e})},Cg=(e,t)=>t===wg&&yg.hasOwnProperty(e)?yg[e]:vg[e],kg=["activeDeckId","content","dragging","isRtl","locale","onActivateDeckFactory","onCloseCards","onShrinkExpandCards","onDrag","onStartDrag","onEndDrag","onShowAll","onNextStep","onPrevStep","showVideos","step","expanded"];function xg(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Og=({onCloseCards:e,onShrinkExpandCards:t,onShowAll:n,totalSteps:a,step:r,expanded:s})=>o.a.createElement("div",{className:s?og.a.headerButtons:Ve()(og.a.headerButtons,og.a.headerButtonsHidden)},o.a.createElement("div",{className:og.a.allButton,onClick:n},o.a.createElement("img",{className:og.a.helpIcon,src:hg.a}),o.a.createElement(m.a,{defaultMessage:"Tutorials",id:"gui.cards.all-tutorials"})),a>1?o.a.createElement("div",{className:og.a.stepsList},Array(a).fill(0).map((e,t)=>o.a.createElement("div",{className:t===r?og.a.activeStepPip:og.a.inactiveStepPip,key:"pip-step-".concat(t)}))):null,o.a.createElement("div",{className:og.a.headerButtonsRight},o.a.createElement("div",{className:og.a.shrinkExpandButton,onClick:t},o.a.createElement("img",{draggable:!1,src:s?sg.a:lg.a}),s?o.a.createElement(m.a,{defaultMessage:"Shrink",id:"gui.cards.shrink"}):o.a.createElement(m.a,{defaultMessage:"Expand",id:"gui.cards.expand"})),o.a.createElement("div",{className:og.a.removeButton,onClick:e},o.a.createElement("img",{className:og.a.closeIcon,src:fg.a}),o.a.createElement(m.a,{defaultMessage:"Close",id:"gui.cards.close"}))));class Fg extends o.a.Component{componentDidMount(){const e=document.createElement("script");e.src="https://fast.wistia.com/embed/medias/".concat(this.props.video,".jsonp"),e.async=!0,e.setAttribute("id","wistia-video-content"),document.body.appendChild(e);const t=document.createElement("script");t.src="https://fast.wistia.com/assets/external/E-v1.js",t.async=!0,t.setAttribute("id","wistia-video-api"),document.body.appendChild(t)}componentDidUpdate(e){if(!window.Wistia||!window.Wistia.api)return;const t=window.Wistia.api(e.video);e.video!==this.props.video&&t.replaceWith(this.props.video),this.props.expanded||t.pause()}componentWillUnmount(){const e=document.getElementById("wistia-video-content");e.parentNode.removeChild(e);const t=document.getElementById("wistia-video-api");t.parentNode.removeChild(t)}render(){return o.a.createElement("div",{className:og.a.stepVideo},o.a.createElement("div",{className:"wistia_embed wistia_async_".concat(this.props.video),id:"video-div",style:{height:"257px",width:"466px"}}," "))}}Fg.propTypes={expanded:s.a.bool.isRequired,video:s.a.string.isRequired};const Tg=({title:e,image:t})=>o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:og.a.stepTitle},e),o.a.createElement("div",{className:og.a.stepImageContainer},o.a.createElement("img",{className:og.a.stepImage,draggable:!1,key:t,src:t})));Tg.propTypes={image:s.a.string.isRequired,title:s.a.node.isRequired};const Ig=({isRtl:e,onNextStep:t,onPrevStep:n,expanded:r})=>o.a.createElement(a.Fragment,null,t?o.a.createElement("div",null,o.a.createElement("div",{className:r?e?og.a.leftCard:og.a.rightCard:og.a.hidden}),o.a.createElement("div",{className:r?e?og.a.leftButton:og.a.rightButton:og.a.hidden,onClick:t},o.a.createElement("img",{draggable:!1,src:e?pg.a:dg.a}))):null,n?o.a.createElement("div",null,o.a.createElement("div",{className:r?e?og.a.rightCard:og.a.leftCard:og.a.hidden}),o.a.createElement("div",{className:r?e?og.a.rightButton:og.a.leftButton:og.a.hidden,onClick:n},o.a.createElement("img",{draggable:!1,src:e?dg.a:pg.a}))):null);Ig.propTypes={expanded:s.a.bool.isRequired,isRtl:s.a.bool,onNextStep:s.a.func,onPrevStep:s.a.func},Og.propTypes={expanded:s.a.bool.isRequired,onCloseCards:s.a.func.isRequired,onShowAll:s.a.func.isRequired,onShrinkExpandCards:s.a.func.isRequired,step:s.a.number,totalSteps:s.a.number};const Rg=({deckIds:e,content:t,onActivateDeckFactory:n,onShowAll:r})=>o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:og.a.stepTitle},o.a.createElement(m.a,{defaultMessage:"More things to try!",id:"gui.cards.more-things-to-try"})),o.a.createElement("div",{className:og.a.decks},e.slice(0,2).map(e=>o.a.createElement("div",{className:og.a.deck,key:"deck-preview-".concat(e),onClick:n(e)},o.a.createElement("img",{className:og.a.deckImage,draggable:!1,src:t[e].img}),o.a.createElement("div",{className:og.a.deckName},t[e].name)))),o.a.createElement("div",{className:og.a.seeAll},o.a.createElement("div",{className:og.a.seeAllButton,onClick:r},o.a.createElement(m.a,{defaultMessage:"See more",id:"gui.cards.see-more"}))));Rg.propTypes={content:s.a.shape({id:s.a.shape({name:s.a.node.isRequired,img:s.a.string.isRequired,steps:s.a.arrayOf(s.a.shape({title:s.a.node,image:s.a.string,video:s.a.string,deckIds:s.a.arrayOf(s.a.string)}))})}).isRequired,deckIds:s.a.arrayOf(s.a.string).isRequired,onActivateDeckFactory:s.a.func.isRequired,onShowAll:s.a.func.isRequired};const jg=e=>{const{activeDeckId:t,content:n,dragging:a,isRtl:r,locale:s,onActivateDeckFactory:i,onCloseCards:l,onShrinkExpandCards:c,onDrag:d,onStartDrag:u,onEndDrag:p,onShowAll:m,onNextStep:h,onPrevStep:g,showVideos:f,step:b,expanded:_}=e,v=xg(e,kg);let{x:y,y:w}=v;if(null===t)return;const S=_?257:0;if(0===y&&0===w){y=r?-1090:292,y+=400;const e=320,t=60;w=window.innerHeight-e-t-48}const E=n[t].steps;return o.a.createElement("div",{className:og.a.cardContainerOverlay,style:{width:"".concat(window.innerWidth+800,"px"),height:"".concat(window.innerHeight-48+S,"px"),top:"".concat(48,"px"),left:"".concat(-400,"px")}},o.a.createElement(gp.a,{bounds:"parent",cancel:"#video-div",position:{x:y,y:w},onDrag:d,onStart:u,onStop:p},o.a.createElement("div",{className:og.a.cardContainer},o.a.createElement("div",{className:og.a.card},o.a.createElement(Og,{expanded:_,step:b,totalSteps:E.length,onCloseCards:l,onShowAll:m,onShrinkExpandCards:c}),o.a.createElement("div",{className:_?og.a.stepBody:og.a.hidden},E[b].deckIds?o.a.createElement(Rg,{content:n,deckIds:E[b].deckIds,onActivateDeckFactory:i,onShowAll:m}):E[b].video?f?o.a.createElement(Fg,{dragging:a,expanded:_,video:_g(E[b].video,s)}):o.a.createElement(Tg,{image:n[t].img,title:n[t].name}):o.a.createElement(Tg,{image:Cg(E[b].image,s),title:E[b].title}),E[b].trackingPixel&&E[b].trackingPixel),o.a.createElement(Ig,{expanded:_,isRtl:r,onNextStep:b<E.length-1?h:null,onPrevStep:b>0?g:null})))))};jg.propTypes={activeDeckId:s.a.string.isRequired,content:s.a.shape({id:s.a.shape({name:s.a.node.isRequired,img:s.a.string.isRequired,steps:s.a.arrayOf(s.a.shape({title:s.a.node,image:s.a.string,video:s.a.string,deckIds:s.a.arrayOf(s.a.string)}))})}),dragging:s.a.bool.isRequired,expanded:s.a.bool.isRequired,isRtl:s.a.bool.isRequired,locale:s.a.string.isRequired,onActivateDeckFactory:s.a.func.isRequired,onCloseCards:s.a.func.isRequired,onDrag:s.a.func,onEndDrag:s.a.func,onNextStep:s.a.func.isRequired,onPrevStep:s.a.func.isRequired,onShowAll:s.a.func,onShrinkExpandCards:s.a.func.isRequired,onStartDrag:s.a.func,showVideos:s.a.bool,step:s.a.number.isRequired,x:s.a.number,y:s.a.number},jg.defaultProps={showVideos:!0};class Dg extends o.a.Component{componentDidMount(){"en"!==this.props.locale&&Eg(this.props.locale)}componentDidUpdate(e){this.props.locale!==e.locale&&Eg(this.props.locale)}render(){return o.a.createElement(jg,this.props)}}Dg.propTypes={locale:s.a.string.isRequired};var Ag=Object(l.b)(e=>({visible:e.scratchGui.cards.visible,content:e.scratchGui.cards.content,activeDeckId:e.scratchGui.cards.activeDeckId,step:e.scratchGui.cards.step,expanded:e.scratchGui.cards.expanded,x:e.scratchGui.cards.x,y:e.scratchGui.cards.y,isRtl:e.locales.isRtl,locale:e.locales.locale,dragging:e.scratchGui.cards.dragging,showVideos:$h()}),e=>({onActivateDeckFactory:t=>()=>e(Object(me.a)(t)),onShowAll:()=>{e(Object(b.x)()),e(Object(me.c)())},onCloseCards:()=>e(Object(me.c)()),onShrinkExpandCards:()=>e(Object(me.i)()),onNextStep:()=>e(Object(me.g)()),onPrevStep:()=>e(Object(me.h)()),onDrag:(t,n)=>e(Object(me.e)(n.x,n.y)),onStartDrag:()=>e(Object(me.j)()),onEndDrag:()=>e(Object(me.f)())}))(Dg),Pg=n(163),Mg=(n(421),n(82)),Ng=n(102),Lg=n.n(Ng);const Bg={[Mg.a.SUCCESS]:vt.COLOR_GREEN,[Mg.a.WARN]:vt.COLOR_ORANGE},Ug=({content:e,closeButton:t,extensionName:n,iconSpinner:a,iconURL:r,level:s,showDownload:i,showSaveNow:l,onCloseAlert:c,onDownload:d,onSaveNow:u,onReconnect:p,showReconnect:h})=>o.a.createElement(it.a,{className:Ve()(Lg.a.alert,Lg.a[s])},(a||r)&&o.a.createElement("div",{className:Lg.a.iconSection},a&&o.a.createElement(Bn.a,{className:Lg.a.alertSpinner,level:s}),r&&o.a.createElement("img",{className:Lg.a.alertIcon,src:r})),o.a.createElement("div",{className:Lg.a.alertMessage},n?o.a.createElement(m.a,{defaultMessage:"Scratch lost connection to {extensionName}.",id:"gui.alerts.lostPeripheralConnection",values:{extensionName:"".concat(n)}}):e),o.a.createElement("div",{className:Lg.a.alertButtons},l&&o.a.createElement("button",{className:Lg.a.alertConnectionButton,onClick:u},o.a.createElement(m.a,{defaultMessage:"Try Again",id:"gui.alerts.tryAgain"})),i&&o.a.createElement("button",{className:Lg.a.alertConnectionButton,onClick:d},o.a.createElement(m.a,{defaultMessage:"Download",id:"gui.alerts.download"})),h&&o.a.createElement("button",{className:Lg.a.alertConnectionButton,onClick:p},o.a.createElement(m.a,{defaultMessage:"Reconnect",id:"gui.connection.reconnect"})),t&&o.a.createElement(it.a,{className:Lg.a.alertCloseButtonContainer},o.a.createElement(vt,{className:Ve()(Lg.a.alertCloseButton),color:Bg[s],size:vt.SIZE_LARGE,onClick:c}))));Ug.propTypes={closeButton:s.a.bool,content:s.a.oneOfType([s.a.element,s.a.string]),extensionName:s.a.string,iconSpinner:s.a.bool,iconURL:s.a.string,level:s.a.string,onCloseAlert:s.a.func.isRequired,onDownload:s.a.func,onReconnect:s.a.func,onSaveNow:s.a.func,showDownload:s.a.bool,showReconnect:s.a.bool,showSaveNow:s.a.bool},Ug.defaultProps={level:Mg.a.WARN};var qg=Ug;class Gg extends o.a.Component{constructor(e){super(e),F()(this,["handleOnCloseAlert","handleOnReconnect"])}handleOnCloseAlert(){this.props.onCloseAlert(this.props.index)}handleOnReconnect(){this.props.onOpenConnectionModal(this.props.extensionId),this.handleOnCloseAlert()}render(){const{closeButton:e,content:t,extensionName:n,index:a,level:r,iconSpinner:s,iconURL:i,message:l,onSaveNow:c,showDownload:d,showReconnect:u,showSaveNow:p}=this.props;return o.a.createElement(Pg.a,null,(a,m)=>o.a.createElement(qg,{closeButton:e,content:t,extensionName:n,iconSpinner:s,iconURL:i,level:r,message:l,showDownload:d,showReconnect:u,showSaveNow:p,onCloseAlert:this.handleOnCloseAlert,onDownload:m,onReconnect:this.handleOnReconnect,onSaveNow:c}))}}Gg.propTypes={closeButton:s.a.bool,content:s.a.element,extensionId:s.a.string,extensionName:s.a.string,iconSpinner:s.a.bool,iconURL:s.a.string,index:s.a.number,level:s.a.string.isRequired,message:s.a.string,onCloseAlert:s.a.func.isRequired,onOpenConnectionModal:s.a.func,onSaveNow:s.a.func,showDownload:s.a.bool,showReconnect:s.a.bool,showSaveNow:s.a.bool};var zg=Object(l.b)(()=>({}),e=>({onOpenConnectionModal:t=>{e(Object(xa.c)(t)),e(Object(b.p)())},onSaveNow:()=>{e(Object(g.v)())}}))(Gg),Hg=n(843),Wg=n.n(Hg);const Vg=({alertsList:e,className:t,onCloseAlert:n})=>o.a.createElement(it.a,{bounds:"parent",className:t},o.a.createElement(it.a,{className:Wg.a.alertsInnerContainer},e.map((e,t)=>o.a.createElement(zg,{closeButton:e.closeButton,content:e.content,extensionId:e.extensionId,extensionName:e.extensionName,iconSpinner:e.iconSpinner,iconURL:e.iconURL,index:t,key:t,level:e.level,message:e.message,showDownload:e.showDownload,showReconnect:e.showReconnect,showSaveNow:e.showSaveNow,onCloseAlert:n}))));Vg.propTypes={alertsList:s.a.arrayOf(s.a.object),className:s.a.string,onCloseAlert:s.a.func};var Kg=Vg;const Xg=({alertsList:e,className:t,onCloseAlert:n})=>o.a.createElement(Kg,{alertsList:Object(se.f)(e),className:t,onCloseAlert:n});Xg.propTypes={alertsList:s.a.arrayOf(s.a.object),className:s.a.string,onCloseAlert:s.a.func};var Qg=Object(l.b)(e=>({alertsList:e.scratchGui.alerts.alertsList}),e=>({onCloseAlert:t=>e(Object(se.b)(t))}))(Xg),Yg=n(359),Jg=n.n(Yg);const Zg=({dragging:e,img:t,currentOffset:n})=>e?o.a.createElement("div",{className:Jg.a.dragLayer},o.a.createElement("div",{className:Jg.a.imageWrapper,style:{transform:"translate(".concat(n.x,"px, ").concat(n.y,"px)")}},o.a.createElement("img",{className:Jg.a.image,src:t}))):null;Zg.propTypes={currentOffset:s.a.shape({x:s.a.number.isRequired,y:s.a.number.isRequired}),dragging:s.a.bool.isRequired,img:s.a.string};var $g=Zg;var ef=Object(l.b)(e=>({dragging:e.scratchGui.assetDrag.dragging,currentOffset:e.scratchGui.assetDrag.currentOffset,img:e.scratchGui.assetDrag.img}))($g),tf=n(50),nf=n.n(tf),af=n(8),of=n.n(af);class rf extends o.a.Component{constructor(e){super(e),F()(this,["handleConnecting"])}handleConnecting(){this.props.onConnecting(this.props.peripheralId)}render(){return o.a.createElement(it.a,{className:of.a.peripheralTile},o.a.createElement(it.a,{className:of.a.peripheralTileName},o.a.createElement("img",{className:of.a.peripheralTileImage,src:this.props.connectionSmallIconURL}),o.a.createElement(it.a,{className:of.a.peripheralTileNameWrapper},o.a.createElement(it.a,{className:of.a.peripheralTileNameLabel},o.a.createElement(m.a,{defaultMessage:"Device name",id:"gui.connection.peripheral-name-label"})),o.a.createElement(it.a,{className:of.a.peripheralTileNameText},this.props.name))),o.a.createElement(it.a,{className:of.a.peripheralTileWidgets},o.a.createElement(it.a,{className:of.a.signalStrengthMeter},o.a.createElement("div",{className:Ve()(of.a.signalBar,{[of.a.greenBar]:this.props.rssi>-80})}),o.a.createElement("div",{className:Ve()(of.a.signalBar,{[of.a.greenBar]:this.props.rssi>-60})}),o.a.createElement("div",{className:Ve()(of.a.signalBar,{[of.a.greenBar]:this.props.rssi>-40})}),o.a.createElement("div",{className:Ve()(of.a.signalBar,{[of.a.greenBar]:this.props.rssi>-20})})),o.a.createElement("button",{onClick:this.handleConnecting},o.a.createElement(m.a,{defaultMessage:"Connect",id:"gui.connection.connect"}))))}}rf.propTypes={connectionSmallIconURL:s.a.string,name:s.a.string,onConnecting:s.a.func,peripheralId:s.a.string,rssi:s.a.number};var sf=rf;const lf=e=>o.a.createElement(it.a,{className:Ve()(e.className,of.a.dotsRow)},o.a.createElement("div",{className:Ve()(of.a.dotsHolder,{[of.a.dotsHolderError]:e.error,[of.a.dotsHolderSuccess]:e.success})},Array(e.total).fill(0).map((t,n)=>{let a="inactive";return e.counter===n&&(a="active"),e.success&&(a="success"),e.error&&(a="error"),o.a.createElement(cf,{key:"dot-".concat(n),type:a})})));lf.propTypes={className:s.a.string,counter:s.a.number,error:s.a.bool,success:s.a.bool,total:s.a.number};const cf=e=>o.a.createElement("div",{className:Ve()(of.a.dot,{[of.a.inactiveStepDot]:"inactive"===e.type,[of.a.activeStepDot]:"active"===e.type,[of.a.successDot]:"success"===e.type,[of.a.errorDot]:"error"===e.type})});cf.propTypes={type:s.a.string};var df=lf,uf=n(282),pf=n.n(uf),mf=n(844),hf=n.n(mf);const gf=e=>o.a.createElement(it.a,{className:of.a.body},o.a.createElement(it.a,{className:of.a.activityArea},e.scanning?0===e.peripheralList.length?o.a.createElement("div",{className:of.a.activityAreaInfo},o.a.createElement("div",{className:of.a.centeredRow},o.a.createElement("img",{className:Ve()(of.a.radarSmall,of.a.radarSpin),src:pf.a}),o.a.createElement(m.a,{defaultMessage:"Looking for devices",id:"gui.connection.scanning.lookingforperipherals"}))):o.a.createElement("div",{className:of.a.peripheralTilePane},e.peripheralList.map(t=>o.a.createElement(sf,{connectionSmallIconURL:e.connectionSmallIconURL,key:t.peripheralId,name:t.name,peripheralId:t.peripheralId,rssi:t.rssi,onConnecting:e.onConnecting}))):o.a.createElement(it.a,{className:of.a.instructions},o.a.createElement(m.a,{defaultMessage:"No devices found",id:"gui.connection.scanning.noPeripheralsFound"}))),o.a.createElement(it.a,{className:of.a.bottomArea},o.a.createElement(it.a,{className:Ve()(of.a.bottomAreaItem,of.a.instructions)},o.a.createElement(m.a,{defaultMessage:"Select your device in the list above.",id:"gui.connection.scanning.instructions"})),o.a.createElement(df,{className:of.a.bottomAreaItem,counter:0,total:3}),o.a.createElement("button",{className:Ve()(of.a.bottomAreaItem,of.a.connectionButton),onClick:e.onRefresh},o.a.createElement(m.a,{defaultMessage:"Refresh",id:"gui.connection.search"}),o.a.createElement("img",{className:of.a.buttonIconRight,src:hf.a}))));gf.propTypes={connectionSmallIconURL:s.a.string,onConnecting:s.a.func,onRefresh:s.a.func,peripheralList:s.a.arrayOf(s.a.shape({name:s.a.string,rssi:s.a.number,peripheralId:s.a.string})),scanning:s.a.bool.isRequired},gf.defaultProps={peripheralList:[],scanning:!0};var ff=gf;class bf extends o.a.Component{constructor(e){super(e),F()(this,["handlePeripheralListUpdate","handlePeripheralScanTimeout","handleRefresh"]),this.state={scanning:!0,peripheralList:[]}}componentDidMount(){this.props.vm.scanForPeripheral(this.props.extensionId),this.props.vm.on("PERIPHERAL_LIST_UPDATE",this.handlePeripheralListUpdate),this.props.vm.on("PERIPHERAL_SCAN_TIMEOUT",this.handlePeripheralScanTimeout)}componentWillUnmount(){this.props.vm.removeListener("PERIPHERAL_LIST_UPDATE",this.handlePeripheralListUpdate),this.props.vm.removeListener("PERIPHERAL_SCAN_TIMEOUT",this.handlePeripheralScanTimeout)}handlePeripheralScanTimeout(){this.setState({scanning:!1,peripheralList:[]})}handlePeripheralListUpdate(e){const t=Object.keys(e).map(t=>e[t]);this.setState({peripheralList:t})}handleRefresh(){this.props.vm.scanForPeripheral(this.props.extensionId),this.setState({scanning:!0,peripheralList:[]})}render(){return o.a.createElement(ff,{connectionSmallIconURL:this.props.connectionSmallIconURL,peripheralList:this.state.peripheralList,phase:this.state.phase,scanning:this.state.scanning,title:this.props.extensionId,onConnected:this.props.onConnected,onConnecting:this.props.onConnecting,onRefresh:this.handleRefresh})}}bf.propTypes={connectionSmallIconURL:s.a.string,extensionId:s.a.string.isRequired,onConnected:s.a.func.isRequired,onConnecting:s.a.func.isRequired,vm:s.a.instanceOf(p.a).isRequired};var _f=bf,vf=n(212),yf=n.n(vf),wf=n(213),Sf=n.n(wf);const Ef=nf()({prescan:null,pressbutton:null,notfound:null}),Cf=e=>o.a.createElement(it.a,{className:of.a.body},o.a.createElement(it.a,{className:of.a.activityArea},o.a.createElement("div",{className:of.a.activityAreaInfo},o.a.createElement("div",{className:of.a.centeredRow},e.phase===Ef.prescan&&o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{className:of.a.radarBig,src:pf.a}),o.a.createElement("img",{className:of.a.bluetoothCenteredIcon,src:yf.a})),e.phase===Ef.pressbutton&&o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{className:Ve()(of.a.radarBig,of.a.radarSpin),src:pf.a}),o.a.createElement("img",{className:of.a.connectionTipIcon,src:e.connectionTipIconURL})),e.phase===Ef.notfound&&o.a.createElement(it.a,{className:of.a.instructions},o.a.createElement(m.a,{defaultMessage:"No devices found",id:"gui.connection.auto-scanning.noPeripheralsFound"}))))),o.a.createElement(it.a,{className:of.a.bottomArea},o.a.createElement(it.a,{className:Ve()(of.a.bottomAreaItem,of.a.instructions)},e.phase===Ef.prescan&&o.a.createElement(m.a,{defaultMessage:"Have your device nearby, then begin searching.",id:"gui.connection.auto-scanning.prescan"}),e.phase===Ef.pressbutton&&o.a.createElement(m.a,{defaultMessage:"Press the button on your device.",id:"gui.connection.auto-scanning.pressbutton"})),o.a.createElement(df,{className:of.a.bottomAreaItem,counter:0,total:3}),o.a.createElement(it.a,{className:Ve()(of.a.bottomAreaItem,of.a.buttonRow)},e.phase===Ef.prescan&&o.a.createElement("button",{className:of.a.connectionButton,onClick:e.onStartScan},o.a.createElement(m.a,{defaultMessage:"Start Searching",id:"gui.connection.auto-scanning.start-search"})),e.phase===Ef.pressbutton&&o.a.createElement("div",{className:of.a.segmentedButton},o.a.createElement("button",{disabled:!0,className:of.a.connectionButton},o.a.createElement(m.a,{defaultMessage:"Searching...",id:"gui.connection.connecting-searchbutton"})),o.a.createElement("button",{className:of.a.connectionButton,onClick:e.onRefresh},o.a.createElement("img",{className:of.a.abortConnectingIcon,src:pt.a}))),e.phase===Ef.notfound&&o.a.createElement("button",{className:of.a.connectionButton,onClick:e.onRefresh},o.a.createElement("img",{className:of.a.buttonIconLeft,src:Sf.a}),o.a.createElement(m.a,{defaultMessage:"Try again",id:"gui.connection.auto-scanning.try-again"})))));Cf.propTypes={connectionTipIconURL:s.a.string,onRefresh:s.a.func,onStartScan:s.a.func,phase:s.a.oneOf(Object.keys(Ef))},Cf.defaultProps={phase:Ef.prescan};class kf extends o.a.Component{constructor(e){super(e),F()(this,["handlePeripheralListUpdate","handlePeripheralScanTimeout","handleStartScan","handleRefresh"]),this.state={phase:Ef.prescan}}componentWillUnmount(){this.unbindPeripheralUpdates()}handlePeripheralScanTimeout(){this.setState({phase:Ef.notfound}),this.unbindPeripheralUpdates()}handlePeripheralListUpdate(e){const t=Object.keys(e).map(t=>e[t]);t.length>0&&this.props.onConnecting(t[0].peripheralId)}bindPeripheralUpdates(){this.props.vm.on("PERIPHERAL_LIST_UPDATE",this.handlePeripheralListUpdate),this.props.vm.on("PERIPHERAL_SCAN_TIMEOUT",this.handlePeripheralScanTimeout)}unbindPeripheralUpdates(){this.props.vm.removeListener("PERIPHERAL_LIST_UPDATE",this.handlePeripheralListUpdate),this.props.vm.removeListener("PERIPHERAL_SCAN_TIMEOUT",this.handlePeripheralScanTimeout)}handleRefresh(){this.setState({phase:Ef.prescan}),this.unbindPeripheralUpdates()}handleStartScan(){this.bindPeripheralUpdates(),this.props.vm.scanForPeripheral(this.props.extensionId),this.setState({phase:Ef.pressbutton})}render(){return o.a.createElement(Cf,{connectionTipIconURL:this.props.connectionTipIconURL,phase:this.state.phase,title:this.props.extensionId,onRefresh:this.handleRefresh,onStartScan:this.handleStartScan})}}kf.propTypes={connectionTipIconURL:s.a.string,extensionId:s.a.string.isRequired,onConnecting:s.a.func.isRequired,vm:s.a.instanceOf(p.a).isRequired};var xf=kf;const Of=e=>o.a.createElement(it.a,{className:of.a.body},o.a.createElement(it.a,{className:of.a.activityArea},o.a.createElement(it.a,{className:of.a.centeredRow},o.a.createElement("div",{className:of.a.peripheralActivity},o.a.createElement("img",{className:of.a.peripheralActivityIcon,src:e.connectionIconURL}),o.a.createElement("img",{className:of.a.bluetoothConnectingIcon,src:yf.a})))),o.a.createElement(it.a,{className:of.a.bottomArea},o.a.createElement(it.a,{className:Ve()(of.a.bottomAreaItem,of.a.instructions)},e.connectingMessage),o.a.createElement(df,{className:of.a.bottomAreaItem,counter:1,total:3}),o.a.createElement("div",{className:Ve()(of.a.bottomAreaItem,of.a.segmentedButton)},o.a.createElement("button",{disabled:!0,className:of.a.connectionButton},o.a.createElement(m.a,{defaultMessage:"Connecting...",id:"gui.connection.connecting-cancelbutton"})),o.a.createElement("button",{className:of.a.connectionButton,onClick:e.onDisconnect},o.a.createElement("img",{className:of.a.abortConnectingIcon,src:pt.a})))));Of.propTypes={connectingMessage:s.a.node.isRequired,connectionIconURL:s.a.string.isRequired,onDisconnect:s.a.func};var Ff=Of;const Tf=e=>o.a.createElement(it.a,{className:of.a.body},o.a.createElement(it.a,{className:of.a.activityArea},o.a.createElement(it.a,{className:of.a.centeredRow},o.a.createElement("div",{className:of.a.peripheralActivity},o.a.createElement("img",{className:of.a.peripheralActivityIcon,src:e.connectionIconURL}),o.a.createElement("img",{className:of.a.bluetoothConnectedIcon,src:yf.a})))),o.a.createElement(it.a,{className:of.a.bottomArea},o.a.createElement(it.a,{className:Ve()(of.a.bottomAreaItem,of.a.instructions)},o.a.createElement(m.a,{defaultMessage:"Connected",id:"gui.connection.connected"})),o.a.createElement(df,{success:!0,className:of.a.bottomAreaItem,total:3}),o.a.createElement("div",{className:Ve()(of.a.bottomAreaItem,of.a.cornerButtons)},o.a.createElement("button",{className:Ve()(of.a.redButton,of.a.connectionButton),onClick:e.onDisconnect},o.a.createElement(m.a,{defaultMessage:"Disconnect",id:"gui.connection.disconnect"})),o.a.createElement("button",{className:of.a.connectionButton,onClick:e.onCancel},o.a.createElement(m.a,{defaultMessage:"Go to Editor",id:"gui.connection.go-to-editor"})))));Tf.propTypes={connectionIconURL:s.a.string.isRequired,onCancel:s.a.func,onDisconnect:s.a.func};var If=Tf,Rf=n(344),jf=n.n(Rf);const Df=e=>o.a.createElement(it.a,{className:of.a.body},o.a.createElement(it.a,{className:of.a.activityArea},o.a.createElement(it.a,{className:of.a.centeredRow},o.a.createElement("div",{className:of.a.peripheralActivity},o.a.createElement("img",{className:of.a.peripheralActivityIcon,src:e.connectionIconURL})))),o.a.createElement(it.a,{className:of.a.bottomArea},o.a.createElement("div",{className:Ve()(of.a.bottomAreaItem,of.a.instructions)},o.a.createElement(m.a,{defaultMessage:"Oops, looks like something went wrong.",id:"gui.connection.error.errorMessage"})),o.a.createElement(df,{error:!0,className:of.a.bottomAreaItem,total:3}),o.a.createElement(it.a,{className:Ve()(of.a.bottomAreaItem,of.a.buttonRow)},o.a.createElement("button",{className:of.a.connectionButton,onClick:e.onScanning},o.a.createElement("img",{className:Ve()(of.a.buttonIconLeft,of.a.buttonIconBack),src:Sf.a}),o.a.createElement(m.a,{defaultMessage:"Try again",id:"gui.connection.error.tryagainbutton"})),o.a.createElement("button",{className:of.a.connectionButton,onClick:e.onHelp},o.a.createElement("img",{className:of.a.buttonIconLeft,src:jf.a}),o.a.createElement(m.a,{defaultMessage:"Help",id:"gui.connection.error.helpbutton"})))));Df.propTypes={connectionIconURL:s.a.string.isRequired,onHelp:s.a.func,onScanning:s.a.func};var Af=Df,Pf=n(845),Mf=n.n(Pf),Nf=n(846),Lf=n.n(Nf);const Bf=e=>o.a.createElement(it.a,{className:of.a.body},o.a.createElement(it.a,{className:of.a.activityArea},o.a.createElement("div",{className:of.a.scratchLinkHelp},o.a.createElement("div",{className:of.a.scratchLinkHelpStep},o.a.createElement("div",{className:of.a.helpStepNumber},"1"),o.a.createElement("div",{className:of.a.helpStepImage},o.a.createElement("img",{className:of.a.scratchLinkIcon,src:Lf.a})),o.a.createElement("div",{className:of.a.helpStepText},o.a.createElement(m.a,{defaultMessage:"Make sure you have Scratch Link installed and running",id:"gui.connection.unavailable.installscratchlink"}))),o.a.createElement("div",{className:of.a.scratchLinkHelpStep},o.a.createElement("div",{className:of.a.helpStepNumber},"2"),o.a.createElement("div",{className:of.a.helpStepImage},o.a.createElement("img",{className:of.a.scratchLinkIcon,src:Mf.a})),o.a.createElement("div",{className:of.a.helpStepText},o.a.createElement(m.a,{defaultMessage:"Check that Bluetooth is enabled",id:"gui.connection.unavailable.enablebluetooth"}))))),o.a.createElement(it.a,{className:of.a.bottomArea},o.a.createElement(df,{error:!0,className:of.a.bottomAreaItem,total:3}),o.a.createElement(it.a,{className:Ve()(of.a.bottomAreaItem,of.a.buttonRow)},o.a.createElement("button",{className:of.a.connectionButton,onClick:e.onScanning},o.a.createElement("img",{className:Ve()(of.a.buttonIconLeft,of.a.buttonIconBack),src:Sf.a}),o.a.createElement(m.a,{defaultMessage:"Try again",id:"gui.connection.unavailable.tryagainbutton"})),o.a.createElement("button",{className:of.a.connectionButton,onClick:e.onHelp},o.a.createElement("img",{className:of.a.buttonIconLeft,src:jf.a}),o.a.createElement(m.a,{defaultMessage:"Help",id:"gui.connection.unavailable.helpbutton"})))));Bf.propTypes={onHelp:s.a.func,onScanning:s.a.func};var Uf=Bf;const qf=nf()({scanning:null,connecting:null,connected:null,error:null,unavailable:null}),Gf=e=>o.a.createElement(Ot,{className:of.a.modalContent,contentLabel:e.name,headerClassName:of.a.header,headerImage:e.connectionSmallIconURL,id:"connectionModal",onHelp:e.onHelp,onRequestClose:e.onCancel},o.a.createElement(it.a,{className:of.a.body},e.phase===qf.scanning&&!e.useAutoScan&&o.a.createElement(_f,e),e.phase===qf.scanning&&e.useAutoScan&&o.a.createElement(xf,e),e.phase===qf.connecting&&o.a.createElement(Ff,e),e.phase===qf.connected&&o.a.createElement(If,e),e.phase===qf.error&&o.a.createElement(Af,e),e.phase===qf.unavailable&&o.a.createElement(Uf,e)));Gf.propTypes={connectingMessage:s.a.node.isRequired,connectionSmallIconURL:s.a.string,connectionTipIconURL:s.a.string,name:s.a.node,onCancel:s.a.func.isRequired,onHelp:s.a.func.isRequired,phase:s.a.oneOf(Object.keys(qf)).isRequired,title:s.a.string.isRequired,useAutoScan:s.a.bool.isRequired},Gf.defaultProps={connectingMessage:"Connecting"};class zf extends o.a.Component{constructor(e){super(e),F()(this,["handleScanning","handleCancel","handleConnected","handleConnecting","handleDisconnect","handleError","handleHelp"]),this.state={extension:Gt.a.find(t=>t.extensionId===e.extensionId),phase:e.vm.getPeripheralIsConnected(e.extensionId)?qf.connected:qf.scanning}}componentDidMount(){this.props.vm.on("PERIPHERAL_CONNECTED",this.handleConnected),this.props.vm.on("PERIPHERAL_REQUEST_ERROR",this.handleError)}componentWillUnmount(){this.props.vm.removeListener("PERIPHERAL_CONNECTED",this.handleConnected),this.props.vm.removeListener("PERIPHERAL_REQUEST_ERROR",this.handleError)}handleScanning(){this.setState({phase:qf.scanning})}handleConnecting(e){this.props.vm.connectPeripheral(this.props.extensionId,e),this.setState({phase:qf.connecting}),pe.a.event({category:"extensions",action:"connecting",label:this.props.extensionId})}handleDisconnect(){try{this.props.vm.disconnectPeripheral(this.props.extensionId)}finally{this.props.onCancel()}}handleCancel(){try{this.props.vm.getPeripheralIsConnected(this.props.extensionId)||this.props.vm.disconnectPeripheral(this.props.extensionId)}finally{this.props.onCancel()}}handleError(){this.state.phase===qf.scanning||this.state.phase===qf.unavailable?this.setState({phase:qf.unavailable}):(this.setState({phase:qf.error}),pe.a.event({category:"extensions",action:"connecting error",label:this.props.extensionId}))}handleConnected(){this.setState({phase:qf.connected}),pe.a.event({category:"extensions",action:"connected",label:this.props.extensionId})}handleHelp(){window.open(this.state.extension.helpLink,"_blank"),pe.a.event({category:"extensions",action:"help",label:this.props.extensionId})}render(){return o.a.createElement(Gf,{connectingMessage:this.state.extension&&this.state.extension.connectingMessage,connectionIconURL:this.state.extension&&this.state.extension.connectionIconURL,connectionSmallIconURL:this.state.extension&&this.state.extension.connectionSmallIconURL,connectionTipIconURL:this.state.extension&&this.state.extension.connectionTipIconURL,extensionId:this.props.extensionId,name:this.state.extension&&this.state.extension.name,phase:this.state.phase,title:this.props.extensionId,useAutoScan:this.state.extension&&this.state.extension.useAutoScan,vm:this.props.vm,onCancel:this.handleCancel,onConnected:this.handleConnected,onConnecting:this.handleConnecting,onDisconnect:this.handleDisconnect,onHelp:this.handleHelp,onScanning:this.handleScanning})}}zf.propTypes={extensionId:s.a.string.isRequired,onCancel:s.a.func.isRequired,vm:s.a.instanceOf(p.a).isRequired};var Hf=Object(l.b)(e=>({extensionId:e.scratchGui.connectionModal.extensionId}),e=>({onCancel:()=>{e(Object(b.b)())}}))(zf),Wf=n(108),Vf=n.n(Wf);function Kf(){return(Kf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const Xf=Object(m.d)({label:{id:"gui.telemetryOptIn.label",defaultMessage:"Report statistics to improve Scratch"},bodyText1:{id:"gui.telemetryOptIn.body1",defaultMessage:"The Scratch Team is always looking to better understand how Scratch is used around the world. To help support this effort, you can allow Scratch to automatically send usage information to the Scratch Team."},bodyText2:{id:"gui.telemetryOptIn.body2",defaultMessage:"The information we collect includes language selection, blocks usage, and some events like saving, loading, and uploading a project. We DO NOT collect any personal information. Please see our {privacyPolicyLink} for more information."},privacyPolicyLink:{id:"gui.telemetryOptIn.privacyPolicyLink",defaultMessage:"Privacy Policy"},optInText:{id:"gui.telemetryOptIn.optInText",defaultMessage:"Share my usage data with the Scratch Team"},optInTooltip:{id:"gui.telemetryOptIn.optInTooltip",defaultMessage:"Enable telemetry"},optOutText:{id:"gui.telemetryOptIn.optOutText",defaultMessage:"Do not share my usage data with the Scratch Team"},optOutTooltip:{id:"gui.telemetryOptIn.optOutTooltip",defaultMessage:"Disable telemetry"},settingWasUpdated:{id:"gui.telemetryOptIn.settingWasUpdated",defaultMessage:"Your setting was updated."},closeButton:{id:"gui.telemetryOptIn.buttonClose",defaultMessage:"Close"}});class Qf extends o.a.PureComponent{constructor(e){super(e),F()(this,["handleCancel","handleOptInOutChanged"]),this.state={settingWasUpdatedTimer:null}}componentWillUnmount(){this.state.settingWasUpdatedTimer&&clearTimeout(this.state.settingWasUpdatedTimer)}handleCancel(){this.props.onRequestClose(),this.props.onCancel&&this.props.onCancel()}handleOptInOutChanged(e){"true"===e.target.value?this.props.onOptIn&&(this.props.onOptIn(),this.handleSettingWasUpdated()):"false"===e.target.value&&this.props.onOptOut&&(this.props.onOptOut(),this.handleSettingWasUpdated())}handleSettingWasUpdated(){this.state.settingWasUpdatedTimer&&clearTimeout(this.state.settingWasUpdatedTimer);const e=setTimeout(()=>this.handleSettingWasUpdatedTimeout(e),3e3);this.setState({settingWasUpdatedTimer:e})}handleSettingWasUpdatedTimeout(e){e===this.state.settingWasUpdatedTimer&&this.setState({settingWasUpdatedTimer:null})}render(){const e="boolean"!=typeof this.props.isTelemetryEnabled,t=!1===this.props.isTelemetryEnabled,n=!0===this.props.isTelemetryEnabled,a=this.state.settingWasUpdatedTimer&&o.a.createElement(m.a,Xf.settingWasUpdated);return o.a.createElement(d.a,{isOpen:!0,className:Vf.a.modalContent,contentLabel:this.props.intl.formatMessage(Xf.label),overlayClassName:Vf.a.modalOverlay,onRequestClose:this.handleCancel},o.a.createElement("div",{dir:this.props.isRtl?"rtl":"ltr"},o.a.createElement(it.a,{className:Vf.a.illustration}),o.a.createElement(it.a,{className:Vf.a.body},o.a.createElement("p",null,o.a.createElement(m.a,Xf.bodyText1)),o.a.createElement("p",null,o.a.createElement(m.a,Kf({},Xf.bodyText2,{values:{privacyPolicyLink:o.a.createElement("a",{className:Vf.a.privacyPolicyLink,href:"https://scratch.mit.edu/privacy_policy/",onClick:this.props.onShowPrivacyPolicy,target:"_blank",rel:"noopener noreferrer"},o.a.createElement(m.a,Xf.privacyPolicyLink))}}))),o.a.createElement(it.a,{className:Vf.a.radioButtons},o.a.createElement("label",{className:n?Vf.a.labelSelected:null},o.a.createElement("input",{name:"optInOut",type:"radio",value:"true",title:this.props.intl.formatMessage(Xf.optInTooltip),checked:!0===this.props.isTelemetryEnabled,onChange:this.handleOptInOutChanged}),o.a.createElement(m.a,Xf.optInText)),o.a.createElement("label",{className:t?Vf.a.labelSelected:null},o.a.createElement("input",{name:"optInOut",type:"radio",value:"false",title:this.props.intl.formatMessage(Xf.optOutTooltip),checked:!1===this.props.isTelemetryEnabled,onChange:this.handleOptInOutChanged}),o.a.createElement(m.a,Xf.optOutText))),o.a.createElement(it.a,{className:Vf.a.buttonRow},o.a.createElement("span",{className:Vf.a.settingWasUpdated,key:this.state.settingWasUpdatedTimer},a),o.a.createElement("button",{className:Vf.a.optIn,onClick:this.props.onRequestClose,disabled:e},o.a.createElement(m.a,Xf.closeButton))))))}}Qf.propTypes={intl:m.f.isRequired,isRtl:s.a.bool,isTelemetryEnabled:s.a.bool,onCancel:s.a.func,onOptIn:s.a.func.isRequired,onOptOut:s.a.func.isRequired,onRequestClose:s.a.func,onShowPrivacyPolicy:s.a.func};var Yf=Object(m.e)(Qf),Jf=n(103),Zf=n.n(Jf);const $f=Object(m.d)({title:{id:"tw.usernameModal.title",defaultMessage:"Change Username"}}),eb=e=>o.a.createElement(Ot,{className:Zf.a.modalContent,onRequestClose:e.onCancel,contentLabel:e.intl.formatMessage($f.title),id:"usernameModal"},o.a.createElement(it.a,{className:Zf.a.body},e.mustChangeUsername&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:Ve()(Zf.a.helpText,Zf.a.mustChange)},o.a.createElement(m.a,{defaultMessage:"Sorry, the cloud variable server thinks your username may be unsafe. Please change it to something else or {resetIt}.",id:"tw.usernameModal.mustChange",values:{resetIt:o.a.createElement("a",{className:Zf.a.resetLink,onClick:e.onReset},o.a.createElement(m.a,{defaultMessage:"reset it (recommended)",id:"tw.usernameModal.mustChange.resetIt"}))}}))),o.a.createElement(it.a,null,o.a.createElement("input",{autoFocus:!0,className:Zf.a.textInput,value:e.value,onChange:e.onChange,onFocus:e.onFocus,onKeyPress:e.onKeyPress,pattern:"^[a-zA-Z0-9_-]*$",maxLength:"20",spellCheck:"false"})),o.a.createElement("p",{className:Zf.a.helpText},o.a.createElement(m.a,{defaultMessage:"This value will be stored in your browser's storage. It may be logged when you interact with projects that contain cloud variables.",id:"tw.usernameModal.help"})),o.a.createElement("p",{className:Zf.a.helpText},o.a.createElement(m.a,{defaultMessage:"It is recommended to leave this value as-is or change it to your Scratch username, as other values may be unusable with cloud variables.",id:"tw.usernameModal.help2"})),o.a.createElement(it.a,{className:Zf.a.buttonRow},o.a.createElement("button",{className:Zf.a.cancelButton,onClick:e.onReset},o.a.createElement(m.a,{defaultMessage:"Reset",id:"tw.usernameModal.reset"})),o.a.createElement("button",{className:Zf.a.cancelButton,onClick:e.onCancel},o.a.createElement(m.a,{defaultMessage:"Cancel",id:"gui.prompt.cancel"})),o.a.createElement("button",{className:Zf.a.okButton,onClick:e.onOk,disabled:!e.valueValid},o.a.createElement(m.a,{defaultMessage:"OK",id:"gui.prompt.ok"})))));eb.propTypes={intl:m.f,mustChangeUsername:s.a.bool.isRequired,value:s.a.string.isRequired,valueValid:s.a.bool.isRequired,onCancel:s.a.func.isRequired,onChange:s.a.func.isRequired,onFocus:s.a.func.isRequired,onKeyPress:s.a.func.isRequired,onOk:s.a.func.isRequired,onReset:s.a.func.isRequired};var tb=Object(m.e)(eb),nb=n(327);class ab extends o.a.Component{constructor(e){super(e),F()(this,["handleKeyPress","handleFocus","handleOk","handleCancel","handleChange","handleReset"]),this.state={value:this.props.username,valueValid:!this.props.usernameInvalid}}handleKeyPress(e){"Enter"===e.key&&this.state.valueValid&&this.handleOk()}handleFocus(e){e.target.select()}handleOk(){this.props.onSetUsername(this.state.value),this.props.onCloseUsernameModal()}handleCancel(){this.props.onCloseUsernameModal()}handleChange(e){this.setState({value:e.target.value,valueValid:e.target.checkValidity()})}handleReset(){const e=Object(nb.a)();this.props.onCloseUsernameModal(),this.props.onSetUsername(e)}render(){return o.a.createElement(tb,{mustChangeUsername:this.props.usernameInvalid,value:this.state.value,valueValid:this.state.valueValid,onKeyPress:this.handleKeyPress,onFocus:this.handleFocus,onOk:this.handleOk,onCancel:this.handleCancel,onChange:this.handleChange,onReset:this.handleReset})}}ab.propTypes={onCloseUsernameModal:s.a.func,onSetUsername:s.a.func,username:s.a.string,usernameInvalid:s.a.bool};var ob=Object(l.b)(e=>({username:e.scratchGui.tw.username,usernameInvalid:e.scratchGui.tw.usernameInvalid}),e=>({onCloseUsernameModal:()=>e(Object(b.l)()),onSetUsername:t=>{e(Object(ve.p)(t)),e(Object(ve.q)(!1))}}))(ab),rb=n(847),sb=n.n(rb);function ib(){return(ib=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const lb=e=>o.a.createElement("input",ib({},e,{className:Ve()(e.className,sb.a.checkbox)}));lb.propTypes={className:s.a.string};var cb=lb,db=n(69),ub=n.n(db);const pb=["value","onChange","label"];function mb(){return(mb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function hb(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const gb=Object(Rr.a)(Ir.a),fb=Object(m.d)({title:{id:"tw.settingsModal.title",defaultMessage:"Advanced Settings"},help:{id:"tw.settingsModal.help",defaultMessage:"Click for help"}});class bb extends o.a.Component{constructor(e){super(e),F()(this,["handleClickHelp"]),this.state={helpVisible:!1}}componentDidUpdate(e){this.props.showHelpAutomatically&&this.props.active&&!e.active&&this.setState({helpVisible:!0})}handleClickHelp(){this.setState(e=>({helpVisible:!e.helpVisible}))}render(){return o.a.createElement("div",{className:Ve()(ub.a.setting,{[ub.a.active]:this.props.active})},o.a.createElement("div",{className:ub.a.label},this.props.primary,o.a.createElement("button",{className:ub.a.helpIcon,onClick:this.handleClickHelp,title:this.props.intl.formatMessage(fb.help)})),this.state.helpVisible&&o.a.createElement("div",{className:ub.a.detail},this.props.help),this.props.secondary)}}bb.propTypes={intl:m.f,active:s.a.bool,help:s.a.node,primary:s.a.node,secondary:s.a.node,showHelpAutomatically:s.a.bool};const _b=Object(m.e)(bb),vb=e=>{let{value:t,onChange:n,label:a}=e,r=hb(e,pb);return o.a.createElement(_b,mb({},r,{showHelpAutomatically:!0,active:t,primary:o.a.createElement("label",{className:ub.a.label},o.a.createElement(cb,{type:"checkbox",className:ub.a.checkbox,checked:t,onChange:n}),a)}))};vb.propTypes={onChange:s.a.func.isRequired,value:s.a.bool.isRequired,label:s.a.node.isRequired};const yb=e=>o.a.createElement(vb,mb({},e,{label:o.a.createElement(m.a,{defaultMessage:"High Quality Pen",id:"tw.settingsModal.highQualityPen"}),help:o.a.createElement(m.a,{defaultMessage:"High Quality Pen allows pen projects to render at a higher resolution and disables some coordinate rounding in the editor. Not all projects benefit from this setting, and it may impact performance. {comparison}.",id:"tw.settingsModal.highQualityPenHelp",values:{comparison:o.a.createElement("a",{href:"https://github.com/TurboWarp/scratch-gui/wiki/Advanced-Settings#high-quality-pen",target:"_blank",rel:"noopener noreferrer"},o.a.createElement(m.a,{defaultMessage:"See comparison",id:"tw.settingsModal.highQualityPenHelp.comparison"}))}})})),wb=e=>o.a.createElement(vb,{value:30!==e.framerate,onChange:e.onChange,label:o.a.createElement(m.a,{defaultMessage:"60 FPS (Custom FPS)",id:"tw.settingsModal.fps"}),help:o.a.createElement(m.a,{defaultMessage:"Runs scripts 60 times per second instead of 30. Most projects will not work properly with this enabled. You should try Interpolation with 60 FPS mode disabled if that is the case. {customFramerate}.",id:"tw.settingsModal.fpsHelp",values:{customFramerate:o.a.createElement("a",{onClick:e.onCustomizeFramerate,tabIndex:"0"},o.a.createElement(m.a,{defaultMessage:"Click to use a framerate other than 30 or 60",id:"tw.settingsModal.fpsHelp.customFramerate"}))}})});wb.propTypes={framerate:s.a.number,onChange:s.a.func,onCustomizeFramerate:s.a.func};const Sb=e=>o.a.createElement(vb,mb({},e,{label:o.a.createElement(m.a,{defaultMessage:"Interpolation",id:"tw.settingsModal.interpolation"}),help:o.a.createElement(m.a,{defaultMessage:"Interpolation makes projects appear smoother by interpolating sprite motion. Interpolation should not be used on 3D projects, raytracers, pen projects, and laggy projects as interpolation will make them run slower without making them appear smoother.",id:"tw.settingsModal.interpolationHelp"})})),Eb=e=>o.a.createElement(vb,mb({},e,{label:o.a.createElement(m.a,{defaultMessage:"Infinite Clones",id:"tw.settingsModal.infiniteClones"}),help:o.a.createElement(m.a,{defaultMessage:"Disables Scratch's 300 clone limit.",id:"tw.settingsModal.infiniteClonesHelp"})})),Cb=e=>o.a.createElement(vb,mb({},e,{label:o.a.createElement(m.a,{defaultMessage:"Remove Fencing",id:"tw.settingsModal.removeFencing"}),help:o.a.createElement(m.a,{defaultMessage:"Allows sprites to move offscreen and become as large or as small as they want.",id:"tw.settingsModal.removeFencingHelp"})})),kb=e=>o.a.createElement(vb,mb({},e,{label:o.a.createElement(m.a,{defaultMessage:"Remove Miscellaneous Limits",id:"tw.settingsModal.removeMiscLimits"}),help:o.a.createElement(m.a,{defaultMessage:"Removes sound effect range limits, pen size limit, and possibly more in the future.",id:"tw.settingsModal.removeMiscLimitsHelp"})})),xb=e=>o.a.createElement(vb,mb({},e,{label:o.a.createElement(m.a,{defaultMessage:"Warp Timer",id:"tw.settingsModal.warpTimer"}),help:o.a.createElement(m.a,{defaultMessage:"Warp Timer makes scripts check if they are stuck in a long or infinite loop and run at a low framerate instead of getting stuck until the loop finishes. This fixes most crashes but has a significant performance impact, so it's only enabled by default in the editor.",id:"tw.settingsModal.warpTimerHelp"})})),Ob=e=>o.a.createElement(vb,mb({},e,{label:o.a.createElement(m.a,{defaultMessage:"Disable Compiler",id:"tw.settingsModal.disableCompiler"}),help:o.a.createElement(m.a,{defaultMessage:"Disables the TurboWarp compiler. You may want to enable this while editing projects so that scripts update immediately. Otherwise, you should never enable this.",id:"tw.settingsModal.disableCompilerHelp"})})),Fb=({customStageSizeEnabled:e,stageWidth:t,onStageWidthChange:n,stageHeight:a,onStageHeightChange:r})=>o.a.createElement(_b,{active:e,primary:o.a.createElement("div",{className:Ve()(ub.a.label,ub.a.customStageSize)},o.a.createElement(m.a,{defaultMessage:"Custom Stage Size:",id:"tw.settingsModal.customStageSize"}),o.a.createElement(gb,{value:t,onSubmit:n,type:"number",min:"0",max:"1024",step:"1"}),o.a.createElement("span",null,"×"),o.a.createElement(gb,{value:a,onSubmit:r,type:"number",min:"0",max:"1024",step:"1"})),secondary:(t>1024||a>1024)&&o.a.createElement("div",{className:ub.a.warning},o.a.createElement(m.a,{defaultMessage:"Using a custom stage size this large is not recommended! Instead, use a lower size with the same aspect ratio and let fullscreen mode upscale it to match the user's display.",id:"tw.settingsModal.largeStageWarning"})),help:o.a.createElement(m.a,{defaultMessage:"Changes the size of the Scratch stage from 480x360 to something else. Try 640x360 to make the stage widescreen. Very few projects will handle this properly.",id:"tw.settingsModal.customStageSizeHelp"})});Fb.propTypes={customStageSizeEnabled:s.a.bool,stageWidth:s.a.number,onStageWidthChange:s.a.func,stageHeight:s.a.number,onStageHeightChange:s.a.func};const Tb=({onStoreProjectOptions:e})=>o.a.createElement("div",{className:ub.a.setting},o.a.createElement("div",null,o.a.createElement("button",{onClick:e,className:ub.a.button},o.a.createElement(m.a,{defaultMessage:"Store settings in project",id:"tw.settingsModal.storeProjectOptions"})),o.a.createElement("p",null,o.a.createElement(m.a,{defaultMessage:"Stores the selected settings in the project so they will be automatically applied when TurboWarp loads this project. Custom stage size and warp timer will not be saved.",id:"tw.settingsModal.storeProjectOptionsHelp"}))));Tb.propTypes={onStoreProjectOptions:s.a.func};const Ib=e=>o.a.createElement("div",{className:ub.a.header},e.children,o.a.createElement("div",{className:ub.a.divider}));Ib.propTypes={children:s.a.node};const Rb=e=>o.a.createElement(Ot,{className:ub.a.modalContent,onRequestClose:e.onClose,contentLabel:e.intl.formatMessage(fb.title),id:"settingsModal"},o.a.createElement(it.a,{className:ub.a.body},o.a.createElement(Ib,null,o.a.createElement(m.a,{defaultMessage:"Featured",id:"tw.settingsModal.featured"})),o.a.createElement(wb,{framerate:e.framerate,onChange:e.onFramerateChange,onCustomizeFramerate:e.onCustomizeFramerate}),o.a.createElement(Sb,{value:e.interpolation,onChange:e.onInterpolationChange}),60===e.framerate&&e.interpolation&&o.a.createElement("div",{className:ub.a.warning},o.a.createElement(m.a,{defaultMessage:"Using 60 FPS and interpolation together can cause unexpected behavior. You most likely want to enable just 60 FPS or just interpolation, not both. If you're not sure which to use, try interpolation first.",id:"tw.settingsModal.interp60Warning"})),o.a.createElement(yb,{value:e.highQualityPen,onChange:e.onHighQualityPenChange}),o.a.createElement(xb,{value:e.warpTimer,onChange:e.onWarpTimerChange}),o.a.createElement(Ib,null,o.a.createElement(m.a,{defaultMessage:"Remove Limits",id:"tw.settingsModal.removeLimits"})),o.a.createElement(Eb,{value:e.infiniteClones,onChange:e.onInfiniteClonesChange}),o.a.createElement(Cb,{value:e.removeFencing,onChange:e.onRemoveFencingChange}),o.a.createElement(kb,{value:e.removeLimits,onChange:e.onRemoveLimitsChange}),o.a.createElement(Ib,null,o.a.createElement(m.a,{defaultMessage:"Danger Zone",id:"tw.settingsModal.dangerZone"})),o.a.createElement(Fb,e),o.a.createElement(Ob,{value:e.disableCompiler,onChange:e.onDisableCompilerChange}),o.a.createElement(Tb,e)));Rb.propTypes={intl:m.f,onClose:s.a.func,framerate:s.a.number,onFramerateChange:s.a.func,onCustomizeFramerate:s.a.func,highQualityPen:s.a.bool,onHighQualityPenChange:s.a.func,interpolation:s.a.bool,onInterpolationChange:s.a.func,infiniteClones:s.a.bool,onInfiniteClonesChange:s.a.func,removeFencing:s.a.bool,onRemoveFencingChange:s.a.func,removeLimits:s.a.bool,onRemoveLimitsChange:s.a.func,warpTimer:s.a.bool,onWarpTimerChange:s.a.func,disableCompiler:s.a.bool,onDisableCompilerChange:s.a.func};var jb=Object(m.e)(Rb),Db=n(79);const Ab=["onCloseSettingsModal","vm"];function Pb(){return(Pb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Mb(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Nb=Object(m.d)({confirmReload:{id:"tw.settingsModal.confirmReload",defaultMessage:"A reload is required to change stage size, are you sure you want to reload?"},newFramerate:{id:"tw.menuBar.newFramerate",defaultMessage:"New framerate:"}});class Lb extends o.a.Component{constructor(e){super(e),F()(this,["handleClose","handleFramerateChange","handleCustomizeFramerate","handleHighQualityPenChange","handleInterpolationChange","handleInfiniteClonesChange","handleRemoveFencingChange","handleRemoveLimitsChange","handleWarpTimerChange","handleStageWidthChange","handleStageHeightChange","handleDisableCompilerChange","handleStoreProjectOptions"]),this.initialStageWidth=Ho.a.width,this.initialStageHeight=Ho.a.height,this.state={stageWidth:this.initialStageWidth,stageHeight:this.initialStageHeight}}getNeedsReload(){return this.state.stageWidth!==this.initialStageWidth||this.state.stageHeight!==this.initialStageHeight}handleClose(){this.getNeedsReload()&&confirm(this.props.intl.formatMessage(Nb.confirmReload))?this.applyChangesThatNeedReload():this.props.onCloseSettingsModal()}handleFramerateChange(e){this.props.vm.setFramerate(e.target.checked?60:30)}handleCustomizeFramerate(){const e=+prompt(this.props.intl.formatMessage(Nb.newFramerate),this.props.framerate);e>0&&isFinite(e)&&this.props.vm.setFramerate(+e)}handleHighQualityPenChange(e){this.props.vm.renderer.setUseHighQualityRender(e.target.checked)}handleInterpolationChange(e){this.props.vm.setInterpolation(e.target.checked)}handleInfiniteClonesChange(e){this.props.vm.setRuntimeOptions({maxClones:e.target.checked?1/0:300})}handleRemoveFencingChange(e){this.props.vm.setRuntimeOptions({fencing:!e.target.checked})}handleRemoveLimitsChange(e){this.props.vm.setRuntimeOptions({miscLimits:!e.target.checked})}handleWarpTimerChange(e){this.props.vm.setCompilerOptions({warpTimer:e.target.checked})}handleDisableCompilerChange(e){this.props.vm.setCompilerOptions({enabled:!e.target.checked})}handleStageWidthChange(e){this.setState({stageWidth:e})}handleStageHeightChange(e){this.setState({stageHeight:e})}applyChangesThatNeedReload(){const e=new URLSearchParams(location.search);var t,n;t=this.state.stageWidth,n=this.state.stageHeight,480===t&&360===n?e.delete("size"):e.set("size","".concat(this.state.stageWidth,"x").concat(this.state.stageHeight));const a=Object(Db.a)(e);location.href="".concat(location.pathname).concat(a)}handleStoreProjectOptions(){this.props.vm.storeProjectOptions()}render(){const e=this.props,{onCloseSettingsModal:t,vm:n}=e,a=Mb(e,Ab);return o.a.createElement(jb,Pb({onClose:this.handleClose,onFramerateChange:this.handleFramerateChange,onCustomizeFramerate:this.handleCustomizeFramerate,onHighQualityPenChange:this.handleHighQualityPenChange,onInterpolationChange:this.handleInterpolationChange,onInfiniteClonesChange:this.handleInfiniteClonesChange,onRemoveFencingChange:this.handleRemoveFencingChange,onRemoveLimitsChange:this.handleRemoveLimitsChange,onWarpTimerChange:this.handleWarpTimerChange,onStageWidthChange:this.handleStageWidthChange,onStageHeightChange:this.handleStageHeightChange,onDisableCompilerChange:this.handleDisableCompilerChange,stageWidth:this.state.stageWidth,stageHeight:this.state.stageHeight,customStageSizeEnabled:480!==this.state.stageWidth||360!==this.state.stageHeight,onStoreProjectOptions:this.handleStoreProjectOptions},a))}}Lb.propTypes={intl:m.f,onCloseSettingsModal:s.a.func,vm:s.a.shape({renderer:s.a.shape({setUseHighQualityRender:s.a.func}),setFramerate:s.a.func,setCompilerOptions:s.a.func,setInterpolation:s.a.func,setRuntimeOptions:s.a.func,storeProjectOptions:s.a.func}),framerate:s.a.number,highQualityPen:s.a.bool,interpolation:s.a.bool,infiniteClones:s.a.bool,removeFencing:s.a.bool,removeLimits:s.a.bool,warpTimer:s.a.bool,disableCompiler:s.a.bool};var Bb=Object(m.e)(Object(l.b)(e=>({vm:e.scratchGui.vm,framerate:e.scratchGui.tw.framerate,highQualityPen:e.scratchGui.tw.highQualityPen,interpolation:e.scratchGui.tw.interpolation,infiniteClones:e.scratchGui.tw.runtimeOptions.maxClones===1/0,removeFencing:!e.scratchGui.tw.runtimeOptions.fencing,removeLimits:!e.scratchGui.tw.runtimeOptions.miscLimits,warpTimer:e.scratchGui.tw.compilerOptions.warpTimer,disableCompiler:!e.scratchGui.tw.compilerOptions.enabled}),e=>({onCloseSettingsModal:()=>e(Object(b.f)())}))(Lb)),Ub=n(74),qb=n(54),Gb=n.n(qb),zb=n(848),Hb=n.n(zb),Wb=n(849),Vb=n.n(Wb),Kb=n(850),Xb=n.n(Kb),Qb=n(851),Yb=n.n(Qb);const Jb=["accountNavOpen","activeTabIndex","alertsVisible","authorId","authorThumbnailUrl","authorUsername","basePath","backdropLibraryVisible","backpackHost","backpackVisible","blocksTabVisible","cardsVisible","canChangeLanguage","canCreateNew","canEditTitle","canManageFiles","canRemix","canSave","canCreateCopy","canShare","canUseCloud","children","connectionModalVisible","costumeLibraryVisible","costumesTabVisible","enableCommunity","intl","isCreating","isEmbedded","isFullScreen","isPlayerOnly","isRtl","isShared","isWindowFullScreen","isTelemetryEnabled","loading","logo","renderLogin","onClickAbout","onClickAccountNav","onCloseAccountNav","onClickAddonSettings","onClickTheme","onLogOut","onOpenRegistration","onToggleLoginOpen","onActivateCostumesTab","onActivateSoundsTab","onActivateTab","onClickLogo","onExtensionButtonClick","onProjectTelemetryEvent","onRequestCloseBackdropLibrary","onRequestCloseCostumeLibrary","onRequestCloseTelemetryModal","onSeeCommunity","onShare","onShowPrivacyPolicy","onStartSelectingFileUpload","onTelemetryModalCancel","onTelemetryModalOptIn","onTelemetryModalOptOut","showComingSoon","soundsTabVisible","stageSizeMode","targetIsStage","telemetryModalVisible","tipsLibraryVisible","usernameModalVisible","settingsModalVisible","vm"];function Zb(){return(Zb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function $b(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const e_=Object(m.d)({addExtension:{id:"gui.gui.addExtension",defaultMessage:"Add Extension"}}),t_=e=>{const t=v()(e,"dispatch"),{accountNavOpen:n,activeTabIndex:a,alertsVisible:r,authorId:s,authorThumbnailUrl:i,authorUsername:l,basePath:c,backdropLibraryVisible:d,backpackHost:u,backpackVisible:p,blocksTabVisible:h,cardsVisible:g,canChangeLanguage:f,canCreateNew:b,canEditTitle:_,canManageFiles:y,canRemix:w,canSave:S,canCreateCopy:E,canShare:C,canUseCloud:k,children:x,connectionModalVisible:O,costumeLibraryVisible:F,costumesTabVisible:T,enableCommunity:I,intl:R,isCreating:j,isEmbedded:D,isFullScreen:A,isPlayerOnly:P,isRtl:M,isShared:N,isWindowFullScreen:L,isTelemetryEnabled:B,loading:U,logo:q,renderLogin:G,onClickAbout:z,onClickAccountNav:H,onCloseAccountNav:W,onClickAddonSettings:V,onClickTheme:K,onLogOut:X,onOpenRegistration:Q,onToggleLoginOpen:Y,onActivateCostumesTab:J,onActivateSoundsTab:Z,onActivateTab:$,onClickLogo:ee,onExtensionButtonClick:te,onProjectTelemetryEvent:ne,onRequestCloseBackdropLibrary:ae,onRequestCloseCostumeLibrary:oe,onRequestCloseTelemetryModal:re,onSeeCommunity:se,onShare:ie,onShowPrivacyPolicy:le,onStartSelectingFileUpload:ce,onTelemetryModalCancel:de,onTelemetryModalOptIn:ue,onTelemetryModalOptOut:pe,showComingSoon:me,soundsTabVisible:he,stageSizeMode:ge,targetIsStage:fe,telemetryModalVisible:be,tipsLibraryVisible:_e,usernameModalVisible:ve,settingsModalVisible:ye,vm:we}=t,Se=$b(t,Jb);if(x)return o.a.createElement(it.a,Se,x);const Ee={tabs:Gb.a.tabs,tab:Ve()(Je.a.reactTabsTab,Gb.a.tab),tabList:Ve()(Je.a.reactTabsTabList,Gb.a.tabList),tabPanel:Ve()(Je.a.reactTabsTabPanel,Gb.a.tabPanel),tabPanelSelected:Ve()(Je.a.reactTabsTabPanelSelected,Gb.a.isSelected),tabSelected:Ve()(Je.a.reactTabsTabSelected,Gb.a.isSelected)};return o.a.createElement(Xe.a,{minWidth:ha.e.fullSizeMinWidth},e=>{const t=((e,t)=>e===ha.d.small?ha.c.small:t?ha.c.large:ha.c.largeConstrained)(ge,e);return P?o.a.createElement(o.a.Fragment,null,L?o.a.createElement("div",{className:Gb.a.fullscreenBackground}):null,o.a.createElement(bh,{isFullScreen:A,isEmbedded:D,isRendererSupported:Object(Ub.d)(),isRtl:M,loading:U,stageSize:ha.d.large,vm:we},r?o.a.createElement(Qg,{className:Gb.a.alertsContainer}):null),ve&&o.a.createElement(ob,null),ye&&o.a.createElement(Bb,null)):o.a.createElement(it.a,Zb({className:Gb.a.pageWrapper,dir:M?"rtl":"ltr"},Se),ve&&o.a.createElement(ob,null),ye&&o.a.createElement(Bb,null),be?o.a.createElement(Yf,{isRtl:M,isTelemetryEnabled:B,onCancel:de,onOptIn:ue,onOptOut:pe,onRequestClose:re,onShowPrivacyPolicy:le}):null,U?o.a.createElement(uh,{isFullScreen:!0}):null,j?o.a.createElement(uh,{isFullScreen:!0,messageId:"gui.loader.creating"}):null,Object(Ub.d)()?null:o.a.createElement(Xh.a,{isRtl:M}),Object(Ub.b)()?null:o.a.createElement(Qh.a,{isRtl:M}),_e?o.a.createElement(ng,null):null,g?o.a.createElement(Ag,null):null,r?o.a.createElement(Qg,{className:Gb.a.alertsContainer}):null,O?o.a.createElement(Hf,{vm:we}):null,F?o.a.createElement(wh,{vm:we,onRequestClose:oe}):null,d?o.a.createElement(kh,{vm:we,onRequestClose:ae}):null,o.a.createElement(_h.a,{accountNavOpen:n,authorId:s,authorThumbnailUrl:i,authorUsername:l,canChangeLanguage:f,canCreateCopy:E,canCreateNew:b,canEditTitle:_,canManageFiles:y,canRemix:w,canSave:S,canShare:C,className:Gb.a.menuBarPosition,enableCommunity:I,isShared:N,logo:q,renderLogin:G,showComingSoon:me,onClickAbout:z,onClickAccountNav:H,onClickAddonSettings:V,onClickTheme:K,onClickLogo:ee,onCloseAccountNav:W,onLogOut:X,onOpenRegistration:Q,onProjectTelemetryEvent:ne,onSeeCommunity:se,onShare:ie,onStartSelectingFileUpload:ce,onToggleLoginOpen:Y}),o.a.createElement(it.a,{className:Gb.a.bodyWrapper},o.a.createElement(it.a,{className:Gb.a.flexWrapper},o.a.createElement(it.a,{className:Gb.a.editorWrapper},o.a.createElement(Qe.d,{forceRenderTabPanel:!0,className:Ee.tabs,selectedIndex:a,selectedTabClassName:Ee.tabSelected,selectedTabPanelClassName:Ee.tabPanelSelected,onSelect:$},o.a.createElement(Qe.b,{className:Ee.tabList},o.a.createElement(Qe.a,{className:Ee.tab},o.a.createElement("img",{draggable:!1,src:Vb.a}),o.a.createElement(m.a,{defaultMessage:"Code",id:"gui.gui.codeTab"})),o.a.createElement(Qe.a,{className:Ee.tab,onClick:J},o.a.createElement("img",{draggable:!1,src:Xb.a}),fe?o.a.createElement(m.a,{defaultMessage:"Backdrops",id:"gui.gui.backdropsTab"}):o.a.createElement(m.a,{defaultMessage:"Costumes",id:"gui.gui.costumesTab"})),o.a.createElement(Qe.a,{className:Ee.tab,onClick:Z},o.a.createElement("img",{draggable:!1,src:Yb.a}),o.a.createElement(m.a,{defaultMessage:"Sounds",id:"gui.gui.soundsTab"}))),o.a.createElement(Qe.c,{className:Ee.tabPanel},o.a.createElement(it.a,{className:Gb.a.blocksWrapper},o.a.createElement(Aa,{canUseCloud:k,grow:1,isVisible:h,options:{media:"".concat(c,"static/blocks-media/")},stageSize:t,vm:we})),o.a.createElement(it.a,{className:Gb.a.extensionButtonContainer},o.a.createElement("button",{className:Gb.a.extensionButton,title:R.formatMessage(e_.addExtension),onClick:te},o.a.createElement("img",{className:Gb.a.extensionButtonIcon,draggable:!1,src:Hb.a}))),o.a.createElement(it.a,{className:Gb.a.watermark},o.a.createElement(jh,null))),o.a.createElement(Qe.c,{className:Ee.tabPanel},T?o.a.createElement(yr,{vm:we}):null),o.a.createElement(Qe.c,{className:Ee.tabPanel},he?o.a.createElement(qd,{vm:we}):null)),p?o.a.createElement(Kh,{host:u}):null),o.a.createElement(it.a,{className:Ve()(Gb.a.stageAndTargetWrapper,Gb.a[t])},o.a.createElement(bh,{isFullScreen:A,isRendererSupported:Object(Ub.d)(),isRtl:M,stageSize:t,vm:we}),o.a.createElement(it.a,{className:Gb.a.targetWrapper},o.a.createElement(Qi,{stageSize:t,vm:we}))))),o.a.createElement(ef,null))})};t_.propTypes={accountNavOpen:s.a.bool,activeTabIndex:s.a.number,authorId:s.a.oneOfType([s.a.string,s.a.bool]),authorThumbnailUrl:s.a.string,authorUsername:s.a.oneOfType([s.a.string,s.a.bool]),backdropLibraryVisible:s.a.bool,backpackHost:s.a.string,backpackVisible:s.a.bool,basePath:s.a.string,blocksTabVisible:s.a.bool,canChangeLanguage:s.a.bool,canCreateCopy:s.a.bool,canCreateNew:s.a.bool,canEditTitle:s.a.bool,canManageFiles:s.a.bool,canRemix:s.a.bool,canSave:s.a.bool,canShare:s.a.bool,canUseCloud:s.a.bool,cardsVisible:s.a.bool,children:s.a.node,costumeLibraryVisible:s.a.bool,costumesTabVisible:s.a.bool,enableCommunity:s.a.bool,intl:m.f.isRequired,isCreating:s.a.bool,isEmbedded:s.a.bool,isFullScreen:s.a.bool,isPlayerOnly:s.a.bool,isRtl:s.a.bool,isShared:s.a.bool,isWindowFullScreen:s.a.bool,loading:s.a.bool,logo:s.a.string,onActivateCostumesTab:s.a.func,onActivateSoundsTab:s.a.func,onActivateTab:s.a.func,onClickAccountNav:s.a.func,onClickAddonSettings:s.a.func,onClickTheme:s.a.func,onClickLogo:s.a.func,onCloseAccountNav:s.a.func,onExtensionButtonClick:s.a.func,onLogOut:s.a.func,onOpenRegistration:s.a.func,onRequestCloseBackdropLibrary:s.a.func,onRequestCloseCostumeLibrary:s.a.func,onRequestCloseTelemetryModal:s.a.func,onSeeCommunity:s.a.func,onShare:s.a.func,onShowPrivacyPolicy:s.a.func,onStartSelectingFileUpload:s.a.func,onTabSelect:s.a.func,onTelemetryModalCancel:s.a.func,onTelemetryModalOptIn:s.a.func,onTelemetryModalOptOut:s.a.func,onToggleLoginOpen:s.a.func,renderLogin:s.a.func,showComingSoon:s.a.bool,soundsTabVisible:s.a.bool,stageSizeMode:s.a.oneOf(Object.keys(ha.d)),targetIsStage:s.a.bool,telemetryModalVisible:s.a.bool,tipsLibraryVisible:s.a.bool,usernameModalVisible:s.a.bool,settingsModalVisible:s.a.bool,vm:s.a.instanceOf(p.a).isRequired},t_.defaultProps={backpackHost:null,backpackVisible:!1,basePath:"./",canChangeLanguage:!0,canCreateNew:!1,canEditTitle:!1,canManageFiles:!0,canRemix:!1,canSave:!1,canCreateCopy:!1,canShare:!1,canUseCloud:!1,enableCommunity:!1,isCreating:!1,isShared:!1,loading:!1,showComingSoon:!1,stageSizeMode:ha.d.large};var n_=Object(m.e)(Object(l.b)(e=>({isWindowFullScreen:e.scratchGui.tw.isWindowFullScreen,stageSizeMode:e.scratchGui.stageSize.stageSize}))(t_));const a_=["assetHost","cloudHost","error","isError","isScratchDesktop","isShowingProject","onProjectLoaded","onStorageInit","onUpdateProjectId","onVmInit","projectHost","projectId","children","fetchingProject","isLoading","loadingStateVisible"];function o_(){return(o_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function r_(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class s_ extends o.a.Component{componentDidMount(){var e;e=this.props.isScratchDesktop,Jh=e,this.props.onStorageInit(R.a),this.props.onVmInit(this.props.vm)}componentDidUpdate(e){this.props.projectId!==e.projectId&&null!==this.props.projectId&&this.props.onUpdateProjectId(this.props.projectId),this.props.isShowingProject&&!e.isShowingProject&&this.props.onProjectLoaded()}render(){if(this.props.isError)throw new Error("Error in Scratch GUI [location=".concat(window.location,"]: ").concat(this.props.error));const e=this.props,{assetHost:t,cloudHost:n,error:a,isError:r,isScratchDesktop:s,isShowingProject:i,onProjectLoaded:l,onStorageInit:c,onUpdateProjectId:d,onVmInit:u,projectHost:p,projectId:m,children:h,fetchingProject:g,isLoading:f,loadingStateVisible:b}=e,_=r_(e,a_);return o.a.createElement(n_,o_({loading:g||f||b},_),h)}}s_.propTypes={assetHost:s.a.string,children:s.a.node,cloudHost:s.a.string,error:s.a.oneOfType([s.a.object,s.a.string]),fetchingProject:s.a.bool,intl:m.f,isError:s.a.bool,isEmbedded:s.a.bool,isFullScreen:s.a.bool,isLoading:s.a.bool,isScratchDesktop:s.a.bool,isShowingProject:s.a.bool,loadingStateVisible:s.a.bool,onProjectLoaded:s.a.func,onSeeCommunity:s.a.func,onStorageInit:s.a.func,onUpdateProjectId:s.a.func,onVmInit:s.a.func,projectHost:s.a.string,projectId:s.a.oneOfType([s.a.string,s.a.number]),telemetryModalVisible:s.a.bool,vm:s.a.instanceOf(p.a).isRequired},s_.defaultProps={isScratchDesktop:!1,onStorageInit:e=>e.addOfficialScratchWebStores(),onProjectLoaded:()=>{},onUpdateProjectId:()=>{},onVmInit:()=>{}};const i_=Object(m.e)(Object(l.b)(e=>{const t=e.scratchGui.projectState.loadingState;return{activeTabIndex:e.scratchGui.editorTab.activeTabIndex,alertsVisible:e.scratchGui.alerts.visible,backdropLibraryVisible:e.scratchGui.modals.backdropLibrary,blocksTabVisible:e.scratchGui.editorTab.activeTabIndex===f.a,cardsVisible:e.scratchGui.cards.visible,connectionModalVisible:e.scratchGui.modals.connectionModal,costumeLibraryVisible:e.scratchGui.modals.costumeLibrary,costumesTabVisible:e.scratchGui.editorTab.activeTabIndex===f.b,error:e.scratchGui.projectState.error,isError:Object(g.k)(t),isEmbedded:e.scratchGui.mode.isEmbedded,isFullScreen:e.scratchGui.mode.isFullScreen||e.scratchGui.mode.isEmbedded,isPlayerOnly:e.scratchGui.mode.isPlayerOnly,isRtl:e.locales.isRtl,isShowingProject:Object(g.r)(t),loadingStateVisible:e.scratchGui.modals.loadingProject,projectId:e.scratchGui.projectState.projectId,soundsTabVisible:e.scratchGui.editorTab.activeTabIndex===f.c,targetIsStage:e.scratchGui.targets.stage&&e.scratchGui.targets.stage.id===e.scratchGui.targets.editingTarget,telemetryModalVisible:e.scratchGui.modals.telemetryModal,tipsLibraryVisible:e.scratchGui.modals.tipsLibrary,usernameModalVisible:e.scratchGui.modals.usernameModal,settingsModalVisible:e.scratchGui.modals.settingsModal,vm:e.scratchGui.vm}},e=>({onExtensionButtonClick:()=>e(Object(b.r)()),onActivateTab:t=>e(Object(f.d)(t)),onActivateCostumesTab:()=>e(Object(f.d)(f.b)),onActivateSoundsTab:()=>e(Object(f.d)(f.c)),onRequestCloseBackdropLibrary:()=>e(Object(b.a)()),onRequestCloseCostumeLibrary:()=>e(Object(b.c)()),onRequestCloseTelemetryModal:()=>e(Object(b.j)())}))(s_)),l_=Object(i.d)(k,Object(h.a)("Top Level App"),(function(e){class t extends o.a.Component{componentDidMount(){this.props.fontsLoaded||Object(w.loadFonts)().then(()=>this.props.onSetFontsLoaded())}render(){const t=v()(this.props,["onSetFontsLoaded"]);return o.a.createElement(e,t)}}t.propTypes={fontsLoaded:s.a.bool.isRequired,onSetFontsLoaded:s.a.func.isRequired};return Object(l.b)(e=>({fontsLoaded:e.scratchGui.fontsLoaded}),e=>({onSetFontsLoaded:()=>e(Object(y.c)())}))(t)}),(function(e){class t extends o.a.Component{constructor(e){super(e),F()(this,["fetchProject"]),R.a.setProjectHost(e.projectHost),R.a.setAssetHost(e.assetHost),R.a.setTranslatorFunction(e.intl.formatMessage),""!==e.projectId&&null!==e.projectId&&void 0!==e.projectId&&this.props.setProjectId(e.projectId.toString())}componentDidUpdate(e){e.projectHost!==this.props.projectHost&&R.a.setProjectHost(this.props.projectHost),e.assetHost!==this.props.assetHost&&R.a.setAssetHost(this.props.assetHost),this.props.isFetchingWithId&&!e.isFetchingWithId&&this.fetchProject(this.props.reduxProjectId,this.props.loadingState),this.props.isShowingProject&&!e.isShowingProject&&this.props.onProjectUnchanged(),this.props.isShowingProject&&(e.isLoadingProject||e.isCreatingNew)&&this.props.onActivateTab(f.a)}fetchProject(e,t){let n;this.props.vm.clear(),this.props.vm.stop();let a="undefined"==typeof URLSearchParams?null:new URLSearchParams(location.search).get("project_url");return a?(a.startsWith("http:")||a.startsWith("https:")||(a="https://".concat(a)),n=z(a).then(e=>{if(!e.ok)throw new Error("Request returned status ".concat(e.status));return e.arrayBuffer()}).then(e=>({data:e}))):n=R.a.load(R.a.AssetType.Project,e,R.a.DataFormat.JSON),n.then(e=>{if(e&&e.data){const t=e.data[0];if("<"===t||t==="<".charCodeAt(0))return R.a.load(R.a.AssetType.Project,j.a,R.a.DataFormat.JSON)}return e}).then(e=>{if(!e)throw new Error("Could not find project");this.props.onFetchedProjectData(e.data,t)}).catch(e=>{this.props.onError(e),I.default.error(e)})}render(){const t=this.props,{assetHost:n,intl:a,isLoadingProject:r,loadingState:s,onActivateTab:i,onError:l,onFetchedProjectData:c,onProjectUnchanged:d,projectHost:u,projectId:p,reduxProjectId:m,setProjectId:h,isFetchingWithId:g}=t,f=X(t,V);return o.a.createElement(e,K({fetchingProject:g},f))}}t.propTypes={assetHost:s.a.string,canSave:s.a.bool,intl:m.f.isRequired,isCreatingNew:s.a.bool,isFetchingWithId:s.a.bool,isLoadingProject:s.a.bool,isShowingProject:s.a.bool,loadingState:s.a.oneOf(g.a),onActivateTab:s.a.func,onError:s.a.func,onFetchedProjectData:s.a.func,onProjectUnchanged:s.a.func,projectHost:s.a.string,projectId:s.a.oneOfType([s.a.string,s.a.number]),reduxProjectId:s.a.oneOfType([s.a.string,s.a.number]),setProjectId:s.a.func,vm:s.a.instanceOf(p.a)},t.defaultProps={assetHost:"https://assets.scratch.mit.edu",projectHost:"https://projects.scratch.mit.edu"};return Object(m.e)(Object(l.b)(e=>({isCreatingNew:Object(g.j)(e.scratchGui.projectState.loadingState),isFetchingWithId:Object(g.l)(e.scratchGui.projectState.loadingState),isLoadingProject:Object(g.m)(e.scratchGui.projectState.loadingState),isShowingProject:Object(g.r)(e.scratchGui.projectState.loadingState),loadingState:e.scratchGui.projectState.loadingState,reduxProjectId:e.scratchGui.projectState.projectId,vm:e.scratchGui.vm}),e=>({onActivateTab:t=>e(Object(f.d)(t)),onError:t=>e(Object(g.y)(t)),onFetchedProjectData:(t,n)=>e(Object(g.w)(t,n)),setProjectId:t=>e(Object(g.E)(t)),onProjectUnchanged:()=>e(Object(T.d)())}),(e,t,n)=>Object.assign({},e,t,n))(t))}),(function(e){class t extends o.a.Component{componentDidMount(){this.handleReceivedProjectTitle(this.props.projectTitle)}componentDidUpdate(e){if(this.props.projectTitle!==e.projectTitle&&this.handleReceivedProjectTitle(this.props.projectTitle),this.props.isShowingWithoutId&&e.isAnyCreatingNewState){const e=this.handleReceivedProjectTitle();this.props.onUpdateProjectTitle(e,!0)}if(this.props.reduxProjectTitle!==e.reduxProjectTitle&&this.props.reduxProjectTitle!==this.props.projectTitle){const e=this.props.intl.formatMessage(Z.defaultProjectTitle);this.props.onUpdateProjectTitle(this.props.reduxProjectTitle,this.props.reduxProjectTitle===e)}}handleReceivedProjectTitle(e){let t=e,n=!1;return null==t&&(t=this.props.intl.formatMessage(Z.defaultProjectTitle),n=!0),this.props.onChangedProjectTitle(t,n),t}render(){const t=this.props,{intl:n,isAnyCreatingNewState:a,isShowingWithoutId:r,onChangedProjectTitle:s,onUpdateProjectTitle:i,projectTitle:l,reduxProjectTitle:c}=t,d=J(t,Y);return o.a.createElement(e,d)}}t.propTypes={intl:m.f,isAnyCreatingNewState:s.a.bool,isShowingWithoutId:s.a.bool,onChangedProjectTitle:s.a.func,onUpdateProjectTitle:s.a.func,projectTitle:s.a.string,reduxProjectTitle:s.a.string},t.defaultProps={onUpdateProjectTitle:()=>{}};return Object(m.e)(Object(l.b)(e=>{const t=e.scratchGui.projectState.loadingState;return{isAnyCreatingNewState:Object(g.h)(t),isShowingWithoutId:Object(g.t)(t),reduxProjectTitle:e.scratchGui.projectTitle}},e=>({onChangedProjectTitle:t=>e(Object(Q.c)(t))}))(t))}),(function(e){class t extends o.a.Component{constructor(e){super(e),F()(this,["getProjectThumbnail","leavePageConfirm","tryToAutoSave"])}componentWillMount(){"object"==typeof window&&(window.onbeforeunload=e=>this.leavePageConfirm(e)),this.props.onSetProjectThumbnailer(this.getProjectThumbnail),this.props.onSetProjectSaver(this.tryToAutoSave)}componentDidUpdate(e){if(!this.props.isAnyCreatingNewState&&e.isAnyCreatingNewState&&this.reportTelemetryEvent("projectWasCreated"),!this.props.isLoading&&e.isLoading&&this.reportTelemetryEvent("projectDidLoad"),this.props.projectChanged&&!e.projectChanged&&this.scheduleAutoSave(),this.props.isUpdating&&!e.isUpdating&&this.updateProjectToStorage(),this.props.isCreatingNew&&!e.isCreatingNew&&this.createNewProjectToStorage(),this.props.isCreatingCopy&&!e.isCreatingCopy&&this.createCopyToStorage(),this.props.isRemixing&&!e.isRemixing?(this.props.onRemixing(!0),this.createRemixToStorage()):!this.props.isRemixing&&e.isRemixing&&this.props.onRemixing(!1),e.isCreatingNew)return;if(this.isShowingCreatable(this.props)&&!this.isShowingCreatable(e)&&this.props.onCreateProject(),e.isUpdating)return;const t=this.props.canSave&&!e.canSave,n=this.props.isShared&&!e.isShared;this.props.isShowingSaveable&&(t||n)&&this.props.onAutoUpdateProject()}componentWillUnmount(){this.clearAutoSaveTimeout(),this.props.onSetProjectThumbnailer(null),this.props.onSetProjectSaver(null)}leavePageConfirm(e){if(this.props.projectChanged)return(e||window.event).returnValue=!0,!0}clearAutoSaveTimeout(){null!==this.props.autoSaveTimeoutId&&(clearTimeout(this.props.autoSaveTimeoutId),this.props.setAutoSaveTimeoutId(null))}scheduleAutoSave(){if(this.props.isShowingSaveable&&null===this.props.autoSaveTimeoutId){const e=setTimeout(this.tryToAutoSave,1e3*this.props.autoSaveIntervalSecs);this.props.setAutoSaveTimeoutId(e)}}tryToAutoSave(){this.props.projectChanged&&this.props.isShowingSaveable&&this.props.onAutoUpdateProject()}isShowingCreatable(e){return e.canCreateNew&&e.isShowingWithoutId}updateProjectToStorage(){return this.props.onShowSavingAlert(),this.storeProject(this.props.reduxProjectId).then(()=>{this.props.onUpdatedProject(this.props.loadingState),this.props.onShowSaveSuccessAlert()}).catch(e=>{this.props.onShowAlert("savingError"),this.props.onProjectError(e)})}createNewProjectToStorage(){return this.storeProject(null).then(e=>{this.props.onCreatedProject(e.id.toString(),this.props.loadingState)}).catch(e=>{this.props.onShowAlert("creatingError"),this.props.onProjectError(e)})}createCopyToStorage(){return this.props.onShowCreatingCopyAlert(),this.storeProject(null,{originalId:this.props.reduxProjectId,isCopy:1,title:this.props.reduxProjectTitle}).then(e=>{this.props.onCreatedProject(e.id.toString(),this.props.loadingState),this.props.onShowCopySuccessAlert()}).catch(e=>{this.props.onShowAlert("creatingError"),this.props.onProjectError(e)})}createRemixToStorage(){return this.props.onShowCreatingRemixAlert(),this.storeProject(null,{originalId:this.props.reduxProjectId,isRemix:1,title:this.props.reduxProjectTitle}).then(e=>{this.props.onCreatedProject(e.id.toString(),this.props.loadingState),this.props.onShowRemixSuccessAlert()}).catch(e=>{this.props.onShowAlert("creatingError"),this.props.onProjectError(e)})}storeProject(e,t){t=t||{},this.clearAutoSaveTimeout();const n=this.props.vm.toJSON();return Promise.all(this.props.vm.assets.filter(e=>!e.clean).map(e=>R.a.store(e.assetType,e.dataFormat,e.data,e.assetId).then(t=>{if("ok"!==t.status)return Promise.reject(t.code);e.clean=!0}))).then(()=>this.props.onUpdateProjectData(e,n,t)).then(e=>{this.props.onSetProjectUnchanged();const t=e.id.toString();return t&&this.props.onUpdateProjectThumbnail&&this.storeProjectThumbnail(t),this.reportTelemetryEvent("projectDidSave"),e}).catch(e=>{throw I.default.error(e),e})}storeProjectThumbnail(e){try{this.getProjectThumbnail(t=>{this.props.onUpdateProjectThumbnail(e,Object(ee.a)(t))})}catch(e){I.default.error("Project thumbnail save error",e)}}getProjectThumbnail(e){this.props.vm.postIOData("video",{forceTransparentPreview:!0}),this.props.vm.renderer.requestSnapshot(t=>{this.props.vm.postIOData("video",{forceTransparentPreview:!1}),e(t)}),this.props.vm.renderer.draw()}reportTelemetryEvent(e){try{if(this.props.onProjectTelemetryEvent){const t=Object($.a)(this.props.vm,this.props.reduxProjectTitle,this.props.locale);this.props.onProjectTelemetryEvent(e,t)}}catch(t){I.default.error("Telemetry error",e,t)}}render(){const t=this.props,{autoSaveTimeoutId:n,autoSaveIntervalSecs:a,isCreatingCopy:r,isCreatingNew:s,projectChanged:i,isAnyCreatingNewState:l,isLoading:c,isManualUpdating:d,isRemixing:u,isShowingSaveable:p,isShowingWithId:m,isShowingWithoutId:h,isUpdating:g,loadingState:f,onAutoUpdateProject:b,onCreatedProject:_,onCreateProject:v,onProjectError:y,onRemixing:w,onSetProjectUnchanged:S,onSetProjectThumbnailer:E,onSetProjectSaver:C,onShowAlert:k,onShowCopySuccessAlert:x,onShowRemixSuccessAlert:O,onShowCreatingCopyAlert:F,onShowCreatingRemixAlert:T,onShowSaveSuccessAlert:I,onShowSavingAlert:R,onUpdatedProject:j,onUpdateProjectData:D,onUpdateProjectThumbnail:A,reduxProjectId:P,reduxProjectTitle:M,setAutoSaveTimeoutId:N}=t,L=de(t,le);return o.a.createElement(e,ce({isCreating:l},L))}}t.propTypes={autoSaveIntervalSecs:s.a.number.isRequired,autoSaveTimeoutId:s.a.number,canCreateNew:s.a.bool,canSave:s.a.bool,isAnyCreatingNewState:s.a.bool,isCreatingCopy:s.a.bool,isCreatingNew:s.a.bool,isLoading:s.a.bool,isManualUpdating:s.a.bool,isRemixing:s.a.bool,isShared:s.a.bool,isShowingSaveable:s.a.bool,isShowingWithId:s.a.bool,isShowingWithoutId:s.a.bool,isUpdating:s.a.bool,loadingState:s.a.oneOf(g.a),locale:s.a.string.isRequired,onAutoUpdateProject:s.a.func,onCreateProject:s.a.func,onCreatedProject:s.a.func,onProjectError:s.a.func,onProjectTelemetryEvent:s.a.func,onRemixing:s.a.func,onSetProjectSaver:s.a.func.isRequired,onSetProjectThumbnailer:s.a.func.isRequired,onSetProjectUnchanged:s.a.func.isRequired,onShowAlert:s.a.func,onShowCopySuccessAlert:s.a.func,onShowCreatingCopyAlert:s.a.func,onShowCreatingRemixAlert:s.a.func,onShowRemixSuccessAlert:s.a.func,onShowSaveSuccessAlert:s.a.func,onShowSavingAlert:s.a.func,onUpdateProjectData:s.a.func.isRequired,onUpdateProjectThumbnail:s.a.func,onUpdatedProject:s.a.func,projectChanged:s.a.bool,reduxProjectId:s.a.oneOfType([s.a.string,s.a.number]),reduxProjectTitle:s.a.string,setAutoSaveTimeoutId:s.a.func.isRequired,vm:s.a.instanceOf(p.a).isRequired},t.defaultProps={autoSaveIntervalSecs:120,onRemixing:()=>{},onSetProjectThumbnailer:()=>{},onSetProjectSaver:()=>{},onUpdateProjectData:re};return Object(l.b)((e,t)=>{const n=e.scratchGui.projectState.loadingState,a=Object(g.s)(n);return{autoSaveTimeoutId:e.scratchGui.timeout.autoSaveTimeoutId,isAnyCreatingNewState:Object(g.h)(n),isLoading:Object(g.m)(n),isCreatingCopy:Object(g.i)(n),isCreatingNew:Object(g.j)(n),isRemixing:Object(g.q)(n),isShowingSaveable:t.canSave&&a,isShowingWithId:a,isShowingWithoutId:Object(g.t)(n),isUpdating:Object(g.u)(n),isManualUpdating:Object(g.p)(n),loadingState:n,locale:e.locales.locale,projectChanged:e.scratchGui.projectChanged,reduxProjectId:e.scratchGui.projectState.projectId,reduxProjectTitle:e.scratchGui.projectTitle,vm:e.scratchGui.vm}},e=>({onAutoUpdateProject:()=>e(Object(g.b)()),onCreatedProject:(t,n)=>e(Object(g.f)(t,n)),onCreateProject:()=>e(Object(g.c)()),onProjectError:t=>e(Object(g.y)(t)),onSetProjectUnchanged:()=>e(Object(T.d)()),onShowAlert:t=>e(Object(se.i)(t)),onShowCopySuccessAlert:()=>Object(se.g)(e,"createCopySuccess"),onShowRemixSuccessAlert:()=>Object(se.g)(e,"createRemixSuccess"),onShowCreatingCopyAlert:()=>Object(se.g)(e,"creatingCopy"),onShowCreatingRemixAlert:()=>Object(se.g)(e,"creatingRemix"),onShowSaveSuccessAlert:()=>Object(se.g)(e,"saveSuccess"),onShowSavingAlert:()=>Object(se.g)(e,"saving"),onUpdatedProject:t=>e(Object(g.g)(t)),setAutoSaveTimeoutId:t=>e(Object(ie.b)(t))}),(e,t,n)=>Object.assign({},e,t,n))(t)}),Ce,Ie,x.a,Ne,(function(e){class t extends o.a.Component{constructor(e){super(e),F()(this,["handleResize"])}componentDidMount(){window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}handleResize(){this.props.isFullScreen&&this.props.onSetDimensions([window.innerWidth,window.innerHeight])}render(){const t=this.props,{onSetDimensions:n,isFullScreen:a}=t,r=Be(t,Le);return o.a.createElement(e,r)}}t.propTypes={isFullScreen:s.a.bool,onSetDimensions:s.a.func};return Object(l.b)(e=>({isFullScreen:e.scratchGui.mode.isFullScreen||e.scratchGui.mode.isEmbedded}),e=>({onSetDimensions:t=>e(Object(ve.h)(t))}))(t)}),(function(e){class t extends o.a.Component{constructor(e){super(e),F()(this,["createRestorePoint"]),this.timeout=null}componentDidUpdate(e){ze||this.props.projectChanged===e.projectChanged&&this.props.isShowingProject===e.isShowingProject||(this.props.projectChanged&&this.props.isShowingProject?this.timeout=setTimeout(this.createRestorePoint,3e5):(clearTimeout(this.timeout),this.timeout=null))}componentWillUnmount(){clearTimeout(this.timeout)}async createRestorePoint(){try{this.props.onAutosavingStart(),await Ue.a.save(this.props.vm)}catch(e){ze=!0,alert(this.props.intl.formatMessage(He.error,{error:e}))}this.timeout=null,setTimeout(()=>{this.props.onAutosavingFinish(),null===this.timeout&&!ze&&this.props.projectChanged&&this.props.isShowingProject&&(this.timeout=setTimeout(this.createRestorePoint,3e5))},250)}render(){const t=this.props,{intl:n,projectChanged:a,onAutosavingStart:r,onAutosavingFinish:s,vm:i}=t,l=Ge(t,qe);return o.a.createElement(e,l)}}t.propTypes={intl:m.f,isShowingProject:s.a.bool,projectChanged:s.a.bool,onAutosavingStart:s.a.func,onAutosavingFinish:s.a.func,vm:s.a.instanceOf(p.a)};return Object(m.e)(Object(l.b)(e=>({isShowingProject:Object(g.r)(e.scratchGui.projectState.loadingState),projectChanged:e.scratchGui.projectChanged,vm:e.scratchGui.vm}),e=>({onAutosavingStart:()=>e(Object(se.i)("twAutosaving")),onAutosavingFinish:()=>e(Object(se.c)("twAutosaving"))}))(t))}))(i_);l_.setAppElement=d.a.setAppElement;var c_=l_;function d_(){return(d_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const u_=new URLSearchParams(location.search).get("cloud_host")||"wss://clouddata.turbowarp.org";t.a=e=>o.a.createElement(c_,d_({cloudHost:u_,canSave:!1,basePath:"",canEditTitle:!0,enableCommunity:!0},e))},function(e,t,n){"use strict";var a=n(4),o=n.n(a),r=n(6),s=n(38),i=n(2),l=n(0),c=n.n(l),d=n(5),u=n.n(d),p=n(338),m=n.n(p),h=n(1),g=n.n(h),f=n(12),b=n.n(f),_=n(7),v=n(55),y=n(343),w=n.n(y),S=n(440),E=n.n(S);const C=({className:e,onClick:t})=>g.a.createElement(v.a,{className:o()(e,E.a.communityButton),iconClassName:E.a.communityButtonIcon,iconSrc:w.a,onClick:t},g.a.createElement(i.a,{defaultMessage:"See Project Page",id:"gui.menuBar.seeProjectPage"}));C.propTypes={className:c.a.string,onClick:c.a.func},C.defaultProps={onClick:()=>{}};var k=C,x=n(441),O=n.n(x);const F=({className:e,isShared:t,onClick:n})=>g.a.createElement(v.a,{className:o()(e,O.a.shareButton,{[O.a.shareButtonIsShared]:t}),onClick:n},t?g.a.createElement(i.a,{defaultMessage:"Shared",id:"gui.menuBar.isShared"}):g.a.createElement(i.a,{defaultMessage:"Share",id:"gui.menuBar.share"}));F.propTypes={className:c.a.string,isShared:c.a.bool,onClick:c.a.func},F.defaultProps={onClick:()=>{}};var T=F,I=n(281),R=n(334),j=n(188),D=n(34),A=n(98),P=n(829),M=n.n(P);const N=[],L=({currentLocale:e,label:t,onChange:n})=>g.a.createElement("select",{"aria-label":t,className:M.a.languageSelect,value:e,onChange:n},Object.keys(A.a).filter(e=>!N.includes(e)).map(e=>g.a.createElement("option",{key:e,value:e},A.a[e].name)));L.propTypes={currentLocale:c.a.string,label:c.a.string,onChange:c.a.func};var B=L;const U=["onChangeLanguage","messagesByLocale","children"];function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function G(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class z extends g.a.Component{constructor(e){super(e),u()(this,["handleChange"]),document.documentElement.lang=e.currentLocale}handleChange(e){const t=e.target.value;this.props.messagesByLocale[t]&&(this.props.onChangeLanguage(t),document.documentElement.lang=t)}render(){const e=this.props,{onChangeLanguage:t,messagesByLocale:n,children:a}=e,o=G(e,U);return g.a.createElement(B,q({onChange:this.handleChange},o),a)}}z.propTypes={children:c.a.node,currentLocale:c.a.string.isRequired,messagesByLocale:c.a.object,onChangeLanguage:c.a.func.isRequired};var H=Object(r.b)(e=>({currentLocale:e.locales.locale,messagesByLocale:e.locales.messagesByLocale}),e=>({onChangeLanguage:t=>{e(Object(j.d)(t)),e(Object(D.h)())}}))(z),W=n(11);class V extends g.a.Component{constructor(e){super(e),u()(this,["waitForUpdate"]),this.state={waiting:!1}}componentDidUpdate(e){this.state.waiting&&this.props.isShowingWithId&&!e.isShowingWithId&&this.fulfill()}fulfill(){this.props.onDoneUpdating(),this.setState({waiting:!1})}waitForUpdate(e){e?this.setState({waiting:!0}):this.fulfill()}render(){return this.props.children(this.waitForUpdate)}}V.propTypes={children:c.a.func,isShowingWithId:c.a.bool,onDoneUpdating:c.a.func},V.defaultProps={onDoneUpdating:()=>{}};var K=Object(r.b)(e=>{const t=e.scratchGui.projectState.loadingState;return{isShowingWithId:Object(W.s)(t)}},()=>({}))(V),X=n(198),Q=n.n(X);const Y=({className:e="",children:t,componentRef:n,place:a="right"})=>g.a.createElement("ul",{className:o()(Q.a.menu,e,{[Q.a.left]:"left"===a,[Q.a.right]:"right"===a}),ref:n},t);Y.propTypes={children:c.a.node,className:c.a.string,componentRef:c.a.func,place:c.a.oneOf(["left","right"])};const J=({children:e,className:t,onClick:n})=>g.a.createElement("li",{className:o()(Q.a.menuItem,Q.a.hoverable,t),onClick:n},e);J.propTypes={children:c.a.node,className:c.a.string,onClick:c.a.func};const Z=(e,t)=>e&&g.a.cloneElement(e,{className:o()(e.className,{[Q.a.menuSection]:0===t}),key:t}),$=({children:e})=>g.a.createElement(g.a.Fragment,null,g.a.Children.map(e,Z));$.propTypes={children:c.a.node};const ee=["open","children"];function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ne(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class ae extends g.a.Component{constructor(e){super(e),u()(this,["addListeners","removeListeners","handleClick","ref"])}componentDidMount(){this.props.open&&this.addListeners()}componentDidUpdate(e){this.props.open&&!e.open&&this.addListeners(),!this.props.open&&e.open&&this.removeListeners()}componentWillUnmount(){this.removeListeners()}addListeners(){document.addEventListener("mouseup",this.handleClick)}removeListeners(){document.removeEventListener("mouseup",this.handleClick)}handleClick(e){this.props.open&&!this.menu.contains(e.target)&&this.props.onRequestClose()}ref(e){this.menu=e}render(){const e=this.props,{open:t,children:n}=e,a=ne(e,ee);return t?g.a.createElement(Y,te({componentRef:this.ref},a),n):null}}ae.propTypes={children:c.a.node,onRequestClose:c.a.func.isRequired,open:c.a.bool.isRequired};var oe=ae;const re=({children:e,className:t,onRequestClose:n,open:a,place:o="right"})=>g.a.createElement("div",{className:t},g.a.createElement(oe,{open:a,place:o,onRequestClose:n},e));re.propTypes={children:c.a.node,className:c.a.string,onRequestClose:c.a.func,open:c.a.bool,place:c.a.oneOf(["left","right"])};var se=re,ie=n(66),le=n(124),ce=n(106),de=n(830),ue=n.n(de);const pe=Object(le.a)(ce.a),me=Object(i.d)({projectTitlePlaceholder:{id:"gui.gui.projectTitlePlaceholder",defaultMessage:"Project title here"}}),he=({className:e,intl:t,onSubmit:n,projectTitle:a})=>g.a.createElement(pe,{className:o()(ue.a.titleField,e),maxLength:"100",placeholder:t.formatMessage(me.projectTitlePlaceholder),tabIndex:"0",type:"text",value:a,onSubmit:n});he.propTypes={className:c.a.string,intl:i.f.isRequired,onSubmit:c.a.func,projectTitle:c.a.string};var ge=Object(i.e)(Object(r.b)(e=>({projectTitle:e.scratchGui.projectTitle}),e=>({onSubmit:t=>e(Object(ie.c)(t))}))(he)),fe=n(831),be=n.n(fe);const _e=({className:e,imageUrl:t})=>g.a.createElement("img",{className:o()(e,be.a.userThumbnail),src:t});_e.propTypes={className:c.a.string,imageUrl:c.a.string};var ve=_e,ye=n(177),we=n.n(ye);const Se=["projectId"];function Ee(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Ce=({className:e,imageUrl:t,projectTitle:n,userId:a,username:r})=>g.a.createElement("div",{className:o()(e,we.a.authorInfo)},g.a.createElement(ve,{className:we.a.avatar,imageUrl:t}),g.a.createElement("div",{className:we.a.titleAuthor},g.a.createElement("h1",{className:we.a.projectTitle},n),g.a.createElement("div",null,g.a.createElement("span",{className:we.a.usernameLine},g.a.createElement(i.a,{defaultMessage:"by {username}",id:"gui.authorInfo.byUser",values:{username:g.a.createElement("span",{className:we.a.username},r)}})))));Ce.propTypes={className:c.a.string,imageUrl:c.a.string,projectTitle:c.a.string,userId:c.a.oneOfType([c.a.string,c.a.bool]),username:c.a.oneOfType([c.a.string,c.a.bool])};const ke=e=>{let{projectId:t}=e,n=Ee(e,Se);return t?g.a.createElement("a",{className:we.a.link,href:"https://scratch.mit.edu/projects/".concat(t),target:"_blank",rel:"noreferrer"},g.a.createElement(Ce,n)):g.a.createElement(Ce,n)};ke.propTypes={projectId:c.a.string};var xe=ke,Oe=n(163),Fe=n(115);const Te=["children","dispatchUpdateRestore"];function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class Ae extends g.a.Component{constructor(e){super(e),u()(this,["restoreDeletion"])}restoreDeletion(){"function"==typeof this.props.restore&&(this.props.restore(),this.props.dispatchUpdateRestore({restoreFun:null,deletedItem:""}))}render(){const e=this.props,{children:t,dispatchUpdateRestore:n}=e,a=De(e,Te),o="function"==typeof this.props.restore;return this.props.children(this.restoreDeletion,Re(Re({},a),{},{restorable:o}))}}Ae.propTypes={children:c.a.func,deletedItem:c.a.string,dispatchUpdateRestore:c.a.func,restore:c.a.func};var Pe=Object(r.b)(e=>({deletedItem:e.scratchGui.restoreDeletion.deletedItem,restore:e.scratchGui.restoreDeletion.restoreFun}),e=>({dispatchUpdateRestore:t=>{e(Object(Fe.c)(t))}}))(Ae);const Me=["children","vm"];function Ne(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class Le extends g.a.Component{constructor(e){super(e),u()(this,["toggleTurboMode"])}toggleTurboMode(){this.props.vm.setTurboMode(!this.props.turboMode)}render(){const e=this.props,{children:t,vm:n}=e,a=Ne(e,Me);return this.props.children(this.toggleTurboMode,a)}}Le.propTypes={children:c.a.func,turboMode:c.a.bool,vm:c.a.shape({setTurboMode:c.a.func})};var Be=Object(r.b)(e=>({vm:e.scratchGui.vm,turboMode:e.scratchGui.vmStatus.turbo}),()=>({}))(Le);const Ue=["projectChanged"];function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ge(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ze=function(e){class t extends g.a.PureComponent{constructor(e){super(e),u()(this,["confirmReadyToReplaceProject","shouldSaveBeforeTransition"])}confirmReadyToReplaceProject(e){let t=!0;return this.props.projectChanged&&!this.props.canCreateNew&&(t=this.props.confirmWithMessage(e)),t}shouldSaveBeforeTransition(){return this.props.canSave&&this.props.projectChanged}render(){const t=this.props,{projectChanged:n}=t,a=Ge(t,Ue);return g.a.createElement(Oe.a,null,(t,n,o)=>g.a.createElement(e,qe({confirmReadyToReplaceProject:this.confirmReadyToReplaceProject,shouldSaveBeforeTransition:this.shouldSaveBeforeTransition,handleSaveProject:o.smartSave},a)))}}t.propTypes={canCreateNew:c.a.bool,canSave:c.a.bool,confirmWithMessage:c.a.func,projectChanged:c.a.bool},t.defaultProps={confirmWithMessage:e=>confirm(e)};return Object(r.b)(e=>({projectChanged:e.scratchGui.projectChanged}),()=>({}),(e,t,n)=>Object.assign({},e,t,n))(t)};const He=["intl","children","vm"];function We(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Ve=Object(i.d)({newFramerate:{id:"tw.menuBar.newFramerate",defaultMessage:"New framerate:"}});class Ke extends g.a.Component{constructor(e){super(e),u()(this,["changeFramerate"])}changeFramerate(e){if(e&&(e.ctrlKey||e.shiftKey)){const e=prompt(this.props.intl.formatMessage(Ve.newFramerate),this.props.framerate);if(null===e)return;const t=+e;isFinite(t)&&t>0&&this.props.vm.setFramerate(t)}else 60===this.props.framerate?this.props.vm.setFramerate(30):this.props.vm.setFramerate(60)}render(){const e=this.props,{intl:t,children:n,vm:a}=e,o=We(e,He);return this.props.children(this.changeFramerate,o)}}Ke.propTypes={intl:i.f,children:c.a.func,framerate:c.a.number,vm:c.a.instanceOf(b.a)};var Xe=Object(i.e)(Object(r.b)(e=>({framerate:e.scratchGui.tw.framerate,vm:e.scratchGui.vm}),()=>({}))(Ke)),Qe=n(19);const Ye=Object(i.d)({cannotChangeWhileRunning:{id:"tw.changeUsername.cannotChangeWhileRunning",defaultMessage:"Username cannot be changed while the project is running."}});class Je extends g.a.Component{constructor(e){super(e),u()(this,["changeUsername"])}changeUsername(){this.props.running?alert(this.props.intl.formatMessage(Ye.cannotChangeWhileRunning)):this.props.onOpenUsernameModal()}render(){return this.props.children(this.changeUsername,{running:this.props.running})}}Je.propTypes={children:c.a.func,onOpenUsernameModal:c.a.func,running:c.a.bool,intl:i.f};var Ze=Object(i.e)(Object(r.b)(e=>({running:e.scratchGui.vmStatus.running}),e=>({onOpenUsernameModal:()=>{e(Object(Qe.y)()),e(Object(D.e)())}}))(Je)),$e=n(26);const et=["children"];function tt(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const nt=Object(i.d)({cloudUnavailableAlert:{id:"tw.menuBar.cloudUnavailableAlert",defaultMessage:"Cannot use cloud variables, most likely because you opened the editor."}});class at extends g.a.Component{constructor(e){super(e),u()(this,["toggleCloudVariables"])}toggleCloudVariables(){this.props.canUseCloudVariables?this.props.onCloudChange(!this.props.enabled):alert(this.props.intl.formatMessage(nt.cloudUnavailableAlert))}render(){const e=this.props,{children:t}=e,n=tt(e,et);return this.props.children(this.toggleCloudVariables,n)}}at.propTypes={intl:i.f,children:c.a.func,enabled:c.a.bool,username:c.a.string,onCloudChange:c.a.func,canUseCloudVariables:c.a.bool};var ot=Object(i.e)(Object(r.b)(e=>({username:e.scratchGui.tw.username,enabled:e.scratchGui.tw.cloud,canUseCloudVariables:!e.scratchGui.mode.hasEverEnteredEditor}),e=>({onCloudChange:t=>e(Object($e.e)(t))}))(at)),rt=n(421),st=n(27),it=n(210),lt=n(82),ct=n(358),dt=n.n(ct);const ut=({content:e,iconSpinner:t,level:n})=>g.a.createElement("div",{className:o()(dt.a.inlineMessage,dt.a[n])},t&&g.a.createElement(it.a,{small:!0,className:dt.a.spinner,level:"info"}),e);ut.propTypes={content:c.a.element,iconSpinner:c.a.bool,level:c.a.string},ut.defaultProps={level:lt.a.INFO};var pt=ut;const mt=({alertsList:e,className:t})=>{if(!e)return null;const n=Object(st.e)(e);if(!n||!n.length)return null;const a=n[0],{content:o,iconSpinner:r,level:s}=a;return g.a.createElement(pt,{className:t,content:o,iconSpinner:r,level:s})};mt.propTypes={alertsList:c.a.arrayOf(c.a.object),className:c.a.string};var ht=Object(r.b)(e=>({alertsList:e.scratchGui.alerts.alertsList}),()=>({}))(mt),gt=n(832),ft=n.n(gt);const bt=({alertsList:e,fileHandle:t,projectChanged:n})=>Object(st.e)(e).length>0?g.a.createElement(ht,null):n&&g.a.createElement(Oe.a,null,(e,n,{smartSave:a})=>g.a.createElement("div",{onClick:a,className:ft.a.saveNow},t?g.a.createElement(i.a,{defaultMessage:"Save as {file}",id:"tw.menuBar.saveAs",values:{file:t.name}}):g.a.createElement(i.a,{defaultMessage:"Save to your computer",id:"gui.menuBar.downloadToComputer"})));bt.propTypes={alertsList:c.a.arrayOf(c.a.object),fileHandle:c.a.shape({name:c.a.string}),projectChanged:c.a.bool};var _t=Object(r.b)(e=>({alertsList:e.scratchGui.alerts.alertsList,fileHandle:e.scratchGui.tw.fileHandle,projectChanged:e.scratchGui.projectChanged}),()=>({}))(bt),vt=n(73),yt=n(329),wt=n(13),St=n.n(wt),Et=(n(422),n(1527),n(1528),n(833)),Ct=n.n(Et),kt=n(442),xt=n.n(kt),Ot=n(834),Ft=n.n(Ot),Tt=n(443),It=n.n(Tt),Rt=n(835),jt=n.n(Rt),Dt=n(836),At=n.n(Dt),Pt=n(837),Mt=n.n(Pt),Nt=n(84),Lt=n(444),Bt=n.n(Lt);const Ut=({className:e,onClick:t})=>g.a.createElement(v.a,{className:o()(e,Bt.a.seeInsideButton),iconClassName:Bt.a.seeInsideButtonIcon,iconSrc:w.a,iconWidth:"20",iconHeight:"20",onClick:t},g.a.createElement(i.a,{defaultMessage:"See inside",id:"tw.menuBar.seeInside"}));Ut.propTypes={className:c.a.string,onClick:c.a.func},Ut.defaultProps={onClick:()=>{}};var qt=Ut;const Gt=Object(i.d)({language:{id:"gui.menuBar.LanguageSelector",defaultMessage:"language selector"},tutorials:{id:"gui.menuBar.tutorialsLibrary",defaultMessage:"Tutorials"}}),zt=Object(i.d)({compileError:{id:"tw.menuBar.compileError",defaultMessage:"{sprite}: {error}"}}),Ht=({children:e,className:t,enable:n,id:a,place:r="bottom"})=>n?g.a.createElement(g.a.Fragment,null,e):g.a.createElement(I.a,{className:o()(St.a.comingSoon,t),place:r,tooltipClassName:St.a.comingSoonTooltip,tooltipId:a},e);Ht.propTypes={children:c.a.node,className:c.a.string,enable:c.a.bool,id:c.a.string,place:c.a.oneOf(["top","bottom","left","right"])};c.a.node,c.a.string,c.a.string,c.a.bool;const Wt=e=>g.a.createElement(v.a,{className:o()(St.a.menuBarItem,St.a.hoverable),iconClassName:St.a.aboutIcon,iconSrc:It.a,onClick:e.onClick});Wt.propTypes={onClick:c.a.func.isRequired};const Vt=e=>g.a.createElement("a",{href:e.href,target:"_blank",rel:"noopener",className:St.a.menuItemLink},g.a.createElement(J,null,e.children));Vt.propTypes={children:c.a.node.isRequired,href:c.a.string.isRequired};class Kt extends g.a.Component{constructor(e){super(e),u()(this,["handleClickSeeInside","handleClickNew","handleClickRemix","handleClickSave","handleClickSaveAsCopy","handleClickSeeCommunity","handleClickShare","handleKeyPress","handleLanguageMouseUp","handleRestoreOption","getSaveToComputerHandler","restoreOptionMessage"])}componentDidMount(){document.addEventListener("keydown",this.handleKeyPress)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyPress)}handleClickNew(){const e=this.props.confirmReadyToReplaceProject(this.props.intl.formatMessage(Nt.a.replaceProjectWarning));this.props.onRequestCloseFile(),e&&this.props.onClickNew(this.props.canSave&&this.props.canCreateNew),this.props.onRequestCloseFile()}handleClickRemix(){this.props.onClickRemix(),this.props.onRequestCloseFile()}handleClickSave(){this.props.onClickSave(),this.props.onRequestCloseFile()}handleClickSaveAsCopy(){this.props.onClickSaveAsCopy(),this.props.onRequestCloseFile()}handleClickSeeCommunity(e){this.props.shouldSaveBeforeTransition()?(this.props.autoUpdateProject(),e(!0)):e(!1)}handleClickShare(e){this.props.isShared||(this.props.canShare&&this.props.onShare(),this.props.canSave?(this.props.autoUpdateProject(),e(!0)):e(!1))}handleRestoreOption(e){return()=>{e(),this.props.onRequestCloseEdit()}}handleKeyPress(e){(m.a.mac?e.metaKey:e.ctrlKey)&&"s"===e.key&&(this.props.handleSaveProject(),e.preventDefault())}getSaveToComputerHandler(e){return()=>{if(this.props.onRequestCloseFile(),e(),this.props.onProjectTelemetryEvent){const e=Object(yt.a)(this.props.vm,this.props.projectTitle,this.props.locale);this.props.onProjectTelemetryEvent("projectDidSave",e)}}}handleLanguageMouseUp(e){this.props.languageMenuOpen||this.props.onClickLanguage(e)}restoreOptionMessage(e){switch(e){case"Sprite":return g.a.createElement(i.a,{defaultMessage:"Restore Sprite",id:"gui.menuBar.restoreSprite"});case"Sound":return g.a.createElement(i.a,{defaultMessage:"Restore Sound",id:"gui.menuBar.restoreSound"});case"Costume":return g.a.createElement(i.a,{defaultMessage:"Restore Costume",id:"gui.menuBar.restoreCostume"});default:return g.a.createElement(i.a,{defaultMessage:"Restore",id:"gui.menuBar.restore"})}}handleClickSeeInside(){this.props.onClickSeeInside()}buildAboutMenu(e){return e?"function"==typeof e?g.a.createElement(Wt,{onClick:e}):g.a.createElement("div",{className:o()(St.a.menuBarItem,St.a.hoverable,{[St.a.active]:this.props.aboutMenuOpen}),onMouseUp:this.props.onRequestOpenAbout},g.a.createElement("img",{className:St.a.aboutIcon,src:It.a}),g.a.createElement(se,{className:o()(St.a.menuBarMenu),open:this.props.aboutMenuOpen,place:this.props.isRtl?"right":"left",onRequestClose:this.props.onRequestCloseAbout},e.map(e=>g.a.createElement(J,{key:e.title,isRtl:this.props.isRtl,onClick:this.wrapAboutMenuCallback(e.onClick)},e.title)))):null}wrapAboutMenuCallback(e){return()=>{e(),this.props.onRequestCloseAbout()}}render(){const e=g.a.createElement(i.a,{defaultMessage:"Save now",id:"gui.menuBar.saveNow"}),t=g.a.createElement(i.a,{defaultMessage:"Save as a copy",id:"gui.menuBar.saveAsCopy"}),n=g.a.createElement(i.a,{defaultMessage:"Remix",id:"gui.menuBar.remix"}),a=g.a.createElement(i.a,{defaultMessage:"New",id:"gui.menuBar.new"}),r=g.a.createElement(v.a,{className:o()(St.a.menuBarButton,St.a.remixButton),iconClassName:St.a.remixButtonIcon,iconSrc:Ct.a,onClick:this.handleClickRemix},n),s=this.buildAboutMenu(this.props.onClickAbout);return g.a.createElement(_.a,{className:o()(this.props.className,St.a.menuBar)},g.a.createElement("div",{className:St.a.mainMenu},g.a.createElement("div",{className:St.a.fileGroup},this.props.onClickLogo?g.a.createElement("div",{className:o()(St.a.menuBarItem)},g.a.createElement("img",{alt:"Scratch",className:o()(St.a.scratchLogo,{[St.a.clickable]:void 0!==this.props.onClickLogo}),draggable:!1,src:this.props.logo,onClick:this.props.onClickLogo})):null,this.props.canChangeLanguage&&g.a.createElement("div",{className:o()(St.a.menuBarItem,St.a.hoverable,St.a.languageMenu)},g.a.createElement("div",null,g.a.createElement("img",{className:St.a.languageIcon,src:Ft.a,width:"24",height:"24"}),g.a.createElement("img",{className:St.a.languageCaret,src:xt.a,width:"8",height:"5"})),g.a.createElement(H,{label:this.props.intl.formatMessage(Gt.language)})),this.props.onClickTheme&&g.a.createElement("div",{className:o()(St.a.menuBarItem,St.a.hoverable),onMouseUp:this.props.onClickTheme},g.a.createElement("img",{src:At.a,width:"24",height:"24"})),this.props.compileErrors.length>0&&g.a.createElement("div",null,g.a.createElement("div",{className:o()(St.a.menuBarItem,St.a.hoverable,{[St.a.active]:this.props.errorsMenuOpen}),onMouseUp:this.props.onClickErrors},g.a.createElement("div",{className:o()(St.a.errorsMenu)},g.a.createElement("img",{className:St.a.languageIcon,src:jt.a}),g.a.createElement("img",{className:St.a.languageCaret,src:xt.a})),g.a.createElement(se,{className:o()(St.a.menuBarMenu),open:this.props.errorsMenuOpen,place:this.props.isRtl?"left":"right",onRequestClose:this.props.onRequestCloseErrors},g.a.createElement($,null,g.a.createElement(Vt,{href:"https://scratch.mit.edu/users/GarboMuffin/#comments"},g.a.createElement(i.a,{defaultMessage:"Some scripts could not be compiled.",id:"tw.menuBar.reportError1"})),g.a.createElement(Vt,{href:"https://scratch.mit.edu/users/GarboMuffin/#comments"},g.a.createElement(i.a,{defaultMessage:"This is a bug. Please report it.",id:"tw.menuBar.reportError2"}))),g.a.createElement($,null,this.props.compileErrors.map(({id:e,sprite:t,error:n})=>g.a.createElement(J,{key:e},this.props.intl.formatMessage(zt.compileError,{sprite:t,error:n}))))))),this.props.canManageFiles&&g.a.createElement("div",{className:o()(St.a.menuBarItem,St.a.hoverable,{[St.a.active]:this.props.fileMenuOpen}),onMouseUp:this.props.onClickFile},g.a.createElement(i.a,{defaultMessage:"File",id:"gui.menuBar.file"}),g.a.createElement(se,{className:o()(St.a.menuBarMenu),open:this.props.fileMenuOpen,place:this.props.isRtl?"left":"right",onRequestClose:this.props.onRequestCloseFile},g.a.createElement($,null,g.a.createElement(J,{isRtl:this.props.isRtl,onClick:this.handleClickNew},a)),(this.props.canSave||this.props.canCreateCopy||this.props.canRemix)&&g.a.createElement($,null,this.props.canSave&&g.a.createElement(J,{onClick:this.handleClickSave},e),this.props.canCreateCopy&&g.a.createElement(J,{onClick:this.handleClickSaveAsCopy},t),this.props.canRemix&&g.a.createElement(J,{onClick:this.handleClickRemix},n)),g.a.createElement($,null,g.a.createElement(J,{onClick:this.props.onStartSelectingFileUpload},this.props.intl.formatMessage(Nt.a.loadFromComputerTitle)),g.a.createElement(Oe.a,null,(e,t,n)=>g.a.createElement(g.a.Fragment,null,n.available&&g.a.createElement(g.a.Fragment,null,null!==n.name&&g.a.createElement(J,{onClick:this.getSaveToComputerHandler(n.saveToLastFile)},g.a.createElement(i.a,{defaultMessage:"Save as {file}",id:"tw.menuBar.saveAs",values:{file:n.name}})),g.a.createElement(J,{onClick:this.getSaveToComputerHandler(n.saveAsNew)},g.a.createElement(i.a,{defaultMessage:"Save to your computer",id:"gui.menuBar.downloadToComputer"}))),g.a.createElement(J,{onClick:this.getSaveToComputerHandler(t)},n.available?g.a.createElement(i.a,{defaultMessage:"{saveToYourComputer} (legacy)",id:"tw.menuBar.legacyDownloadToComputer",values:{saveToYourComputer:g.a.createElement(i.a,{defaultMessage:"Save to your computer",id:"gui.menuBar.downloadToComputer"})}}):g.a.createElement(i.a,{defaultMessage:"Save to your computer",id:"gui.menuBar.downloadToComputer"}))))),g.a.createElement($,null,g.a.createElement(rt.a,null,(e,t)=>g.a.createElement(J,{className:e,onClick:t},g.a.createElement(i.a,{defaultMessage:"Load restore point",id:"tw.menuBar.loadRestorePoint"})))))),g.a.createElement("div",{className:o()(St.a.menuBarItem,St.a.hoverable,{[St.a.active]:this.props.editMenuOpen}),onMouseUp:this.props.onClickEdit},g.a.createElement("div",{className:o()(St.a.editMenu)},g.a.createElement(i.a,{defaultMessage:"Edit",id:"gui.menuBar.edit"})),g.a.createElement(se,{className:o()(St.a.menuBarMenu),open:this.props.editMenuOpen,place:this.props.isRtl?"left":"right",onRequestClose:this.props.onRequestCloseEdit},this.props.isPlayerOnly?null:g.a.createElement(Pe,null,(e,{restorable:t,deletedItem:n})=>g.a.createElement(J,{className:o()({[St.a.disabled]:!t}),onClick:this.handleRestoreOption(e)},this.restoreOptionMessage(n))),g.a.createElement($,null,g.a.createElement(Be,null,(e,{turboMode:t})=>g.a.createElement(J,{onClick:e},t?g.a.createElement(i.a,{defaultMessage:"Turn off Turbo Mode",id:"gui.menuBar.turboModeOff"}):g.a.createElement(i.a,{defaultMessage:"Turn on Turbo Mode",id:"gui.menuBar.turboModeOn"}))),g.a.createElement(Xe,null,(e,{framerate:t})=>g.a.createElement(J,{onClick:e},60===t?g.a.createElement(i.a,{defaultMessage:"Turn off 60 FPS Mode",id:"tw.menuBar.60off"}):g.a.createElement(i.a,{defaultMessage:"Turn on 60 FPS Mode",id:"tw.menuBar.60on"}))),g.a.createElement(Ze,null,e=>g.a.createElement(J,{onClick:e},g.a.createElement(i.a,{defaultMessage:"Change Username",id:"tw.menuBar.changeUsername"}))),g.a.createElement(ot,null,(e,{enabled:t,canUseCloudVariables:n})=>g.a.createElement(J,{className:o()({[St.a.disabled]:!n}),onClick:e},n?t?g.a.createElement(i.a,{defaultMessage:"Disable Cloud Variables",id:"tw.menuBar.cloudOff"}):g.a.createElement(i.a,{defaultMessage:"Enable Cloud Variables",id:"tw.menuBar.cloudOn"}):g.a.createElement(i.a,{defaultMessage:"Cloud Variables are not Available",id:"tw.menuBar.cloudUnavailable"})))),g.a.createElement($,null,g.a.createElement(J,{onClick:this.props.onClickSettings},g.a.createElement(i.a,{defaultMessage:"Advanced Settings",id:"tw.menuBar.moreSettings"}))))),this.props.onClickAddonSettings&&g.a.createElement("div",{className:o()(St.a.menuBarItem,St.a.hoverable),onMouseUp:this.props.onClickAddonSettings},g.a.createElement("div",null,g.a.createElement(i.a,{defaultMessage:"Addons",id:"tw.menuBar.addons"}))),g.a.createElement("div",{className:o()(St.a.menuBarItem,St.a.hoverable),onMouseUp:this.props.onClickSettings},g.a.createElement("div",null,g.a.createElement(i.a,{defaultMessage:"Advanced",id:"tw.menuBar.advanced"})))),g.a.createElement(R.a,{className:o()(St.a.divider)}),this.props.canEditTitle?g.a.createElement("div",{className:o()(St.a.menuBarItem,St.a.growable)},g.a.createElement(Ht,{enable:!0,id:"title-field"},g.a.createElement(ge,{className:o()(St.a.titleFieldGrowable)}))):this.props.authorUsername&&this.props.authorUsername!==this.props.username?g.a.createElement(xe,{className:St.a.authorInfo,imageUrl:this.props.authorThumbnailUrl,projectId:this.props.projectId,projectTitle:this.props.projectTitle,userId:this.props.authorId,username:this.props.authorUsername}):null,g.a.createElement("div",{className:o()(St.a.menuBarItem)},this.props.canShare?(this.props.isShowingProject||this.props.isUpdating)&&g.a.createElement(K,{onDoneUpdating:this.props.onSeeCommunity},e=>g.a.createElement(T,{className:St.a.menuBarButton,isShared:this.props.isShared,onClick:()=>{this.handleClickShare(e)}})):this.props.showComingSoon?g.a.createElement(Ht,{id:"share-button"},g.a.createElement(T,{className:St.a.menuBarButton})):[],this.props.canRemix?r:[]),g.a.createElement("div",{className:o()(St.a.menuBarItem,St.a.communityButtonWrapper)},this.props.enableCommunity?(this.props.isShowingProject||this.props.isUpdating)&&g.a.createElement(K,{onDoneUpdating:this.props.onSeeCommunity},e=>g.a.createElement(k,{className:St.a.menuBarButton,onClick:()=>{this.handleClickSeeCommunity(e)}})):this.props.showComingSoon?g.a.createElement(Ht,{id:"community-button"},g.a.createElement(k,{className:St.a.menuBarButton})):this.props.enableSeeInside?g.a.createElement(qt,{className:St.a.menuBarButton,onClick:this.handleClickSeeInside}):[]),g.a.createElement("div",{className:St.a.menuBarItem},g.a.createElement("a",{className:St.a.feedbackLink,href:"https://scratch.mit.edu/users/GarboMuffin/#comments",rel:"noopener noreferrer",target:"_blank"},g.a.createElement(v.a,{className:St.a.feedbackButton},g.a.createElement(i.a,{defaultMessage:"TurboWarp Feedback",id:"tw.feedbackButton"}))))),g.a.createElement("div",{className:St.a.accountInfoGroup},g.a.createElement("div",{className:St.a.menuBarItem},g.a.createElement(_t,null))),s)}}Kt.propTypes={enableSeeInside:c.a.bool,onClickSeeInside:c.a.func,aboutMenuOpen:c.a.bool,accountMenuOpen:c.a.bool,authorId:c.a.oneOfType([c.a.string,c.a.bool]),authorThumbnailUrl:c.a.string,authorUsername:c.a.oneOfType([c.a.string,c.a.bool]),autoUpdateProject:c.a.func,canChangeLanguage:c.a.bool,canCreateCopy:c.a.bool,canCreateNew:c.a.bool,canEditTitle:c.a.bool,canManageFiles:c.a.bool,canRemix:c.a.bool,canSave:c.a.bool,canShare:c.a.bool,className:c.a.string,compileErrors:c.a.arrayOf(c.a.shape({sprite:c.a.string,error:c.a.string,id:c.a.number})),confirmReadyToReplaceProject:c.a.func,editMenuOpen:c.a.bool,enableCommunity:c.a.bool,fileMenuOpen:c.a.bool,handleSaveProject:c.a.func,intl:i.f,isPlayerOnly:c.a.bool,isRtl:c.a.bool,isShared:c.a.bool,isShowingProject:c.a.bool,isUpdating:c.a.bool,languageMenuOpen:c.a.bool,locale:c.a.string.isRequired,loginMenuOpen:c.a.bool,logo:c.a.string,onClickAbout:c.a.oneOfType([c.a.func,c.a.arrayOf(c.a.shape({title:c.a.string,onClick:c.a.func}))]),onClickAccount:c.a.func,onClickAddonSettings:c.a.func,onClickTheme:c.a.func,onClickEdit:c.a.func,onClickFile:c.a.func,onClickLanguage:c.a.func,onClickLogin:c.a.func,onClickLogo:c.a.func,onClickNew:c.a.func,onClickRemix:c.a.func,onClickSave:c.a.func,onClickSaveAsCopy:c.a.func,onClickSettings:c.a.func,onClickErrors:c.a.func,onRequestCloseErrors:c.a.func,onLogOut:c.a.func,onOpenRegistration:c.a.func,onOpenTipLibrary:c.a.func,onProjectTelemetryEvent:c.a.func,onRequestOpenAbout:c.a.func,onRequestCloseAbout:c.a.func,onRequestCloseAccount:c.a.func,onRequestCloseEdit:c.a.func,onRequestCloseFile:c.a.func,onRequestCloseLanguage:c.a.func,onRequestCloseLogin:c.a.func,onSeeCommunity:c.a.func,onShare:c.a.func,onStartSelectingFileUpload:c.a.func,onToggleLoginOpen:c.a.func,projectId:c.a.string,projectTitle:c.a.string,renderLogin:c.a.func,sessionExists:c.a.bool,errorsMenuOpen:c.a.bool,shouldSaveBeforeTransition:c.a.func,showComingSoon:c.a.bool,userOwnsProject:c.a.bool,username:c.a.string,vm:c.a.instanceOf(b.a).isRequired},Kt.defaultProps={logo:Mt.a,onShare:()=>{}};t.a=Object(s.d)(i.e,ze,Object(r.b)((e,t)=>{const n=e.scratchGui.projectState.loadingState,a=e.session&&e.session.session&&e.session.session.user;return{aboutMenuOpen:Object(D.a)(e),accountMenuOpen:Object(D.b)(e),authorThumbnailUrl:e.scratchGui.tw.author.thumbnail,authorUsername:e.scratchGui.tw.author.username,compileErrors:e.scratchGui.tw.compileErrors,fileMenuOpen:Object(D.m)(e),editMenuOpen:Object(D.k)(e),isPlayerOnly:e.scratchGui.mode.isPlayerOnly,isRtl:e.locales.isRtl,isUpdating:Object(W.u)(n),isShowingProject:Object(W.r)(n),languageMenuOpen:Object(D.n)(e),locale:e.locales.locale,loginMenuOpen:Object(D.o)(e),projectId:e.scratchGui.projectState.projectId,projectTitle:e.scratchGui.projectTitle,sessionExists:e.session&&void 0!==e.session.session,errorsMenuOpen:Object(D.l)(e),username:a?a.username:null,userOwnsProject:t.authorUsername&&a&&t.authorUsername===a.username,vm:e.scratchGui.vm}},e=>({onClickSeeInside:()=>e(Object(vt.d)(!1)),autoUpdateProject:()=>e(Object(W.b)()),onOpenTipLibrary:()=>e(Object(Qe.x)()),onClickAccount:()=>e(Object(D.r)()),onRequestCloseAccount:()=>e(Object(D.d)()),onClickFile:()=>e(Object(D.u)()),onRequestCloseFile:()=>e(Object(D.g)()),onClickEdit:()=>e(Object(D.s)()),onRequestCloseEdit:()=>e(Object(D.e)()),onClickLanguage:()=>e(Object(D.v)()),onRequestCloseLanguage:()=>e(Object(D.h)()),onClickLogin:()=>e(Object(D.w)()),onRequestCloseLogin:()=>e(Object(D.i)()),onClickErrors:()=>e(Object(D.t)()),onRequestCloseErrors:()=>e(Object(D.f)()),onRequestOpenAbout:()=>e(Object(D.q)()),onRequestCloseAbout:()=>e(Object(D.c)()),onClickNew:t=>{e(Object(W.B)(t)),e(Object($e.i)(null))},onClickRemix:()=>e(Object(W.A)()),onClickSave:()=>e(Object(W.v)()),onClickSaveAsCopy:()=>e(Object(W.D)()),onClickSettings:()=>{e(Object(Qe.t)()),e(Object(D.e)())},onSeeCommunity:()=>e(Object(vt.d)(!0))})))(Kt)},function(e,t,n){"use strict";var a=n(1),o=n.n(a),r=n(0),s=n.n(r),i=n(64),l=n.n(i),c=n(7),d=n(2),u=n(225),p=n.n(u);const m=["intl"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const _=Object(d.d)({label:{id:"gui.webglModal.label",defaultMessage:"Your Browser Does Not Support WebGL"}}),v=e=>{let{intl:t}=e,n=b(e,m);return o.a.createElement(l.a,{isOpen:!0,className:p.a.modalContent,contentLabel:t.formatMessage(g({},_.label)),overlayClassName:p.a.modalOverlay},o.a.createElement("div",{dir:n.isRtl?"rtl":"ltr"},o.a.createElement(c.a,{className:p.a.illustration}),o.a.createElement(c.a,{className:p.a.body},o.a.createElement("h2",null,o.a.createElement(d.a,_.label)),o.a.createElement("p",null,o.a.createElement(d.a,{defaultMessage:"Unfortunately it looks like your browser or computer {webGlLink}. This technology is needed for this site to run. Try updating your browser and graphics drivers or restarting your computer.",id:"tw.webglModal.description",values:{webGlLink:o.a.createElement("a",{className:p.a.faqLink,href:"https://get.webgl.org/"},o.a.createElement(d.a,{defaultMessage:"does not support WebGL",id:"gui.webglModal.webgllink"}))}})))))};v.propTypes={intl:d.f.isRequired,isRtl:s.a.bool};var y=Object(d.e)(v);class w extends o.a.Component{render(){return o.a.createElement(y,{isRtl:this.props.isRtl})}}w.propTypes={isRtl:s.a.bool};t.a=w},,function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i}));const a="scratch-gui/color-picker/SET_CALLBACK",o={active:!1,callback:()=>{throw new Error("Color picker callback not initialized")}},r=function(e,t){switch(void 0===e&&(e=o),t.type){case"scratch-gui/color-picker/ACTIVATE_COLOR_PICKER":return Object.assign({},e,{active:!0,callback:t.callback});case"scratch-gui/color-picker/DEACTIVATE_COLOR_PICKER":return"string"==typeof t.color&&e.callback(t.color),Object.assign({},e,{active:!1});case a:return Object.assign({},e,{callback:t.callback});default:return e}},s=e=>({type:"scratch-gui/color-picker/ACTIVATE_COLOR_PICKER",callback:e}),i=e=>({type:"scratch-gui/color-picker/DEACTIVATE_COLOR_PICKER",color:e})},function(e,t,n){e.exports=n.p+"static/assets/cb666b99d3528f91b52f985dfb102afa.svg"},,function(e,t,n){"use strict";t.a={available:()=>document.fullscreenEnabled||document.webkitFullscreenEnabled,enabled:()=>void 0!==document.fullscreenElement?null!==document.fullscreenElement:void 0!==document.webkitFullscreenElement&&null!==document.webkitFullscreenElement,request:()=>{document.body.requestFullscreen?document.body.requestFullscreen():document.body.webkitRequestFullscreen&&document.body.webkitRequestFullscreen()},exit:()=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}}},function(e,t,n){var a=n(1390);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1411);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1429);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1518);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1523);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var a=n(130),o=n.n(a);const r="tw:language",s=e=>{try{const t=localStorage.getItem(r);if(t&&e.includes(t))return t}catch(e){}let t="en",n=window.navigator.userLanguage||window.navigator.language;n=n.toLowerCase(),e.includes(n)?t=n:(n=n.split("-")[0],e.includes(n)&&(t=n));const a=o.a.parse(location.search),s=[].concat(a.locale,a.lang).filter(e=>e);if(!s.length)return t;const i=s[0].toLowerCase();return e.includes(i)?i:t}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s}));const a="scratch-gui/connection-modal/setId",o={extensionId:null},r=function(e,t){switch(void 0===e&&(e=o),t.type){case a:return Object.assign({},e,{extensionId:t.extensionId});default:return e}},s=function(e){return{type:a,extensionId:e}}},function(e,t,n){"use strict";function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c}));const s={sprites:{},stage:{},highlightedTargetId:null,highlightedTargetTime:null},i=function(e,t){switch(void 0===e&&(e=s),t.type){case"scratch-gui/targets/UPDATE_TARGET_LIST":return Object.assign({},e,{sprites:t.targets.filter(e=>!e.isStage).reduce((e,t,n)=>Object.assign(e,{[t.id]:o({order:n},t)}),{}),stage:t.targets.filter(e=>e.isStage)[0]||{},editingTarget:t.editingTarget});case"scratch-gui/targets/HIGHLIGHT_TARGET":return Object.assign({},e,{highlightedTargetId:t.targetId,highlightedTargetTime:t.updateTime});default:return e}},l=function(e,t){return{type:"scratch-gui/targets/UPDATE_TARGET_LIST",targets:e,editingTarget:t}},c=function(e){return{type:"scratch-gui/targets/HIGHLIGHT_TARGET",targetId:e,updateTime:Date.now()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return c}));var a=n(2),o=n(98),r=n(424),s=n(185);Object(a.c)(o.c);const i={isRtl:!1,locale:"en",messagesByLocale:r.a,messages:r.a.en},l=function(e,t){switch(void 0===e&&(e=i),t.type){case"scratch-gui/locales/SELECT_LOCALE":return Object.assign({},e,{isRtl:Object(o.b)(t.locale),locale:t.locale,messagesByLocale:e.messagesByLocale,messages:e.messagesByLocale[t.locale]});case"scratch-gui/locales/UPDATE_LOCALES":return Object.assign({},e,{isRtl:e.isRtl,locale:e.locale,messagesByLocale:t.messagesByLocale,messages:t.messagesByLocale[e.locale]});default:return e}},c=function(e){try{localStorage.setItem(s.a,e)}catch(e){}return{type:"scratch-gui/locales/SELECT_LOCALE",locale:e}},d=function(e,t){return e.messagesByLocale.hasOwnProperty(t)?Object.assign({},e,{isRtl:Object(o.b)(t),locale:t,messagesByLocale:e.messagesByLocale,messages:e.messagesByLocale[t]}):e}},,,,,,function(e,t,n){var a=n(1258);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1397);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1428);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1434);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1520);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},,,,,,,,,,,,function(e,t,n){"use strict";var a=n(4),o=n.n(a),r=n(0),s=n.n(r),i=n(1),l=n.n(i),c=n(283),d=n.n(c);const u=function(e){const{className:t,level:n,small:a,large:r}=e;return l.a.createElement("div",{className:o()(t,d.a.spinner,d.a[n],{[d.a.small]:a,[d.a.large]:r})})};u.propTypes={className:s.a.string,large:s.a.bool,level:s.a.string,small:s.a.bool},u.defaultProps={className:"",large:!1,level:"info",small:!1},t.a=u},function(e,t,n){e.exports=n.p+"static/assets/94b06fb716871f81bec601724e29a457.svg"},function(e,t,n){e.exports=n.p+"static/assets/0fd9fd69a38ab79358df5a77b29702c8.svg"},function(e,t,n){e.exports=n.p+"static/assets/42157e6edddc19588c3c2ff188703799.svg"},,function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s}));const a={active:!1,mutator:null,callback:null},o=function(e,t){switch(void 0===e&&(e=a),t.type){case"scratch-gui/custom-procedures/ACTIVATE_CUSTOM_PROCEDURES":return Object.assign({},e,{active:!0,mutator:t.mutator,callback:t.callback});case"scratch-gui/custom-procedures/DEACTIVATE_CUSTOM_PROCEDURES":return t.mutator&&e.callback(t.mutator),Object.assign({},e,{active:!1,mutator:null,callback:null});case"scratch-gui/custom-procedures/SET_CALLBACK":return Object.assign({},e,{callback:t.callback});default:return e}},r=(e,t)=>({type:"scratch-gui/custom-procedures/ACTIVATE_CUSTOM_PROCEDURES",mutator:e,callback:t}),s=e=>({type:"scratch-gui/custom-procedures/DEACTIVATE_CUSTOM_PROCEDURES",mutator:e})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(21);const o={stageSize:a.c.large},r=function(e,t){switch(void 0===e&&(e=o),t.type){case"scratch-gui/StageSize/SET_STAGE_SIZE":return{stageSize:t.stageSize};default:return e}},s=function(e){return{type:"scratch-gui/StageSize/SET_STAGE_SIZE",stageSize:e}}},,,function(e,t,n){e.exports=n.p+"static/assets/bc45b073cd2fc0c2265374bdb4e05d67.svg"},,,function(e,t,n){var a=n(1424);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1511);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1515);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1532);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){const a=n(1095),o=n(1096),r=n(1097),s=n(1098),i=n(1099),l=n(1100),c=n(1101),d=n(17).default,u={"Sans Serif":a,Serif:o,Handwriting:r,Marker:s,Curly:i,Pixel:l,Scratch:c},p={};e.exports=()=>p,e.exports.loadFonts=()=>(()=>{const e=[];for(const t of Object.keys(u))e.push(fetch(u[t]).then(e=>{if(!e.ok)throw new Error("Cannot load font: ".concat(t," (invalid HTTP response)"));return e.blob()}).then(e=>new Promise((n,a)=>{const o=new FileReader;o.onload=()=>n(o.result),o.onerror=()=>a(new Error("Cannot load font: ".concat(t," (could not read)"))),o.readAsDataURL(e)})).then(e=>{p[t]='@font-face{font-family:"'.concat(t,'";src:url("').concat(e,'");}')}).catch(e=>{d.error(e)}));return Promise.all(e)})().then(()=>((()=>{if(document.getElementById("scratch-font-styles"))return;let e="";for(const t of Object.keys(u)){const n=p[t];n&&(e+=n)}const t=document.createElement("style");t.id="scratch-font-styles",t.textContent=e,document.body.insertBefore(t,document.body.firstChild)})(),(()=>{const e=[];if(document.fonts&&document.fonts.load)for(const t in p)e.push(document.fonts.load("12px ".concat(t)));return Promise.all(e)})())).catch(e=>{d.error(e)}),e.exports.FONTS=p},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s}));const a="scratch-gui/asset-drag/DRAG_UPDATE",o={dragging:!1,currentOffset:null,img:null},r=function(e,t){switch(void 0===e&&(e=o),t.type){case a:return Object.assign({},e,t.state);default:return e}},s=function(e){return{type:a,state:e}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r}));const a=!1,o=function(e,t){switch(void 0===e&&(e=a),t.type){case"scratch-gui/block-drag/BLOCK_DRAG_UPDATE":return t.areBlocksOverGui;default:return e}},r=function(e){return{type:"scratch-gui/block-drag/BLOCK_DRAG_UPDATE",areBlocksOverGui:e,meta:{throttle:30}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));const a="scratch-gui/mic-indicator/UPDATE",o=!1,r=function(e,t){switch(void 0===e&&(e=o),t.type){case a:return t.visible;default:return e}},s=function(e){return{type:a,visible:e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var a=n(95);const o=Object(a.OrderedMap)(),r=function(e,t){switch(void 0===e&&(e=o),t.type){case"scratch-gui/monitors/UPDATE_MONITORS":return t.monitors;default:return e}},s=function(e){return{type:"scratch-gui/monitors/UPDATE_MONITORS",monitors:e,meta:{throttle:30}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r}));const a=!1,o=function(e,t){switch(void 0===e&&(e=a),t.type){case"fontsLoaded/SET_FONTS_LOADED":return t.loaded;default:return e}},r=()=>({type:"fontsLoaded/SET_FONTS_LOADED",loaded:!0})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r}));const a={autoSaveTimeoutId:null},o=function(e,t){switch(void 0===e&&(e=a),t.type){case"timeout/SET_AUTOSAVE_TIMEOUT_ID":return Object.assign({},e,{autoSaveTimeoutId:t.id});default:return e}},r=e=>({type:"timeout/SET_AUTOSAVE_TIMEOUT_ID",id:e})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var a=n(318);const o={toolboxXML:Object(a.a)(!0)},r=function(e,t){switch(void 0===e&&(e=o),t.type){case"scratch-gui/toolbox/UPDATE_TOOLBOX":return Object.assign({},e,{toolboxXML:t.toolboxXML});default:return e}},s=function(e){return{type:"scratch-gui/toolbox/UPDATE_TOOLBOX",toolboxXML:e}}},function(e,t,n){"use strict";function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l}));const r="scratch-gui/workspace-metrics/UPDATE_METRICS",s={targets:{}},i=function(e,t){switch(void 0===e&&(e=s),t.type){case r:return Object.assign({},e,{targets:Object.assign({},e.targets,{[t.targetID]:{scrollX:t.scrollX,scrollY:t.scrollY,scale:t.scale}})});default:return e}},l=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:r},e)}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(5),o=n.n(a),r=n(4),s=n.n(r),i=n(2),l=n(0),c=n.n(l),d=n(1),u=n.n(d),p=n(65),m=n.n(p),h=n(176),g=n.n(h),f=n(827),b=n.n(f),_=n(828),v=n.n(_);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const w=Object(i.d)({message1:{id:"gui.comingSoon.message1",defaultMessage:"Don't worry, we're on it {emoji}"},message2:{id:"gui.comingSoon.message2",defaultMessage:"Coming Soon..."},message3:{id:"gui.comingSoon.message3",defaultMessage:"We're working on it {emoji}"}});class S extends u.a.Component{constructor(e){super(e),o()(this,["setHide","setShow","getRandomMessage"]),this.state={isShowing:!1}}setShow(){this.setState({isShowing:!0})}setHide(){this.setState({isShowing:!1})}getRandomMessage(){const e=[b.a,v.a],t=Math.floor(Math.random()*Object.keys(w).length)+1,n=Math.floor(Math.random()*Object.keys(e).length);return u.a.createElement(i.a,y({},w["message".concat(t)],{values:{emoji:u.a.createElement("img",{className:g.a.comingSoonImage,src:e[n]})}}))}render(){return u.a.createElement(m.a,{afterHide:this.setHide,afterShow:this.setShow,className:s()(g.a.comingSoon,this.props.className,{[g.a.show]:this.state.isShowing,[g.a.left]:"left"===this.props.place,[g.a.right]:"right"===this.props.place,[g.a.top]:"top"===this.props.place,[g.a.bottom]:"bottom"===this.props.place}),getContent:this.getRandomMessage,id:this.props.tooltipId})}}S.propTypes={className:c.a.string,intl:i.f,place:c.a.oneOf(["top","right","bottom","left"]),tooltipId:c.a.string.isRequired},S.defaultProps={place:"bottom"};const E=Object(i.e)(S),C=e=>u.a.createElement("div",{className:e.className},u.a.createElement("div",{"data-delay-hide":e.delayHide,"data-delay-show":e.delayShow,"data-effect":"solid","data-for":e.tooltipId,"data-place":e.place,"data-tip":"tooltip"},e.children),u.a.createElement(E,{className:e.tooltipClassName,place:e.place,tooltipId:e.tooltipId}));C.propTypes={children:c.a.node.isRequired,className:c.a.string,delayHide:c.a.number,delayShow:c.a.number,place:c.a.oneOf(["top","right","bottom","left"]),tooltipClassName:c.a.string,tooltipId:c.a.string.isRequired},C.defaultProps={delayHide:0,delayShow:0}},function(e,t,n){e.exports=n.p+"static/assets/572a212c2e777e3a9061c97453497009.png"},function(e,t,n){var a=n(1399);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1426);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1440);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},,function(e,t,n){var a=n(1534);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){"use strict";n(865),n(360)},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(2),o=n(6);t.a=Object(o.b)(e=>({key:e.locales.locale,locale:e.locales.locale,messages:e.locales.messages}))(a.b)},function(e,t,n){e.exports=n.p+"static/assets/6be143c7cb9d23c787f7f20674a76f72.svg"},function(e,t,n){e.exports=n.p+"static/assets/3286e2838658ebdb82f62d062b14e951.svg"},function(e,t,n){e.exports=n.p+"static/assets/0f9efe3bd6e80747dfa3aeb9e19997b5.svg"},function(e,t,n){e.exports=n.p+"static/assets/3d9e2585d6ed12b9fb994438e0c4c42a.svg"},function(e,t,n){e.exports=n.p+"static/assets/7b6399d516d5921bb199f57cdd8bbbbe.svg"},function(e,t,n){"use strict";var a=n(132);const o='<sep gap="36"/>',r=(e,t)=>{if(a.a.isLoaded()){return a.a.get().ScratchMsgs.translate(e,t)}return t},s=function(e){return e.replace(/[<>&'"]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})},i='<block type="argument_reporter_boolean"><field name="VALUE">is compiled?</field></block>',l='<category\n    name="TurboWarp"\n    id="tw"\n    colour="#FF4C4C"\n    secondaryColour="#FF3D3D">\n    <button text="The other blocks have moved" callbackKey="TW_MIGRATION"></button>\n    '.concat(i,"</category>");t.a=function(e,t=!0,n,a=[],c="",d="",u=""){t=e||t;const p=['<sep gap="36"/>'];c=s(c),d=s(d),u=s(u),a=a.slice();const m=e=>{const t=a.findIndex(t=>t.id===e);if(t>=0){const[e]=a.splice(t,1);return e.xml}},h=m("motion")||function(e,t,n){const a=r("MOTION_STAGE_SELECTED","Stage selected: no motion blocks");return'\n    <category name="%{BKY_CATEGORY_MOTION}" id="motion" colour="#4C97FF" secondaryColour="#3373CC">\n        '.concat(t?'\n        <label text="'.concat(a,'"></label>\n        '):'\n        <block type="motion_movesteps">\n            <value name="STEPS">\n                <shadow type="math_number">\n                    <field name="NUM">10</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="motion_turnright">\n            <value name="DEGREES">\n                <shadow type="math_number">\n                    <field name="NUM">15</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="motion_turnleft">\n            <value name="DEGREES">\n                <shadow type="math_number">\n                    <field name="NUM">15</field>\n                </shadow>\n            </value>\n        </block>\n        '.concat(o,'\n        <block type="motion_goto">\n            <value name="TO">\n                <shadow type="motion_goto_menu">\n                </shadow>\n            </value>\n        </block>\n        <block type="motion_gotoxy">\n            <value name="X">\n                <shadow id="movex" type="math_number">\n                    <field name="NUM">0</field>\n                </shadow>\n            </value>\n            <value name="Y">\n                <shadow id="movey" type="math_number">\n                    <field name="NUM">0</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="motion_glideto" id="motion_glideto">\n            <value name="SECS">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n            <value name="TO">\n                <shadow type="motion_glideto_menu">\n                </shadow>\n            </value>\n        </block>\n        <block type="motion_glidesecstoxy">\n            <value name="SECS">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n            <value name="X">\n                <shadow id="glidex" type="math_number">\n                    <field name="NUM">0</field>\n                </shadow>\n            </value>\n            <value name="Y">\n                <shadow id="glidey" type="math_number">\n                    <field name="NUM">0</field>\n                </shadow>\n            </value>\n        </block>\n        ').concat(o,'\n        <block type="motion_pointindirection">\n            <value name="DIRECTION">\n                <shadow type="math_angle">\n                    <field name="NUM">90</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="motion_pointtowards">\n            <value name="TOWARDS">\n                <shadow type="motion_pointtowards_menu">\n                </shadow>\n            </value>\n        </block>\n        ').concat(o,'\n        <block type="motion_changexby">\n            <value name="DX">\n                <shadow type="math_number">\n                    <field name="NUM">10</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="motion_setx">\n            <value name="X">\n                <shadow id="setx" type="math_number">\n                    <field name="NUM">0</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="motion_changeyby">\n            <value name="DY">\n                <shadow type="math_number">\n                    <field name="NUM">10</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="motion_sety">\n            <value name="Y">\n                <shadow id="sety" type="math_number">\n                    <field name="NUM">0</field>\n                </shadow>\n            </value>\n        </block>\n        ').concat(o,'\n        <block type="motion_ifonedgebounce"/>\n        ').concat(o,'\n        <block type="motion_setrotationstyle"/>\n        ').concat(o,'\n        <block id="').concat(n,'_xposition" type="motion_xposition"/>\n        <block id="').concat(n,'_yposition" type="motion_yposition"/>\n        <block id="').concat(n,'_direction" type="motion_direction"/>'),"\n        ").concat('<sep gap="36"/>',"\n    </category>\n    ")}(0,t,n),g=m("looks")||function(e,t,n,a,s){const i=r("LOOKS_HELLO","Hello!"),l=r("LOOKS_HMM","Hmm...");return'\n    <category name="%{BKY_CATEGORY_LOOKS}" id="looks" colour="#9966FF" secondaryColour="#774DCB">\n        '.concat(t?"":'\n        <block type="looks_sayforsecs">\n            <value name="MESSAGE">\n                <shadow type="text">\n                    <field name="TEXT">'.concat(i,'</field>\n                </shadow>\n            </value>\n            <value name="SECS">\n                <shadow type="math_number">\n                    <field name="NUM">2</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="looks_say">\n            <value name="MESSAGE">\n                <shadow type="text">\n                    <field name="TEXT">').concat(i,'</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="looks_thinkforsecs">\n            <value name="MESSAGE">\n                <shadow type="text">\n                    <field name="TEXT">').concat(l,'</field>\n                </shadow>\n            </value>\n            <value name="SECS">\n                <shadow type="math_number">\n                    <field name="NUM">2</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="looks_think">\n            <value name="MESSAGE">\n                <shadow type="text">\n                    <field name="TEXT">').concat(l,"</field>\n                </shadow>\n            </value>\n        </block>\n        ").concat(o,"\n        "),"\n        ").concat(t?'\n            <block type="looks_switchbackdropto">\n                <value name="BACKDROP">\n                    <shadow type="looks_backdrops">\n                        <field name="BACKDROP">'.concat(s,'</field>\n                    </shadow>\n                </value>\n            </block>\n            <block type="looks_switchbackdroptoandwait">\n                <value name="BACKDROP">\n                    <shadow type="looks_backdrops">\n                        <field name="BACKDROP">').concat(s,'</field>\n                    </shadow>\n                </value>\n            </block>\n            <block type="looks_nextbackdrop"/>\n        '):'\n            <block id="'.concat(n,'_switchcostumeto" type="looks_switchcostumeto">\n                <value name="COSTUME">\n                    <shadow type="looks_costume">\n                        <field name="COSTUME">').concat(a,'</field>\n                    </shadow>\n                </value>\n            </block>\n            <block type="looks_nextcostume"/>\n            <block type="looks_switchbackdropto">\n                <value name="BACKDROP">\n                    <shadow type="looks_backdrops">\n                        <field name="BACKDROP">').concat(s,'</field>\n                    </shadow>\n                </value>\n            </block>\n            <block type="looks_nextbackdrop"/>\n            ').concat(o,'\n            <block type="looks_changesizeby">\n                <value name="CHANGE">\n                    <shadow type="math_number">\n                        <field name="NUM">10</field>\n                    </shadow>\n                </value>\n            </block>\n            <block type="looks_setsizeto">\n                <value name="SIZE">\n                    <shadow type="math_number">\n                        <field name="NUM">100</field>\n                    </shadow>\n                </value>\n            </block>\n        '),"\n        ").concat(o,'\n        <block type="looks_changeeffectby">\n            <value name="CHANGE">\n                <shadow type="math_number">\n                    <field name="NUM">25</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="looks_seteffectto">\n            <value name="VALUE">\n                <shadow type="math_number">\n                    <field name="NUM">0</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="looks_cleargraphiceffects"/>\n        ').concat(o,"\n        ").concat(t?"":'\n            <block type="looks_show"/>\n            <block type="looks_hide"/>\n        '.concat(o,'\n            <block type="looks_gotofrontback"/>\n            <block type="looks_goforwardbackwardlayers">\n                <value name="NUM">\n                    <shadow type="math_integer">\n                        <field name="NUM">1</field>\n                    </shadow>\n                </value>\n            </block>\n        '),"\n        ").concat(t?'\n            <block id="backdropnumbername" type="looks_backdropnumbername"/>\n        ':'\n            <block id="'.concat(n,'_costumenumbername" type="looks_costumenumbername"/>\n            <block id="backdropnumbername" type="looks_backdropnumbername"/>\n            <block id="').concat(n,'_size" type="looks_size"/>\n        '),"\n        ").concat('<sep gap="36"/>',"\n    </category>\n    ")}(0,t,n,c,d),f=m("sound")||function(e,t,n,a){return'\n    <category name="%{BKY_CATEGORY_SOUND}" id="sound" colour="#D65CD6" secondaryColour="#BD42BD">\n        <block id="'.concat(n,'_sound_playuntildone" type="sound_playuntildone">\n            <value name="SOUND_MENU">\n                <shadow type="sound_sounds_menu">\n                    <field name="SOUND_MENU">').concat(a,'</field>\n                </shadow>\n            </value>\n        </block>\n        <block id="').concat(n,'_sound_play" type="sound_play">\n            <value name="SOUND_MENU">\n                <shadow type="sound_sounds_menu">\n                    <field name="SOUND_MENU">').concat(a,'</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="sound_stopallsounds"/>\n        ').concat(o,'\n        <block type="sound_changeeffectby">\n            <value name="VALUE">\n                <shadow type="math_number">\n                    <field name="NUM">10</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="sound_seteffectto">\n            <value name="VALUE">\n                <shadow type="math_number">\n                    <field name="NUM">100</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="sound_cleareffects"/>\n        ').concat(o,'\n        <block type="sound_changevolumeby">\n            <value name="VOLUME">\n                <shadow type="math_number">\n                    <field name="NUM">-10</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="sound_setvolumeto">\n            <value name="VOLUME">\n                <shadow type="math_number">\n                    <field name="NUM">100</field>\n                </shadow>\n            </value>\n        </block>\n        <block id="').concat(n,'_volume" type="sound_volume"/>\n        ').concat('<sep gap="36"/>',"\n    </category>\n    ")}(0,0,n,u),b=m("event")||function(e,t){return'\n    <category name="%{BKY_CATEGORY_EVENTS}" id="events" colour="#FFD500" secondaryColour="#CC9900">\n        <block type="event_whenflagclicked"/>\n        <block type="event_whenkeypressed">\n        </block>\n        '.concat(t?'\n            <block type="event_whenstageclicked"/>\n        ':'\n            <block type="event_whenthisspriteclicked"/>\n        ','\n        <block type="event_whenbackdropswitchesto">\n        </block>\n        ').concat(o,'\n        <block type="event_whengreaterthan">\n            <value name="VALUE">\n                <shadow type="math_number">\n                    <field name="NUM">10</field>\n                </shadow>\n            </value>\n        </block>\n        ').concat(o,'\n        <block type="event_whenbroadcastreceived">\n        </block>\n        <block type="event_broadcast">\n            <value name="BROADCAST_INPUT">\n                <shadow type="event_broadcast_menu"></shadow>\n            </value>\n        </block>\n        <block type="event_broadcastandwait">\n            <value name="BROADCAST_INPUT">\n              <shadow type="event_broadcast_menu"></shadow>\n            </value>\n        </block>\n        ').concat('<sep gap="36"/>',"\n    </category>\n    ")}(0,t),_=m("control")||function(e,t){return'\n    <category name="%{BKY_CATEGORY_CONTROL}" id="control" colour="#FFAB19" secondaryColour="#CF8B17">\n        <block type="control_wait">\n            <value name="DURATION">\n                <shadow type="math_positive_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n        </block>\n        '.concat(o,'\n        <block type="control_repeat">\n            <value name="TIMES">\n                <shadow type="math_whole_number">\n                    <field name="NUM">10</field>\n                </shadow>\n            </value>\n        </block>\n        <block id="forever" type="control_forever"/>\n        ').concat(o,'\n        <block type="control_if"/>\n        <block type="control_if_else"/>\n        <block id="wait_until" type="control_wait_until"/>\n        <block id="repeat_until" type="control_repeat_until"/>\n        <block id="while" type="control_while"/>\n        <block id="for_each" type="control_for_each">\n            <value name="VALUE">\n                <shadow type="math_whole_number">\n                    <field name="NUM">10</field>\n                </shadow>\n            </value>\n        </block>\n        ').concat(o,'\n        <block type="control_stop"/>\n        ').concat(o,"\n        ").concat(t?'\n            <block type="control_create_clone_of">\n                <value name="CLONE_OPTION">\n                    <shadow type="control_create_clone_of_menu"/>\n                </value>\n            </block>\n        ':'\n            <block type="control_start_as_clone"/>\n            <block type="control_create_clone_of">\n                <value name="CLONE_OPTION">\n                    <shadow type="control_create_clone_of_menu"/>\n                </value>\n            </block>\n            <block type="control_delete_this_clone"/>\n        ',"\n        ").concat('<sep gap="36"/>',"\n    </category>\n    ")}(0,t),v=m("sensing")||function(e,t){const n=r("SENSING_ASK_TEXT","What's your name?");return'\n    <category name="%{BKY_CATEGORY_SENSING}" id="sensing" colour="#4CBFE6" secondaryColour="#2E8EB8">\n        '.concat(t?"":'\n            <block type="sensing_touchingobject">\n                <value name="TOUCHINGOBJECTMENU">\n                    <shadow type="sensing_touchingobjectmenu"/>\n                </value>\n            </block>\n            <block type="sensing_touchingcolor">\n                <value name="COLOR">\n                    <shadow type="colour_picker"/>\n                </value>\n            </block>\n            <block type="sensing_coloristouchingcolor">\n                <value name="COLOR">\n                    <shadow type="colour_picker"/>\n                </value>\n                <value name="COLOR2">\n                    <shadow type="colour_picker"/>\n                </value>\n            </block>\n            <block type="sensing_distanceto">\n                <value name="DISTANCETOMENU">\n                    <shadow type="sensing_distancetomenu"/>\n                </value>\n            </block>\n            '.concat(o,"\n        "),"\n        ").concat(e?"":'\n            <block id="askandwait" type="sensing_askandwait">\n                <value name="QUESTION">\n                    <shadow type="text">\n                        <field name="TEXT">'.concat(n,"</field>\n                    </shadow>\n                </value>\n            </block>\n        "),'\n        <block id="answer" type="sensing_answer"/>\n        ').concat(o,'\n        <block type="sensing_keypressed">\n            <value name="KEY_OPTION">\n                <shadow type="sensing_keyoptions"/>\n            </value>\n        </block>\n        <block type="sensing_mousedown"/>\n        <block type="sensing_mousex"/>\n        <block type="sensing_mousey"/>\n        ').concat(t?"":"\n            ".concat(o,'\n            \'<block type="sensing_setdragmode" id="sensing_setdragmode"></block>\'+\n            ').concat(o,"\n        "),"\n        ").concat(o,'\n        <block id="loudness" type="sensing_loudness"/>\n        ').concat(o,'\n        <block id="timer" type="sensing_timer"/>\n        <block type="sensing_resettimer"/>\n        ').concat(o,'\n        <block id="of" type="sensing_of">\n            <value name="OBJECT">\n                <shadow id="sensing_of_object_menu" type="sensing_of_object_menu"/>\n            </value>\n        </block>\n        ').concat(o,'\n        <block id="current" type="sensing_current"/>\n        <block type="sensing_dayssince2000"/>\n        ').concat(o,'\n        <block type="sensing_username"/>\n        ').concat('<sep gap="36"/>',"\n    </category>\n    ")}(e,t),y=m("operators")||function(e){const t=r("OPERATORS_JOIN_APPLE","apple"),n=r("OPERATORS_JOIN_BANANA","banana"),a=r("OPERATORS_LETTEROF_APPLE","a");return'\n    <category name="%{BKY_CATEGORY_OPERATORS}" id="operators" colour="#40BF4A" secondaryColour="#389438">\n        <block type="operator_add">\n            <value name="NUM1">\n                <shadow type="math_number">\n                    <field name="NUM"/>\n                </shadow>\n            </value>\n            <value name="NUM2">\n                <shadow type="math_number">\n                    <field name="NUM"/>\n                </shadow>\n            </value>\n        </block>\n        <block type="operator_subtract">\n            <value name="NUM1">\n                <shadow type="math_number">\n                    <field name="NUM"/>\n                </shadow>\n            </value>\n            <value name="NUM2">\n                <shadow type="math_number">\n                    <field name="NUM"/>\n                </shadow>\n            </value>\n        </block>\n        <block type="operator_multiply">\n            <value name="NUM1">\n                <shadow type="math_number">\n                    <field name="NUM"/>\n                </shadow>\n            </value>\n            <value name="NUM2">\n                <shadow type="math_number">\n                    <field name="NUM"/>\n                </shadow>\n            </value>\n        </block>\n        <block type="operator_divide">\n            <value name="NUM1">\n                <shadow type="math_number">\n                    <field name="NUM"/>\n                </shadow>\n            </value>\n            <value name="NUM2">\n                <shadow type="math_number">\n                    <field name="NUM"/>\n                </shadow>\n            </value>\n        </block>\n        '.concat(o,'\n        <block type="operator_random">\n            <value name="FROM">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n            <value name="TO">\n                <shadow type="math_number">\n                    <field name="NUM">10</field>\n                </shadow>\n            </value>\n        </block>\n        ').concat(o,'\n        <block type="operator_gt">\n            <value name="OPERAND1">\n                <shadow type="text">\n                    <field name="TEXT"/>\n                </shadow>\n            </value>\n            <value name="OPERAND2">\n                <shadow type="text">\n                    <field name="TEXT">50</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="operator_lt">\n            <value name="OPERAND1">\n                <shadow type="text">\n                    <field name="TEXT"/>\n                </shadow>\n            </value>\n            <value name="OPERAND2">\n                <shadow type="text">\n                    <field name="TEXT">50</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="operator_equals">\n            <value name="OPERAND1">\n                <shadow type="text">\n                    <field name="TEXT"/>\n                </shadow>\n            </value>\n            <value name="OPERAND2">\n                <shadow type="text">\n                    <field name="TEXT">50</field>\n                </shadow>\n            </value>\n        </block>\n        ').concat(o,'\n        <block type="operator_and"/>\n        <block type="operator_or"/>\n        <block type="operator_not"/>\n        ').concat(o,"\n        ").concat(e?"":'\n            <block type="operator_join">\n                <value name="STRING1">\n                    <shadow type="text">\n                        <field name="TEXT">'.concat(t,' </field>\n                    </shadow>\n                </value>\n                <value name="STRING2">\n                    <shadow type="text">\n                        <field name="TEXT">').concat(n,'</field>\n                    </shadow>\n                </value>\n            </block>\n            <block type="operator_letter_of">\n                <value name="LETTER">\n                    <shadow type="math_whole_number">\n                        <field name="NUM">1</field>\n                    </shadow>\n                </value>\n                <value name="STRING">\n                    <shadow type="text">\n                        <field name="TEXT">').concat(t,'</field>\n                    </shadow>\n                </value>\n            </block>\n            <block type="operator_length">\n                <value name="STRING">\n                    <shadow type="text">\n                        <field name="TEXT">').concat(t,'</field>\n                    </shadow>\n                </value>\n            </block>\n            <block type="operator_contains" id="operator_contains">\n              <value name="STRING1">\n                <shadow type="text">\n                  <field name="TEXT">').concat(t,'</field>\n                </shadow>\n              </value>\n              <value name="STRING2">\n                <shadow type="text">\n                  <field name="TEXT">').concat(a,"</field>\n                </shadow>\n              </value>\n            </block>\n        "),"\n        ").concat(o,'\n        <block type="operator_mod">\n            <value name="NUM1">\n                <shadow type="math_number">\n                    <field name="NUM"/>\n                </shadow>\n            </value>\n            <value name="NUM2">\n                <shadow type="math_number">\n                    <field name="NUM"/>\n                </shadow>\n            </value>\n        </block>\n        <block type="operator_round">\n            <value name="NUM">\n                <shadow type="math_number">\n                    <field name="NUM"/>\n                </shadow>\n            </value>\n        </block>\n        ').concat(o,'\n        <block type="operator_mathop">\n            <value name="NUM">\n                <shadow type="math_number">\n                    <field name="NUM"/>\n                </shadow>\n            </value>\n        </block>\n        ').concat('<sep gap="36"/>',"\n    </category>\n    ")}(e),w=m("data")||'\n    <category\n        name="%{BKY_CATEGORY_VARIABLES}"\n        id="variables"\n        colour="#FF8C1A"\n        secondaryColour="#DB6E00"\n        custom="VARIABLE">\n    </category>\n    ',S=m("procedures")||'\n    <category\n        name="%{BKY_CATEGORY_MYBLOCKS}"\n        id="myBlocks"\n        colour="#FF6680"\n        secondaryColour="#FF4D6A"\n        custom="PROCEDURE">\n    </category>\n    ';let E=m("tw")||l;E.includes(i)||(E=E.replace("<block","".concat(i,"<block")));const C=['<xml style="display: none">',h,p,g,p,f,p,b,p,_,p,v,p,y,p,w,p,S,p,E];for(const e of a)C.push(p,e.xml);return C.push("</xml>"),C.join("\n")}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>{const e=Math.round(1e4*Math.random()).toString().padStart(4,"0");return"player".concat(e)}},,function(e,t,n){"use strict";t.a=function(e,t="",n=""){const a={projectName:t,language:n,spriteCount:0,blocksCount:0,costumesCount:0,listsCount:0,scriptCount:0,soundsCount:0,variablesCount:0};for(const t of e.runtime.targets){++a.spriteCount,a.blocksCount+=Object.keys(t.sprite.blocks._blocks).length,a.costumesCount+=t.sprite.costumes_.length,a.scriptCount+=t.sprite.blocks._scripts.length,a.soundsCount+=t.sprite.sounds.length;for(const e in t.variables){"list"===t.variables[e].type?++a.listsCount:++a.variablesCount}}return a}},,function(e,t,n){"use strict";var a=n(752),o=n.n(a);let r;const s=()=>{if(r)return r;if(!window.indexedDB)throw new Error("indexedDB is not supported");return new Promise((e,t)=>{const n=indexedDB.open("TW_AutoSave",1);n.onupgradeneeded=e=>{e.target.result.createObjectStore("project",{keyPath:"file"})},n.onsuccess=t=>{r=t.target.result,e(r)},n.onerror=()=>{t(new Error("DB error: ".concat(n.error)))}})};t.a={save:async e=>{const t=e.saveProjectSb3DontZip(),n=await s();return new Promise((e,a)=>{const o=n.transaction("project","readwrite");o.onerror=()=>{a(new Error("Save transaction error: ".concat(o.error)))};const r=[],s=o.objectStore("project");s.openCursor().onsuccess=n=>{const a=n.target.result;if(a){const e=a.key;t[e]?r.push(e):a.delete(),a.continue()}else{for(const e of Object.keys(t))"project.json"!==e&&r.includes(e)||s.put({file:e,data:t[e].buffer});e()}}})},load:async()=>{const e=await s();return new Promise((t,n)=>{const a=e.transaction("project","readonly");a.onerror=()=>{n(new Error("Load transaction error: ".concat(a.error)))};const r=new o.a;a.objectStore("project").openCursor().onsuccess=e=>{const a=e.target.result;if(a)r.file(a.key,a.value.data),a.continue();else{r.file("project.json")?t(r.generateAsync({type:"arraybuffer"})):n(new Error("Could not find project"))}}})}}},,function(e,t,n){e.exports=n.p+"static/assets/aaa4a3575852fe11d04f44c4a972ae73.svg"},function(e,t,n){"use strict";var a=n(4),o=n.n(a),r=n(0),s=n.n(r),i=n(1),l=n.n(i),c=n(759),d=n.n(c);const u=({className:e})=>l.a.createElement("div",{className:o()(d.a.divider,e)});u.propTypes={className:s.a.string},t.a=u},function(e,t,n){e.exports=n.p+"static/assets/497f797eeffe5fa7e6a626abc0db08a1.svg"},,,,function(e,t,n){e.exports=n.p+"static/assets/2e0c4790f8f9cf28e3c346b9cef0fcb6.svg"},,,,function(e,t,n){e.exports=n.p+"static/assets/2f9cda00a530ac237fc24063067377c3.svg"},function(e,t,n){e.exports=n.p+"static/assets/4b6100c9f591be6470cdfd4697de0b54.svg"},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(709),o=n.n(a);var r=()=>({targets:[{isStage:!0,name:"Stage",variables:{},lists:{},broadcasts:{},blocks:{},comments:{},currentCostume:0,costumes:[{assetId:"c17163c6954e9422ac2405de4c9d68c8",name:"",bitmapResolution:1,md5ext:"c17163c6954e9422ac2405de4c9d68c8.svg",dataFormat:"svg",rotationCenterX:207,rotationCenterY:16}],sounds:[],volume:100,layerOrder:0}],monitors:[],extensions:[],meta:{semver:"3.0.0",vm:"0.2.0",agent:""}}),s=n(113);const i="__missing__";t.b=()=>{const e=new s.TextEncoder,t=r();return[{id:i,assetType:"Project",dataFormat:"JSON",data:JSON.stringify(t)},{id:"c17163c6954e9422ac2405de4c9d68c8",assetType:"ImageVector",dataFormat:"SVG",data:e.encode(o.a)}]}},,,,,,,function(e,t,n){var a=n(1389);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1394);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1398);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1409);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1425);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1444);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1524);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1538);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(361);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(9)(!1)).push([e.i,'/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */\nhtml{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}\nbody{margin:0}\narticle,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}\naudio,canvas,progress,video{display:inline-block;vertical-align:baseline}\naudio:not([controls]){display:none;height:0}\n[hidden],template{display:none}\na{background-color:transparent}\na:active,a:hover{outline:0}\nabbr[title]{border-bottom:1px dotted}\nb,strong{font-weight:bold}\ndfn{font-style:italic}\nh1{font-size:2em;margin:.67em 0}\nmark{background:#ff0;color:#000}\nsmall{font-size:80%}\nsub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}\nsup{top:-0.5em}\nsub{bottom:-0.25em}\nimg{border:0}\nsvg:not(:root){overflow:hidden}\nfigure{margin:1em 40px}\nhr{box-sizing:content-box;height:0}\npre{overflow:auto}\ncode,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}\nbutton,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}\nbutton{overflow:visible}\nbutton,select{text-transform:none}\nbutton,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}\nbutton[disabled],html input[disabled]{cursor:default}\nbutton::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}\ninput{line-height:normal}\ninput[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}\ninput[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}\ninput[type="search"]{-webkit-appearance:textfield;box-sizing:content-box}\ninput[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}\nfieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}\nlegend{border:0;padding:0}\ntextarea{overflow:auto}\noptgroup{font-weight:bold}\ntable{border-collapse:collapse;border-spacing:0}\ntd,th{padding:0}\n',""])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a={appStateReducer:()=>{},appStateStore:null}},,,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i})),n.d(t,"ScratchPaintReducer",(function(){return c}));var a=n(1),o=n.n(a);let r;const s=()=>(r||(r=n(1951)),r),i=e=>o.a.createElement(s().default,e);let l=!1;const c=(e,t)=>(l||"scratch-gui/navigation/ACTIVATE_TAB"!==t.type||1!==t.activeTabIndex||(l=!0),l?s().ScratchPaintReducer(e,t):{})},,function(e,t,n){"use strict";var a=n(5),o=n.n(a),r=n(0),s=n.n(r),i=n(1),l=n.n(i),c=n(6),d=n(2),u=n(12),p=n.n(u),m=n(34),h=n(19),g=n(11),f=n(331);const b=Object(d.d)({error:{id:"tw.restorePoint.loadFail",defaultMessage:"Could not load restore point.\n\nDebug: {error}"},confirm:{id:"tw.restorePoint.confirm",defaultMessage:"TurboWarp records one automatic restore point in case something went wrong and you forgot to save. You shouldn't rely on this and we can't guarantee it will recover your project. Try to load it?"}});class _ extends l.a.Component{constructor(e){super(e),o()(this,["loadRestorePoint"])}loadRestorePoint(){confirm(this.props.intl.formatMessage(b.confirm))&&(this.props.onLoadingStarted(),this.props.requestProjectUpload(this.props.loadingState),f.a.load().then(e=>this.props.vm.loadProject(e)).then(()=>{this.props.onLoadingFinished(this.props.loadingState,!0)}).catch(e=>{this.props.onLoadingFinished(this.props.loadingState,!1),alert(this.props.intl.formatMessage(b.error,{error:e}))}))}render(){return this.props.children(this.props.className,this.loadRestorePoint)}}_.propTypes={intl:d.f,children:s.a.func,className:s.a.string,loadingState:s.a.string,onLoadingStarted:s.a.func,onLoadingFinished:s.a.func,requestProjectUpload:s.a.func,vm:s.a.instanceOf(p.a)};t.a=Object(d.e)(Object(c.b)(e=>({loadingState:e.scratchGui.projectState.loadingState,vm:e.scratchGui.vm}),e=>({onLoadingFinished:(t,n)=>{e(Object(g.x)(t,!1,n)),e(Object(h.e)()),e(Object(m.g)())},requestProjectUpload:t=>e(Object(g.C)(t)),onLoadingStarted:()=>e(Object(h.s)())}))(_))},function(e,t,n){e.exports=n.p+"static/assets/b433ee02a13fa2a12f7f7059f1f6729a.svg"},,,,,,,,function(e,t,n){var a=n(1393);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1427);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1433);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1435);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){e.exports=n.p+"static/assets/b8f0b40efdf6eafc02c3f894a5941818.svg"},function(e,t,n){var a=n(1442);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1443);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1445);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){e.exports=n.p+"static/assets/422b48c2206d5240a6717c92496ba21a.svg"},function(e,t,n){var a=n(1510);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1516);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1517);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){e.exports=n.p+"static/assets/664d94e5cb8676c780c74c695f2e972c.svg"},function(e,t,n){e.exports=n.p+"static/assets/5dbf111a76a93a93613ec81c16dfc6d3.svg"},function(e,t,n){var a=n(1529);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){e.exports=n.p+"static/assets/a80790c977586cc0595b5fe2f0bcb39a.svg"},function(e,t,n){e.exports=n.p+"static/assets/33592a76d0d0fdaa4a32b2ea41db5e16.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){const t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],a=new ArrayBuffer(t.length),o=new Uint8Array(a);for(let e=0;e<t.length;e++)o[e]=t.charCodeAt(e);return new Blob([a],{type:n})}n.d(t,"a",(function(){return a}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/assets/7eea42371f5ccb84b4fc7d0ba7331ea3.png"},function(e,t,n){e.exports=n.p+"static/assets/504d73be1b361b4b9ca7f655ce085dc6.svg"},function(e,t,n){e.exports=n.p+"static/assets/7679e8aa3b5a6b745823e00a7b950065.png"},function(e,t,n){e.exports=n.p+"static/assets/800f6f1573677d59954e8d3164602287.svg"},function(e,t,n){e.exports=n.p+"static/assets/a03436c2c26c934fc0a7997065971874.png"},function(e,t,n){e.exports=n.p+"static/assets/5e8eccd5a576638f029a1ed2deb4784b.svg"},function(e,t,n){e.exports=n.p+"static/assets/d6f130fb79e78e4dd351fd930e742bcc.png"},function(e,t,n){e.exports=n.p+"static/assets/c7ffd288176b935f835311512a224d4b.svg"},function(e,t,n){e.exports=n.p+"static/assets/b6162ffbfe48d4b6c67f0b469f1615ae.png"},function(e,t,n){e.exports=n.p+"static/assets/f40501ed87782097b1a4eec8747eb84a.png"},function(e,t,n){e.exports=n.p+"static/assets/c30d6a0e73cf38ad6ea7f5e4fe0428a3.png"},function(e,t,n){e.exports=n.p+"static/assets/d61429ad96a25ec2917ebc77d900aae0.svg"},function(e,t,n){e.exports=n.p+"static/assets/4b6ca5259f1271d510f081867e746847.png"},function(e,t,n){e.exports=n.p+"static/assets/84a9455c54ab68ad8dcf8b6f6465ae71.svg"},function(e,t,n){e.exports=n.p+"static/assets/6608d56b3dce2738b2b137569d305d3b.png"},function(e,t,n){e.exports=n.p+"static/assets/8e5e28b23ba596614a60d319d9c64165.svg"},function(e,t,n){e.exports=n.p+"static/assets/f011f09e649e804c4c0c8275a7d1ba5b.png"},function(e,t,n){e.exports=n.p+"static/assets/5f7a79af3db62e0f5b7306ac0bd5ebf9.svg"},function(e,t,n){e.exports=n.p+"static/assets/7130491bf33852e50503dcb4024c0279.svg"},function(e,t,n){e.exports=n.p+"static/assets/bf3ee9d7d91a231cde773f88f6799425.png"},function(e,t,n){e.exports=n.p+"static/assets/73773f78bf2bfc449218fbaee1922964.svg"},function(e,t,n){e.exports=n.p+"static/assets/d92e74438d72c2223692825df66e026e.svg"},function(e,t,n){e.exports=n.p+"static/assets/5a70df361bb00fa62b9338d89c92f377.png"},function(e,t,n){e.exports=n.p+"static/assets/60fc7acc624571cfa9d250d7d5cff041.svg"},function(e,t,n){e.exports=n.p+"static/assets/4d2b4af5075d8b7bf7cd7bf046458045.svg"},function(e,t,n){e.exports=n.p+"static/assets/4f4d22594d26b423831ddbbc3bf0d8ad.svg"},,function(e,t){e.exports='<svg version="1.1" width="2" height="2" viewBox="-1 -1 2 2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  \x3c!-- Exported by Scratch - http://scratch.mit.edu/ --\x3e\n</svg>'},function(e,t){e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="87.99945" height="88.00142" viewBox="0,0,87.99945,88.00142"><g transform="translate(-196.00028,-135.99929)"><g data-paper-data="{&quot;isPaintingLayer&quot;:true}" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" style="mix-blend-mode: normal"><path d="M280.76164,224.00071c-0.82849,0 -1.65698,-0.31661 -2.29021,-0.94721l-80.84584,-80.84848c-1.26384,-1.26384 -1.26384,-3.31657 0,-4.58041c1.26384,-1.26384 3.31657,-1.26384 4.58041,0l80.84584,80.84584c1.26384,1.26384 1.26384,3.31657 0,4.58041c-0.63324,0.6306 -1.46173,0.94985 -2.29021,0.94985z" fill="#d99e82"/><path d="M231.6304,153.81435c0,9.83892 -7.97614,17.81506 -17.81506,17.81506c-9.83892,0 -17.81506,-7.97614 -17.81506,-17.81506c0,-9.83892 7.97614,-17.81506 17.81506,-17.81506c9.83892,0 17.81506,7.97614 17.81506,17.81506z" fill="#fcb1e3"/><path d="M229.16098,190.59288c-9.57565,-2.26111 -15.50524,-11.85671 -13.24412,-21.43235c2.26111,-9.57565 11.85671,-15.50524 21.43235,-13.24412c9.57565,2.26111 15.50524,11.85671 13.24412,21.43235c-2.26111,9.57565 -11.85671,15.50524 -21.43235,13.24412z" fill="#ffd983"/><path d="M270.50321,192.68453c0,9.83892 -7.97878,17.81769 -17.81769,17.81769c-9.83892,0 -17.81506,-7.97878 -17.81506,-17.81769c0,-9.83892 7.97614,-17.81506 17.81506,-17.81506c9.83892,0 17.81769,7.97878 17.81769,17.81506z" fill="#a6d388"/><path d="M280.76164,224.00071c-0.82849,0 -1.65698,-0.31661 -2.29021,-0.94721l-19.84141,-19.84141c-1.26648,-1.26384 -1.26648,-3.31657 0,-4.58041c1.26648,-1.26384 3.31393,-1.26384 4.58041,0l19.84141,19.84141c1.26384,1.26384 1.26384,3.31657 0,4.58041c-0.63324,0.62796 -1.46173,0.94721 -2.29021,0.94721z" fill="#d99e82"/></g></g></svg>'},function(e,t){e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="415.33334" height="28" viewBox="0,0,415.33334,28"><g transform="translate(-32.58333,-164.25)"><g data-paper-data="{&quot;isPaintingLayer&quot;:true}" fill="#9966ff" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="Sans Serif" font-weight="normal" font-size="40" text-anchor="start" style="mix-blend-mode: normal"><text transform="translate(32.83333,186) scale(0.5,0.5)" font-size="40" xml:space="preserve" fill="#9966ff" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="Sans Serif" font-weight="normal" text-anchor="start" style="mix-blend-mode: normal"><tspan x="0" dy="0">The project you tried to load does not exist.</tspan></text></g></g></svg>'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a=n(1257);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){e.exports=n.p+"static/assets/dd98971c2c185caf86144b6b5234d0fa.svg"},,,function(e,t,n){e.exports=n.p+"static/assets/ee54d776d2cda9a3c537ac7e8f144037.svg"},function(e,t,n){e.exports=n.p+"static/assets/4b6100c9f591be6470cdfd4697de0b54.svg"},function(e,t,n){e.exports=n.p+"static/assets/df6a71244d4727d19c5a78d71677d2a6.svg"},function(e,t,n){e.exports=n.p+"static/assets/a4d91e3b83e7cbccaf4a4e2322b873f5.svg"},function(e,t,n){e.exports=n.p+"static/assets/dfe35552790fb5ff38c78a43f5e62f30.svg"},function(e,t,n){e.exports=n.p+"static/assets/1bb0adb555e07593962e9fc28ec7566d.svg"},function(e,t,n){var a=n(1396);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){e.exports=n.p+"static/assets/5e460dab4dfda0fe34f93d3faf95b778.svg"},function(e,t,n){e.exports=n.p+"static/assets/c8481ea8e104d4d2bb6b340e0c90da26.svg"},function(e,t,n){e.exports=n.p+"static/assets/10811a978de201353d564df7ba1ddb58.svg"},function(e,t,n){e.exports=n.p+"static/assets/2a70b21aaaed0619bdfcdec91db1ebe8.svg"},function(e,t,n){e.exports=n.p+"static/assets/8beb9da10f72d02b48baf0b24ac72449.svg"},function(e,t,n){e.exports=n.p+"static/assets/a5787bb7364d8131ed49a8f53037d7f4.svg"},,function(e,t,n){e.exports=n.p+"static/assets/44e4859e354c81d66c73f741df2e5ec7.svg"},function(e,t,n){e.exports=n.p+"static/assets/c9528ee4be1a12380a6c9caf73bd99e9.svg"},function(e,t,n){e.exports=n.p+"static/assets/9cc1e7a12b63848899055ddc982ab2ce.svg"},function(e,t,n){e.exports=n.p+"static/assets/57593d3aac258d2c0abf75a0b8ecbdaa.svg"},function(e,t,n){e.exports=n.p+"static/assets/143a9041098d0e0724ed22c89e6558cc.svg"},function(e,t,n){e.exports=n.p+"static/assets/0dd03e5061d2865c0e8ac50cc75e9982.svg"},function(e,t,n){e.exports=n.p+"static/assets/8ea23814ef4f6dc9f86859a028377a3a.svg"},function(e,t,n){e.exports=n.p+"static/assets/38a70367a21e2f1fb15aa59b7d367450.svg"},function(e,t,n){e.exports=n.p+"static/assets/9ddae4f6c1aeaf0784007203d9d4ac9c.svg"},function(e,t,n){e.exports=n.p+"static/assets/c80022cd3424a0dc9635de89433cf08e.svg"},function(e,t,n){e.exports=n.p+"static/assets/e214dc66bba3d014deaa931a2be33f53.svg"},function(e,t){e.exports="/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAAPAAA/+4AJkFkb2JlAGTAAAAAAQMAFQQDBgoNAAACZgAAAwoAAAPwAAAE/P/bAIQABgQEBAUEBgUFBgkGBQYJCwgGBggLDAoKCwoKDBAMDAwMDAwQDA4PEA8ODBMTFBQTExwbGxscHx8fHx8fHx8fHwEHBwcNDA0YEBAYGhURFRofHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8f/8IAEQgAQABAAwERAAIRAQMRAf/EALAAAQADAQEBAAAAAAAAAAAAAAAEBQcGAgMBAQEBAQAAAAAAAAAAAAAAAAABAgMQAAEEAgICAwAAAAAAAAAAAAMBAgQFIBEQQDASYCQGEQACAQICBggHAAAAAAAAAAABAgMAESFBEDFRcRIEIDBhoSIyQhNAgZGxwWJTEgEAAAAAAAAAAAAAAAAAAABgEwEAAQIGAgIDAQAAAAAAAAABEQAhECAxQVFhQIEwcZGhsfD/2gAMAwEAAhEDEQAAAdUAAAAAIVk2UACFZz2pwvSa1x19ordLrNGVdsVNDvedjlXppXLQy7ril0He87GKzTSuWgKazOOudU5a9RWaXuaAAAAAAAB//9oACAEBAAEFAvGWbFE/E82KBZt8JGuc5zoa/SOdogV1myZzaKq2HE8b30lAX3ZW7BbcW4iMncTyuZSfnxeqV2z2/M2rjyWHjGAWMPUM8dpY9bWJD6X/2gAIAQIAAQUC6Ws0wXBMFx3hvpf/2gAIAQMAAQUC+Af/2gAIAQICBj8CAf/aAAgBAwIGPwIB/9oACAEBAQY/Aur9uSUK5y6VpZApOVFeV8Tn15D60WY3J1moCf5r9qabWFF8KYcPA6+m98O7TNfbphKnBFjLDaLVNyz4pa4G/A0I/wBmjOmQsMHN1OmEAedUUn5XqbmWwS3CD3mhJtZpD0DgElycfmvakXxZdu6oo5BqRQyndTw+UMLYZUzFuN2wv2fBf//aAAgBAQMBPyH4w+6y888e8wK/Yd2OYJamasJkfQXL6ikQPlLqtEOQX1+tJ6/x3VtNruFuMYphTp9AYwnOihP0s1zyk4sfdqu5Y7GJP6GLvTiVE2cZP3XRH9ointmkOrvq1QQW6QXf65Is2rxfoalPUHFc4PKtckUTcIiUEb+UburVx0sIgbb6+F//2gAIAQIDAT8h+OM0UYHBIx0YmuF0zDXC6ZCk04MvC//aAAgBAwMBPyHwpzuQyOQyxkjwv//aAAwDAQACEQMRAAAQkkkkkhkklIrEhkPEnkPEk6Pkkkkkkkkk/9oACAEBAwE/EPjj8Ql0GhYJP6UIgjI3EylYiQdlZgdxTFjQf2wHCn2aU4Yj6glVdVokAKqA31aJdngG0sDpd3oXX8WyOINm3HOLiiIlvAAejFrIbqFisawfSkBz6gD8RlZ90xKenkOY72Ng0hMc/A2cVHA50nk/5TSE7IQn4yF33UxR3IRz6DFBESRsjSwYJBTwiTd34oYrYAQuoCx6/tIGo6gKAkslIWGBBsIIQO1OlGBFumAquhfo8L//2gAIAQIDAT8Q+MTmE6Vy4amgljJtDF30N6vxK2JvpbVbkIUBJpXoYZ8Of//aAAgBAwMBPxD46zLTgNKWhnHVi6YDXHVi6YDXIypKKSiHhf/Z"},,,function(e,t,n){e.exports=n.p+"static/assets/385aa4b73a425883b4f9e91501a52299.svg"},function(e,t,n){e.exports=n.p+"static/assets/63e5827c1506216bd7c9927a4e5eb558.svg"},function(e,t,n){e.exports=n.p+"static/assets/53ef96392ac2a92361884783808a02c9.svg"},function(e,t,n){e.exports=n.p+"static/assets/9cfdd378e4cc977fe663ca932e530ec6.svg"},function(e,t,n){e.exports=n.p+"static/assets/35c6867250ec4f430624bc9e2e7072d7.svg"},function(e,t,n){e.exports=n.p+"static/assets/993a0700d8a0972d309307b0a4688ed7.svg"},function(e,t,n){e.exports=n.p+"static/assets/21988681fa28c8ce37982ca26463a6f5.svg"},function(e,t,n){e.exports=n.p+"static/assets/26255153f92ea41df149a58d3c3fe2cf.svg"},function(e,t,n){e.exports=n.p+"static/assets/d889a872f3b0985b28fa872764172ef1.svg"},function(e,t,n){e.exports=n.p+"static/assets/b5257afbe4bcf7953029ddb8f18b24fe.svg"},function(e,t,n){e.exports=n.p+"static/assets/481fbac64b59203d7ddffa564a7537d8.svg"},function(e,t,n){e.exports=n.p+"static/assets/f231056019ffe328e58432393f6102c5.svg"},function(e,t,n){e.exports=n.p+"static/assets/82605c2ddff77109d8fafc0e4cf997ed.svg"},function(e,t,n){e.exports=n.p+"static/assets/8279ce395d0333b880b8be6d243fd111.svg"},function(e,t,n){e.exports=n.p+"static/assets/424371873bc8df88d6a305d8727157ab.svg"},function(e,t,n){e.exports=n.p+"static/assets/b2c44c738c9cbc1a99cd6edfd0c2b85b.svg"},function(e,t,n){e.exports=n.p+"static/assets/3547fa1f2678a483a19f46852f36b426.svg"},function(e,t,n){e.exports=n.p+"static/assets/199f58b4a80fa56c5d8e032d6da5e9c2.svg"},function(e,t,n){e.exports=n.p+"static/assets/fb3f9fa9be421f5153cd0223c3b0cb87.svg"},function(e,t,n){e.exports=n.p+"static/assets/fe5afd6776eac0f7724b132a9ff5057d.svg"},function(e,t,n){e.exports=n.p+"static/assets/f22d5ea0ef6a46b2a4a174fed722c396.svg"},function(e,t,n){e.exports=n.p+"static/assets/42428924171999cebe3efd5e70b7bc53.svg"},function(e,t,n){e.exports=n.p+"static/assets/e21225ab4b675bc61eed30cfb510c288.svg"},function(e,t,n){e.exports=n.p+"static/assets/193be3815628fb3d90d4d636a0e97f3a.svg"},function(e,t,n){e.exports=n.p+"static/assets/516274ebe91f61197ef4c62d1dc2024a.svg"},function(e,t,n){e.exports=n.p+"static/assets/5306d1506a03db52b6f918de4c809ca7.svg"},function(e,t,n){e.exports=n.p+"static/assets/f0f9f818bc9fff5dc6f30f34cb1cc156.svg"},function(e,t,n){e.exports=n.p+"static/assets/7bd7487b704797cb5ab3cb441486ea70.svg"},function(e,t,n){e.exports=n.p+"static/assets/582b9f12ce60392a8ef736c5dfabb4ce.svg"},function(e,t,n){e.exports=n.p+"static/assets/36fcc7dbca20720abcab01e49d4955f9.svg"},function(e,t,n){e.exports=n.p+"static/assets/f2457825850317e66ef2128504613c30.svg"},function(e,t,n){var a=n(1446);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){e.exports=n.p+"static/assets/2d96b207399b06aa8fd389bb44cfbdb4.svg"},function(e,t,n){e.exports=n.p+"static/assets/2e2faaf5753ac5ae1df6153ea2daf683.svg"},function(e,t,n){e.exports=n.p+"static/assets/dd55f4c6c20f5d25e520b6f5bfb090c5.svg"},function(e,t,n){var a=n(1448);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},,,,,function(e,t,n){e.exports=n.p+"static/assets/27f90bfa982840e56c3ad207561193fa.svg"},function(e,t,n){var a=n(1512);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){e.exports=n.p+"static/assets/4da38973d5ffd15c54e80894d430288c.svg"},function(e,t,n){e.exports=n.p+"static/assets/bbbd98ae6a34eac772e34a57aaa5f977.svg"},function(e,t,n){e.exports=n.p+"static/assets/f9dce53613d5f85b311ce9f84423c08b.svg"},function(e,t,n){e.exports=n.p+"static/assets/ce5820b006d753e4133f46ae776f4d96.svg"},function(e,t,n){e.exports=n.p+"static/assets/97926439955086f8ee4aabbd81580f17.png"},function(e,t,n){e.exports=n.p+"static/assets/3e83d9d800459175308f0b45b117af16.png"},function(e,t,n){var a=n(1519);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1521);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1522);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(1525);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){e.exports=n.p+"static/assets/f8ff5dbef05bc3337cd3660fb956cffa.svg"},function(e,t,n){e.exports=n.p+"static/assets/1319094a51748798730f01d1dc0972ac.svg"},function(e,t,n){e.exports=n.p+"static/assets/74546102be38f592d24b4330a16a8639.svg"},function(e,t,n){e.exports=n.p+"static/assets/90e939d170002c61a50116ed55763b19.svg"},function(e,t,n){e.exports=n.p+"static/assets/8bcd9c00e30a0af9d832735651fd9643.svg"},function(e,t,n){var a=n(1530);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){e.exports=n.p+"static/assets/89a5687599f173f2b910aa5fcd862b42.svg"},function(e,t,n){e.exports=n.p+"static/assets/76121b7f4eff7d7ca0d49a45479d3f3f.svg"},function(e,t,n){e.exports=n.p+"static/assets/04e28ba12fe914cf4f131dcb85ae82d6.svg"},function(e,t,n){e.exports=n.p+"static/assets/a3e689235188ba10c5cfd75730cb88a7.svg"},function(e,t,n){var a=n(1537);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){e.exports=n.p+"static/assets/71655cde34ae75f48cb8820abf4b31e7.svg"},function(e,t,n){e.exports=n.p+"static/assets/8b8f2d052b4092ec47ad66c30c8b1642.svg"},function(e,t,n){e.exports=n.p+"static/assets/05e05756b592740a3670417b4df19ca9.svg"},function(e,t,n){var a=n(1543);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){e.exports=n.p+"static/assets/5f4208a6b7257c456c018d57efc8a7e9.svg"},function(e,t,n){e.exports=n.p+"static/assets/5f85a3e5a04dd3de4271589dac82d45b.svg"},function(e,t,n){e.exports=n.p+"static/assets/afc646fe671f2f43cf0deb3f2247b8bf.svg"},function(e,t,n){e.exports=n.p+"static/assets/2ede3b1977411d39f0cc8ba0a973e25c.svg"},,,,,,,,,,,,,,function(e,t,n){0},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/assets/9ec3449723269a806ec6eaba0f8f6cef.ttf"},function(e,t,n){e.exports=n.p+"static/assets/8996930d8e83f63cc3341172205df460.otf"},function(e,t,n){e.exports=n.p+"static/assets/64bcfe1f13fce38e2ea26280157ff2ce.ttf"},function(e,t,n){e.exports=n.p+"static/assets/3682b35e452a7f4a5a61167d1632e24a.ttf"},function(e,t,n){e.exports=n.p+"static/assets/eb64e706eb7a3b324ba50d3279a980b1.ttf"},function(e,t,n){e.exports=n.p+"static/assets/87a3a62c0627e925b92d3ede2f62b04f.ttf"},function(e,t,n){e.exports=n.p+"static/assets/bbc0dd79717bfa338a199bb26cdd780b.ttf"},,,,,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,".box_box_tWy-0 {\n}\n",""]),t.locals={box:"box_box_tWy-0"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ body {\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n} h2 {\n    font-size: 1.5rem;\n    font-weight: bold;\n} p {\n    font-size: 1rem;\n    line-height: 1.5em;\n} .crash-message_crash-wrapper_15SLi {\n    background-color: hsla(0, 100%, 65%, 1);\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n} .crash-message_body_3OO__ {\n    width: 50%;\n    color: white;\n    text-align: center;\n} .crash-message_reloadButton_35TdL {\n    border: 1px solid hsla(0, 100%, 65%, 1);\n    border-radius: 0.25rem;\n    padding: 0.5rem 2rem;\n    background: white;\n    color: hsla(0, 100%, 65%, 1);\n    font-weight: bold;\n    font-size: 0.875rem;\n    cursor: pointer;\n} .crash-message_header_CnM8i {\n    font-size: 1.5em;\n    font-weight: bold;\n} .crash-message_error-message_2oNef {\n    font-family: monospace;\n}\n',""]),t.locals={"crash-wrapper":"crash-message_crash-wrapper_15SLi",crashWrapper:"crash-message_crash-wrapper_15SLi",body:"crash-message_body_3OO__",reloadButton:"crash-message_reloadButton_35TdL",header:"crash-message_header_CnM8i","error-message":"crash-message_error-message_2oNef",errorMessage:"crash-message_error-message_2oNef"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n.button_outlined-button_2f510 {\n    cursor: pointer;\n    border-radius: calc(0.5rem / 2);\n    font-weight: bold;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    padding-left: .75rem;\n    padding-right: .75rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n\n.button_icon_JhCuM {\n    height: 1.5rem;\n}\n\n[dir="ltr"] .button_icon_JhCuM {\n    margin-right: .5rem;\n}\n\n[dir="rtl"] .button_icon_JhCuM {\n    margin-left: .5rem;\n}\n\n.button_content_3y79K {\n    white-space: nowrap;\n}\n',""]),t.locals={"outlined-button":"button_outlined-button_2f510",outlinedButton:"button_outlined-button_2f510",icon:"button_icon_JhCuM",content:"button_content_3y79K"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ .close-button_close-button_t5jqt {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    overflow: hidden;  /* Mask the icon animation */\n    background-color: hsla(0, 0%, 0%, 0.15);\n    border-radius: 50%;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    cursor: pointer;\n    transition: all 0.15s ease-out;\n} .close-button_close-button_t5jqt.close-button_large_2cCrv:hover {\n    transform: scale(1.1, 1.1);\n    box-shadow: 0 0 0 4px hsla(0, 0%, 0%, 0.15);\n} .close-button_close-button_t5jqt.close-button_large_2cCrv.close-button_orange_1V-p9:hover {\n    transform: scale(1.1, 1.1);\n    box-shadow: 0px 0px 0px 4px hsla(29, 100%, 54%, 0.2);\n} .close-button_small_1L9aM {\n    width: 0.825rem;\n    height: 0.825rem;\n    background-color: hsla(0, 100%, 65%, 1);\n    color: hsla(0, 100%, 100%, 1);\n} .close-button_large_2cCrv {\n    width: 1.75rem;\n    height: 1.75rem;\n    box-shadow: 0 0 0 2px hsla(0, 0%, 0%, 0.15);\n} .close-button_large_2cCrv.close-button_orange_1V-p9 {\n    background-color: hsla(29, 100%, 54%, 0.2);\n    box-shadow: 0px 0px 0px 2px hsla(29, 100%, 54%, 0.2);\n} .close-button_close-icon_ywCI5 {\n    position: relative;\n    margin: 0.25rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    transform-origin: 50%;\n    transform: rotate(45deg);\n} .close-button_close-icon_ywCI5.close-button_orange_1V-p9 {\n    transform: rotate(45deg);\n    transform: scale(1.4);\n} .close-button_small_1L9aM .close-button_close-icon_ywCI5 {\n    width: 50%;\n} .close-button_large_2cCrv .close-button_close-icon_ywCI5 {\n    width: 0.75rem;\n    height: 0.75rem;\n} .close-button_back-icon_1J1uF {\n  position: relative;\n  margin: 0.25rem;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n} .close-button_small_1L9aM .close-button_back-icon_1J1uF {\n    width: 50%;\n} .close-button_large_2cCrv .close-button_back-icon_1J1uF {\n    width: 2rem;\n    height: 2rem;\n}\n',""]),t.locals={"close-button":"close-button_close-button_t5jqt",closeButton:"close-button_close-button_t5jqt",large:"close-button_large_2cCrv",orange:"close-button_orange_1V-p9",small:"close-button_small_1L9aM","close-icon":"close-button_close-icon_ywCI5",closeIcon:"close-button_close-icon_ywCI5","back-icon":"close-button_back-icon_1J1uF",backIcon:"close-button_back-icon_1J1uF"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ /*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/ /* Toolbox z-index: 40; set in scratch-blocks */ /* tooltips should go over add buttons if they overlap */ /* monitors go over add buttons */ /* "ask" block text input goes above monitors */ /* menu-bar should go over monitors, alerts and tutorials */ /* tw: show below menu bar normally */ /* Block drag z-index: 1000; default 50 is overriden in blocks.css */ /* so it is draggable into other panes */ /* in most interfaces, the context menu is always on top */ .modal_modal-overlay_2_Dgx {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 510;\n    background-color: var(--ui-modal-overlay, hsla(0, 100%, 65%, 0.9));\n} .modal_modal-content_3brCX * {\n    box-sizing: border-box;\n} .modal_modal-content_3brCX {\n    margin: 100px auto;\n    outline: none;\n    border: 4px solid hsla(0, 100%, 100%, 0.25);\n    padding: 0;\n    border-radius: 0.5rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    color: hsla(225, 15%, 40%, 1);\n    overflow: hidden;\n} .modal_modal-content_3brCX.modal_full-screen_3yXCG {\n    position: absolute;\n\n    display: flex;\n    height: 100%;\n    width: 100%;\n\n    overflow-y: auto;\n    -webkit-overflow-scrolling: \'touch\';\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n\n    background-color: var(--ui-secondary, hsla(215, 75%, 95%, 1));\n\n    /* Default modal resets */\n    margin: 0;\n    border: none;\n    border-radius: 0;\n} /*\n    Modal header has 3 items:\n    |filter     title       x|\n\n    Use the same width for both side item containers,\n    so that title remains centered\n*/ .modal_header_1dNxf {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    height: 3.125rem;\n\n    box-sizing: border-box;\n    width: 100%;\n    background-color: hsla(0, 100%, 65%, 1);\n    \n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-size: 1rem;\n    font-weight: normal;\n} [theme="dark"] .modal_header_1dNxf {\n    background-color: #333;\n} [theme="dark"] .modal_full-screen_3yXCG .modal_header_1dNxf {\n    background-color: hsla(0, 100%, 65%, 1);\n} .modal_header-item_1WbOm {\n    display: flex;\n    align-items: center;\n    padding: 1rem;\n    text-decoration: none;\n    color: hsla(0, 100%, 100%, 1);\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n} [dir="ltr"] .modal_header-image_2c-LK {\n    margin-right: 0.5rem;\n} [dir="rtl"] .modal_header-image_2c-LK {\n    margin-left: 0.5rem;\n} .modal_header-item-filter_slKwM {\n    display: flex;\n    flex-basis: 20rem;\n    justify-content: flex-start;\n} .modal_header-item-title_1N2BE {\n    flex-grow: 1;\n    flex-shrink: 0;\n    justify-content: center;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    letter-spacing: 0.4px;\n    cursor: default;\n} [dir="ltr"] .modal_header-item-title_1N2BE {\n    margin: 0 -20rem 0 0;\n} [dir="rtl"] .modal_header-item-title_1N2BE {\n    margin: 0 0 0 -20rem;\n} .modal_full-screen_3yXCG [dir="ltr"] .modal_header-item-title_1N2BE {\n    margin: 0 0 0 -20rem;\n} .modal_full-screen_3yXCG [dir="rtl"] .modal_header-item-title_1N2BE {\n    margin: 0 -20rem 0 0;\n} .modal_header-item-close_4akWi {\n    flex-basis: 20rem;\n    justify-content: flex-end;\n    z-index: 1;\n} .modal_full-screen_3yXCG .modal_header-item-close_4akWi {\n    order: -1;\n    justify-content: flex-start;\n} .modal_back-button_3HvWm {\n    font-weight: normal;\n    padding-right: 0;\n    padding-left: 0;\n} [dir="rtl"] .modal_back-button_3HvWm img {\n    transform: scaleX(-1);\n} .modal_header-item-help_2F4to {\n    padding: 0;\n    z-index: 1;\n} [dir="ltr"] .modal_header-item-help_2F4to {\n    margin-right: -4.75rem;\n} [dir="rtl"] .modal_header-item-help_2F4to {\n    margin-left: -4.75rem;\n} .modal_help-button_1F4rs {\n    font-weight: normal;\n    font-size: 0.75rem;\n} [dir="ltr"] .modal_help-button_1F4rs {\n    padding-right: 0;\n} [dir="rtl"] .modal_help-button_1F4rs {\n    padding-left: 0;\n}\n',""]),t.locals={"modal-overlay":"modal_modal-overlay_2_Dgx",modalOverlay:"modal_modal-overlay_2_Dgx","modal-content":"modal_modal-content_3brCX",modalContent:"modal_modal-content_3brCX","full-screen":"modal_full-screen_3yXCG",fullScreen:"modal_full-screen_3yXCG",header:"modal_header_1dNxf","header-item":"modal_header-item_1WbOm",headerItem:"modal_header-item_1WbOm","header-image":"modal_header-image_2c-LK",headerImage:"modal_header-image_2c-LK","header-item-filter":"modal_header-item-filter_slKwM",headerItemFilter:"modal_header-item-filter_slKwM","header-item-title":"modal_header-item-title_1N2BE",headerItemTitle:"modal_header-item-title_1N2BE","header-item-close":"modal_header-item-close_4akWi",headerItemClose:"modal_header-item-close_4akWi","back-button":"modal_back-button_3HvWm",backButton:"modal_back-button_3HvWm","header-item-help":"modal_header-item-help_2F4to",headerItemHelp:"modal_header-item-help_2F4to","help-button":"modal_help-button_1F4rs",helpButton:"modal_help-button_1F4rs"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ .prompt_modal-content_35gRS {\n    width: 360px;\n} .prompt_body_Vgt8G {\n    background: hsla(0, 100%, 100%, 1);\n    padding: 1.5rem 2.25rem;\n} [theme="dark"] .prompt_body_Vgt8G {\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    background: var(--ui-primary, hsla(215, 100%, 95%, 1));\n} .prompt_body_Vgt8G input[type="checkbox"],\n.prompt_body_Vgt8G input[type="radio"] {\n    margin: 3px;\n} .prompt_label_3jR00 {\n    font-weight: 500;\n    margin: 0 0 0.75rem;\n} .prompt_disabled-label_fduJB {\n    opacity: 0.5;\n} .prompt_variable-name-text-input_36E65 {\n    margin-bottom: 1.5rem;\n    width: 100%;\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-radius: 5px;\n    padding: 0 1rem;\n    height: 3rem;\n    color: hsla(225, 15%, 40%, 0.75);\n    font-size: .875rem;\n} [theme="dark"] .prompt_variable-name-text-input_36E65 {\n    background: var(--ui-secondary, hsla(215, 75%, 95%, 1));\n    color: white;\n} .prompt_info-message_370zD {\n    font-weight: normal;\n    font-size: .875rem;\n    margin-bottom: 1.5rem;\n    text-align: center;\n} .prompt_options-row_33OgT {\n    display: flex;\n    font-weight: normal;\n    justify-content: space-between;\n    margin-bottom: 1.5rem;\n} .prompt_button-row_34Zss {\n    font-weight: bolder;\n    text-align: right;\n} .prompt_button-row_34Zss button {\n    padding: 0.75rem 1rem;\n    border-radius: 0.25rem;\n    background: white;\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    font-weight: 600;\n    font-size: 0.85rem;\n} .prompt_button-row_34Zss button.prompt_ok-button_1xjNu {\n    background: hsla(0, 100%, 65%, 1);\n    border: hsla(0, 100%, 65%, 1);\n    color: white;\n} [dir="ltr"] .prompt_button-row_34Zss button + button {\n    margin-left: 0.5rem;\n} [dir="rtl"] .prompt_button-row_34Zss button + button {\n    margin-right: 0.5rem;\n} .prompt_cloud-option_1Fo4I {\n    display:flex;\n    border-top: 1px dashed hsla(0, 0%, 0%, .25);\n    overflow: visible;\n    padding: 1rem 0;\n    text-align: center;\n    width: 100%;\n    margin: 0 auto;\n} .prompt_cloud-option-text_2I5zG {\n    opacity: .5;\n} .prompt_cancel-button_3CsOb {\n    color: black;\n}\n',""]),t.locals={"modal-content":"prompt_modal-content_35gRS",modalContent:"prompt_modal-content_35gRS",body:"prompt_body_Vgt8G",label:"prompt_label_3jR00","disabled-label":"prompt_disabled-label_fduJB",disabledLabel:"prompt_disabled-label_fduJB","variable-name-text-input":"prompt_variable-name-text-input_36E65",variableNameTextInput:"prompt_variable-name-text-input_36E65","info-message":"prompt_info-message_370zD",infoMessage:"prompt_info-message_370zD","options-row":"prompt_options-row_33OgT",optionsRow:"prompt_options-row_33OgT","button-row":"prompt_button-row_34Zss",buttonRow:"prompt_button-row_34Zss","ok-button":"prompt_ok-button_1xjNu",okButton:"prompt_ok-button_1xjNu","cloud-option":"prompt_cloud-option_1Fo4I",cloudOption:"prompt_cloud-option_1Fo4I","cloud-option-text":"prompt_cloud-option-text_2I5zG",cloudOptionText:"prompt_cloud-option-text_2I5zG","cancel-button":"prompt_cancel-button_3CsOb",cancelButton:"prompt_cancel-button_3CsOb"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n/*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/\n\n/* Toolbox z-index: 40; set in scratch-blocks */\n\n/* tooltips should go over add buttons if they overlap */\n\n/* monitors go over add buttons */\n\n/* "ask" block text input goes above monitors */\n\n/* menu-bar should go over monitors, alerts and tutorials */\n\n/* tw: show below menu bar normally */\n\n/* Block drag z-index: 1000; default 50 is overriden in blocks.css */\n\n/* so it is draggable into other panes */\n\n/* in most interfaces, the context menu is always on top */\n\n.blocks_blocks_2LOZ2 {\n    height: 100%;\n}\n\n.blocks_drag-over_QI1Mw:after {\n    content: \'\';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0.75;\n    background-color: hsla(0, 100%, 77%, 1);\n    transition: all 0.25s ease;\n}\n\n.blocks_blocks_2LOZ2 .injectionDiv{\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-top-right-radius: 0.5rem;\n    border-bottom-right-radius: 0.5rem;\n}\n\n[dir="rtl"] .blocks_blocks_2LOZ2 .injectionDiv {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n    border-top-left-radius: 0.5rem;\n    border-bottom-left-radius: 0.5rem;\n}\n\n.blocks_blocks_2LOZ2 .blocklyMainBackground {\n    stroke: none;\n}\n\n.blocks_blocks_2LOZ2 .blocklyToolboxDiv {\n    border-right: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-bottom: 1px solid hsla(0, 0%, 0%, 0.15);\n    box-sizing: content-box;\n    height: calc(100% - 3.25rem) !important;\n    overflow-x: hidden;\n\n    /*\n        For now, the layout cannot support scrollbars in the category menu.\n        The line below works for Edge, the `::-webkit-scrollbar` line\n        below that is for webkit browsers. It isn\'t possible to do the\n        same for Firefox, so a different solution may be needed for them.\n    */\n    -ms-overflow-style: none;\n}\n\n[dir="rtl"] .blocks_blocks_2LOZ2 .blocklyToolboxDiv {\n    border-right: none;\n    border-left: 1px solid hsla(0, 0%, 0%, 0.15);\n}\n\n.blocks_blocks_2LOZ2 .blocklyToolboxDiv::-webkit-scrollbar {\n    display: none;\n}\n\n.blocks_blocks_2LOZ2 .blocklyFlyout {\n    border-right: 1px solid hsla(0, 0%, 0%, 0.15);\n    box-sizing: content-box;\n}\n\n[dir="rtl"] .blocks_blocks_2LOZ2 .blocklyFlyout {\n    border-right: none;\n    border-left: 1px solid hsla(0, 0%, 0%, 0.15);\n}\n\n.blocks_blocks_2LOZ2 .blocklyBlockDragSurface {\n    /*\n        Fix an issue where the drag surface was preventing hover events for sharing blocks.\n        This does not prevent user interaction on the blocks themselves.\n    */\n    pointer-events: none;\n    z-index: 1000; /* make blocks match gui drag layer */\n}\n\n/*\n    Shrink category font to fit "My Blocks" for now.\n    Probably will need different solutions for language support later, so\n    make the change here instead of in scratch-blocks.\n*/\n\n.blocks_blocks_2LOZ2 .scratchCategoryMenuItemLabel {\n    font-size: 0.65rem;\n}\n\n.blocks_blocks_2LOZ2 .blocklyMinimalBody {\n    min-width: auto;\n    min-height: auto;\n}\n',""]),t.locals={blocks:"blocks_blocks_2LOZ2","drag-over":"blocks_drag-over_QI1Mw",dragOver:"blocks_drag-over_QI1Mw"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ .play-button_play-button_cXELI {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    overflow: hidden;  /* Mask the icon animation */\n    width: 2.5rem;\n    height: 2.5rem;\n    background-color: hsla(300, 53%, 60%, 1);\n    color: hsla(0, 100%, 100%, 1);\n    border-radius: 50%;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    cursor: pointer;\n    transition: all 0.15s ease-out;\n} .play-button_play-button_cXELI {\n    position: absolute;\n    top: .5rem;\n    z-index: auto;\n} .play-button_play-button_cXELI:focus {\n    outline: none;\n} .play-button_play-icon_33XpJ {\n  width: 50%;\n} [dir="ltr"] .play-button_play-button_cXELI {\n    right: .5rem;\n} [dir="rtl"] .play-button_play-button_cXELI {\n    left: .5rem;\n}\n',""]),t.locals={"play-button":"play-button_play-button_cXELI",playButton:"play-button_play-button_cXELI","play-icon":"play-button_play-icon_33XpJ",playIcon:"play-button_play-icon_33XpJ"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ .library-item_library-item_1nZBu {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: flex-start;\n    flex-basis: 160px;\n    position: relative;\n    height: 160px;\n    max-width: 160px;\n    margin: 0.5rem;\n    padding: 1rem 1rem 0 1rem;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    background: white;\n    border-width: 2px;\n    border-style: solid;\n    border-color: hsla(0, 0%, 0%, 0.15);\n    border-radius: 0.5rem;\n    text-align: center;\n    cursor: pointer;\n} [theme="dark"] .library-item_library-item_1nZBu {\n    background: var(--ui-primary, hsla(215, 100%, 95%, 1));\n} .library-item_library-item-extension_wHgEE {\n    align-self: stretch;\n} .library-item_library-item_1nZBu:hover {\n    border-width: 2px;\n    border-color: hsla(0, 100%, 65%, 1);\n} .library-item_hidden_qWfvV {\n    display: none;\n} .library-item_disabled_udvIX {\n    opacity: .5;\n    cursor: auto;\n} .library-item_disabled_udvIX:hover {\n    border-color: hsla(0, 0%, 0%, 0.15);\n} .library-item_library-item-image-container-wrapper_3TFcU {\n    height: 100px;\n    width: 100%;\n    position: relative;\n} .library-item_library-item-image-container_1VgKJ {\n    position: absolute;\n    height: 100px;\n    width: 100%;\n} .library-item_library-item-inset-image-container_2oGku {\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: -2.5rem;\n    align-self: flex-start;\n    background-color: hsla(163, 85%, 40%, 1);\n    width: 3.5rem;\n    height: 3.5rem;\n    border-radius: 0.5rem;\n    border: 0.25rem solid hsla(0, 100%, 100%, 1);\n} [dir="ltr"] .library-item_library-item-inset-image-container_2oGku {\n    margin-left: 1rem;\n} [dir="rtl"] .library-item_library-item-inset-image-container_2oGku {\n    margin-right: 1rem;\n} .library-item_library-item-image_3G7nd {\n    max-width: 100%;\n    max-height: 100%;\n} .library-item_library-item-inset-image_qk3QS {\n    width: 2.5rem;\n} .library-item_library-item-name_35ftf {\n    width: 80%;\n    margin: 0.25rem 0;\n    text-align: center;\n\n    /*\n        For truncating overflowing text gracefully\n        Min-width is for a bug: https://css-tricks.com/flexbox-truncated-text\n    */\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    min-width: 0;\n} .library-item_featured-item_3dHDW {\n    flex-basis: 300px;\n    max-width: 300px;\n    height: auto;\n    overflow: hidden;\n    padding: 0;\n} .library-item_featured-image-container_2x7jE {\n    position: relative;\n} .library-item_featured-image_1rsDU {\n    width: 100%;\n} .library-item_featured-text_xD5Ve {\n    font-weight: bold;\n    padding: 10px;\n    /* height: 140px; */\n    width: 300px;\n} [dir="ltr"] .library-item_featured-extension-text_2sSn4 {\n    text-align: left;\n    padding-left: 1.25rem;\n} [dir="rtl"] .library-item_featured-extension-text_2sSn4 {\n    text-align: right;\n    padding-right: 1.25rem;\n} .library-item_featured-description_1hGaH {\n    display: block;\n    font-weight: normal;\n    line-height: 1.375rem;\n    padding-top: .3125rem;\n    padding-bottom: .25rem;\n} .library-item_featured-extension-metadata_24DYi {\n    width: 100%;\n    padding: 0 1.25rem 1rem 1.25rem;\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n    font-size: 12px;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    opacity: 0.75;\n} [dir="ltr"] .library-item_featured-extension-metadata_24DYi {\n    text-align: left;\n} [dir="rtl"] .library-item_featured-extension-metadata_24DYi {\n    text-align: right;\n} .library-item_featured-extension-requirement_30Ghz {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n} .library-item_featured-extension-collaboration_13t7u {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n} .library-item_featured-extension-metadata-detail_2kvJn {\n    height: 100%;\n    padding-top: 0.4rem;\n    font-weight: bold;\n} .library-item_featured-extension-metadata-detail_2kvJn img{\n    margin-right: 0.25rem;\n} .library-item_coming-soon-text_ZcFGD {\n    position: absolute;\n    background-color: hsla(30, 100%, 55%, 1);\n    border-radius: 1rem;\n    box-shadow: 0 0 .5rem hsla(0, 0%, 0%, .25);\n    padding: .5rem 1rem;\n    font-size: .875rem;\n    font-weight: bold;\n    color: hsla(0, 100%, 100%, 1);\n} [dir="ltr"] .library-item_coming-soon-text_ZcFGD {\n    transform: translate(calc(2 * 0.5rem), calc(2 * 0.5rem));\n} [dir="rtl"] .library-item_coming-soon-text_ZcFGD {\n    transform: translate(calc(-2 * 0.5rem), calc(2 * 0.5rem));\n}\n',""]),t.locals={"library-item":"library-item_library-item_1nZBu",libraryItem:"library-item_library-item_1nZBu","library-item-extension":"library-item_library-item-extension_wHgEE",libraryItemExtension:"library-item_library-item-extension_wHgEE",hidden:"library-item_hidden_qWfvV",disabled:"library-item_disabled_udvIX","library-item-image-container-wrapper":"library-item_library-item-image-container-wrapper_3TFcU",libraryItemImageContainerWrapper:"library-item_library-item-image-container-wrapper_3TFcU","library-item-image-container":"library-item_library-item-image-container_1VgKJ",libraryItemImageContainer:"library-item_library-item-image-container_1VgKJ","library-item-inset-image-container":"library-item_library-item-inset-image-container_2oGku",libraryItemInsetImageContainer:"library-item_library-item-inset-image-container_2oGku","library-item-image":"library-item_library-item-image_3G7nd",libraryItemImage:"library-item_library-item-image_3G7nd","library-item-inset-image":"library-item_library-item-inset-image_qk3QS",libraryItemInsetImage:"library-item_library-item-inset-image_qk3QS","library-item-name":"library-item_library-item-name_35ftf",libraryItemName:"library-item_library-item-name_35ftf","featured-item":"library-item_featured-item_3dHDW",featuredItem:"library-item_featured-item_3dHDW","featured-image-container":"library-item_featured-image-container_2x7jE",featuredImageContainer:"library-item_featured-image-container_2x7jE","featured-image":"library-item_featured-image_1rsDU",featuredImage:"library-item_featured-image_1rsDU","featured-text":"library-item_featured-text_xD5Ve",featuredText:"library-item_featured-text_xD5Ve","featured-extension-text":"library-item_featured-extension-text_2sSn4",featuredExtensionText:"library-item_featured-extension-text_2sSn4","featured-description":"library-item_featured-description_1hGaH",featuredDescription:"library-item_featured-description_1hGaH","featured-extension-metadata":"library-item_featured-extension-metadata_24DYi",featuredExtensionMetadata:"library-item_featured-extension-metadata_24DYi","featured-extension-requirement":"library-item_featured-extension-requirement_30Ghz",featuredExtensionRequirement:"library-item_featured-extension-requirement_30Ghz","featured-extension-collaboration":"library-item_featured-extension-collaboration_13t7u",featuredExtensionCollaboration:"library-item_featured-extension-collaboration_13t7u","featured-extension-metadata-detail":"library-item_featured-extension-metadata-detail_2kvJn",featuredExtensionMetadataDetail:"library-item_featured-extension-metadata-detail_2kvJn","coming-soon-text":"library-item_coming-soon-text_ZcFGD",comingSoonText:"library-item_coming-soon-text_ZcFGD"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,"/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ .divider_divider_2uUWW {\n    border-right: 1px dashed hsla(0, 0%, 0%, 0.15);\n}\n",""]),t.locals={divider:"divider_divider_2uUWW"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n.filter_filter_3ERdM {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    flex-grow: 1;\n\n    background: hsla(0, 100%, 100%, 1);\n    border-radius: 10rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    height: 2.5rem;\n\n    position: relative;\n}\n\n[theme="dark"] .filter_filter_3ERdM {\n    background: var(--ui-primary, hsla(215, 100%, 95%, 1));\n}\n\n.filter_filter-icon_2b5SH {\n    position: absolute;\n    top: 0;\n\n    height: 1rem;\n    width: 1rem;\n}\n\n[dir="ltr"] .filter_filter-icon_2b5SH {\n    left: 0;\n    margin: 0.75rem 0.75rem 0.75rem 1rem;\n}\n\n[dir="rtl"] .filter_filter-icon_2b5SH {\n    right: 0;\n    margin: 0.75rem 1rem 0.75rem 0.75rem;\n    transform: scaleX(-1);\n}\n\n.filter_filter_3ERdM:focus-within {\n    box-shadow: 0 0 0 .25rem hsla(0, 100%, 65%, 0.35);\n}\n\n/*\n    Hidden state\n*/\n\n.filter_x-icon-wrapper_3u3wB {\n    opacity: 0;\n    position: absolute;\n    top: 0;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    overflow: hidden;  /* Mask the icon animation */\n    height: 1.25rem;\n    width: 1.25rem;\n    margin: 0.625rem;\n\n    border-radius: 50%;\n    pointer-events: none;\n    cursor: default;\n    transition: opacity 0.05s linear;\n}\n\n[dir="ltr"] .filter_x-icon-wrapper_3u3wB {\n    right: 0;\n}\n\n[dir="rtl"] .filter_x-icon-wrapper_3u3wB {\n    left: 0;\n}\n\n/*\n    Shown state\n*/\n\n.filter_filter_3ERdM.filter_is-active_2vZjc .filter_x-icon-wrapper_3u3wB {\n    pointer-events: auto;\n    cursor: pointer;\n    opacity: 1;\n    transition: opacity 0.05s linear;\n}\n\n.filter_filter_3ERdM.filter_is-active_2vZjc .filter_x-icon-wrapper_3u3wB:hover {\n    transform: scale(1.2, 1.2);\n}\n\n/*\n    Hidden state\n*/\n\n.filter_x-icon_P0M2o {\n    position: relative;\n    margin: 0.25rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    transform: translateX(0.5rem);\n    transition: transform 0.085s cubic-bezier(0.78, 1, 1, 1);\n}\n\n/*\n    Shown state\n*/\n\n.filter_filter_3ERdM.filter_is-active_2vZjc .filter_x-icon-wrapper_3u3wB .filter_x-icon_P0M2o {\n    transform: translateX(0);\n}\n\n.filter_filter-input_3aL2D {\n    flex-grow: 1;\n    height: 2.5rem;\n    background-color: transparent;\n    -webkit-appearance: none;\n    outline: none;\n    border: 0;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    font-size: 0.75rem;\n    letter-spacing: 0.15px;\n    cursor: text;\n}\n\n[dir="ltr"] .filter_filter-input_3aL2D {\n    padding: .625rem 2rem .625rem 3rem;\n}\n\n[dir="rtl"] .filter_filter-input_3aL2D {\n    padding: .625rem 3rem .625rem 2rem;\n}\n\n.filter_filter-input_3aL2D::-ms-input-placeholder {\n    opacity: .5;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    font-size: 0.875rem;\n    letter-spacing: 0.15px;\n}\n\n.filter_filter-input_3aL2D::placeholder {\n    opacity: .5;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    font-size: 0.875rem;\n    letter-spacing: 0.15px;\n}\n\n[dir="ltr"] .filter_filter-input_3aL2D::-ms-input-placeholder {\n    padding: 0 0 0 0.25rem;\n}\n\n[dir="ltr"] .filter_filter-input_3aL2D::placeholder {\n    padding: 0 0 0 0.25rem;\n}\n\n[dir="rtl"] .filter_filter-input_3aL2D::-ms-input-placeholder {\n    padding: 0 0.25rem 0 0;\n}\n\n[dir="rtl"] .filter_filter-input_3aL2D::placeholder {\n    padding: 0 0.25rem 0 0;\n}\n',""]),t.locals={filter:"filter_filter_3ERdM","filter-icon":"filter_filter-icon_2b5SH",filterIcon:"filter_filter-icon_2b5SH","x-icon-wrapper":"filter_x-icon-wrapper_3u3wB",xIconWrapper:"filter_x-icon-wrapper_3u3wB","is-active":"filter_is-active_2vZjc",isActive:"filter_is-active_2vZjc","x-icon":"filter_x-icon_P0M2o",xIcon:"filter_x-icon_P0M2o","filter-input":"filter_filter-input_3aL2D",filterInput:"filter_filter-input_3aL2D"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,"/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ .tag-button_tag-button_3MxU5 {\n    padding: .625rem 1rem;\n    background: hsla(0, 100%, 65%, 1);\n    border-radius: 1.375rem;\n    color: hsla(0, 100%, 100%, 1);\n    height: 2.5rem;\n} .tag-button_tag-button-icon_3VB4Q {\n    max-width: 1rem;\n    max-height: 1rem;\n} .tag-button_active_1IIH9 {\n    background: hsla(30, 100%, 55%, 1);\n}\n",""]),t.locals={"tag-button":"tag-button_tag-button_3MxU5",tagButton:"tag-button_tag-button_3MxU5","tag-button-icon":"tag-button_tag-button-icon_3VB4Q",tagButtonIcon:"tag-button_tag-button-icon_3VB4Q",active:"tag-button_active_1IIH9"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,"/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ .spinner_spinner_2cI8K {\n    width: 1.25rem;\n    height: 1.25rem;\n    display: inline-block;\n    position: relative;\n    border-radius: 50%;\n    border-width: .1875rem;\n    border-style: solid;\n    border-color: hsla(0, 100%, 100%, 0.25);\n    box-sizing: content-box;\n} .spinner_spinner_2cI8K::before, .spinner_spinner_2cI8K::after {\n    width: 1.25rem;\n    height: 1.25rem;\n    content: '';\n    border-radius: 50%;\n    display: block;\n} .spinner_spinner_2cI8K::after {\n    position: absolute;\n    top: -.1875rem;\n    left: -.1875rem;\n    border: .1875rem solid transparent;\n    border-top-color: hsla(0, 100%, 100%, 1);\n    animation: spinner_spin_23oBt 1.5s cubic-bezier(0.4, 0.1, 0.4, 1) infinite;\n} .spinner_small_3zDcs {\n    width: .5rem;\n    height: .5rem;\n} .spinner_small_3zDcs::before, .spinner_small_3zDcs::after {\n    width: .5rem;\n    height: .5rem;\n} .spinner_large_HL-hN {\n    width: 2.5rem;\n    height: 2.5rem;\n} .spinner_large_HL-hN::before, .spinner_large_HL-hN::after {\n    width: 2.5rem;\n    height: 2.5rem;\n} @keyframes spinner_spin_23oBt {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n} .spinner_spinner_2cI8K.spinner_success_OfY7K {\n    border-color: hsla(10, 85%, 65%, 0.35);\n} .spinner_spinner_2cI8K.spinner_success_OfY7K::after {\n    border-top-color: hsla(10, 85%, 65%, 1);\n} .spinner_spinner_2cI8K.spinner_warn_6cVNT {\n    border-color: hsla(30, 100%, 55%, 0.25);\n} .spinner_spinner_2cI8K.spinner_warn_6cVNT::after {\n    border-top-color: hsla(30, 100%, 55%, 1);\n} .spinner_spinner_2cI8K.spinner_info_2Oc6P {\n    border-color: hsla(0, 100%, 100%, 0.25);\n} .spinner_spinner_2cI8K.spinner_info_2Oc6P::after {\n    border-top-color: hsla(0, 100%, 100%, 1);\n} .spinner_spinner_2cI8K.spinner_primary_2zFm4 {\n    border-color: hsla(0, 100%, 65%, 0.35);\n} .spinner_spinner_2cI8K.spinner_primary_2zFm4::after {\n    border-top-color: hsla(0, 100%, 65%, 1);\n}\n",""]),t.locals={spinner:"spinner_spinner_2cI8K",spin:"spinner_spin_23oBt",small:"spinner_small_3zDcs",large:"spinner_large_HL-hN",success:"spinner_success_OfY7K",warn:"spinner_warn_6cVNT",info:"spinner_info_2Oc6P",primary:"spinner_primary_2zFm4"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n.library_library-scroll-grid_7xk1I {\n    display: flex;\n    justify-content: flex-start;\n    align-content: flex-start;\n    align-items: flex-start;\n    background: var(--ui-secondary, hsla(215, 75%, 95%, 1));\n    flex-grow: 1;\n    flex-wrap: wrap;\n    overflow-y: auto;\n    height: auto;\n    padding: 0.5rem;\n    height: calc(100% - 3.125rem);\n}\n\n.library_library-scroll-grid_7xk1I.library_withFilterBar_G4Jc2 {\n    height: calc(100% - 3.125rem - 2.5rem - 2rem);\n}\n\n.library_filter-bar_8xrjd {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    height: calc(2.5rem + 2rem); /* padding */\n    background-color: hsla(0, 100%, 65%, 0.35);\n    padding: 0 1rem;\n    font-size: .875rem;\n}\n\n.library_filter-bar-item_1eoVo {\n    margin-right: .75rem;\n}\n\n.library_filter_1E2FK {\n    flex-grow: 0;\n}\n\n.library_filter-input_3U79K {\n    width: 11.5rem;\n    transition: .2s;\n}\n\n.library_filter-input_3U79K:focus,\n.library_filter-input_3U79K:not([value=""]) {\n    width: 18.75rem;\n}\n\n.library_divider_3gNN2 {\n    transform: scaleY(1.39);\n    height: 2.5rem;\n}\n\n.library_tag-wrapper_3hrLl {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    height: 2.5rem;\n    overflow: hidden;\n}\n\n.library_spinner-wrapper_zSF8e {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n',""]),t.locals={"library-scroll-grid":"library_library-scroll-grid_7xk1I",libraryScrollGrid:"library_library-scroll-grid_7xk1I",withFilterBar:"library_withFilterBar_G4Jc2","filter-bar":"library_filter-bar_8xrjd",filterBar:"library_filter-bar_8xrjd","filter-bar-item":"library_filter-bar-item_1eoVo",filterBarItem:"library_filter-bar-item_1eoVo",filter:"library_filter_1E2FK","filter-input":"library_filter-input_3U79K",filterInput:"library_filter-input_3U79K",divider:"library_divider_3gNN2","tag-wrapper":"library_tag-wrapper_3hrLl",tagWrapper:"library_tag-wrapper_3hrLl","spinner-wrapper":"library_spinner-wrapper_zSF8e",spinnerWrapper:"library_spinner-wrapper_zSF8e"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ .custom-procedures_modal-content_1wJuI {\n    width: 700px;\n    margin: 50px auto; /* This modal is taller than most, reduce top margin */\n} .custom-procedures_body_1H7Iq {\n    background: hsla(0, 100%, 100%, 1);\n    padding: 1.5rem 2.25rem;\n} [theme="dark"] .custom-procedures_body_1H7Iq {\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    background: var(--ui-secondary, hsla(215, 75%, 95%, 1));\n} .custom-procedures_body_1H7Iq input[type="checkbox"],\n.custom-procedures_body_1H7Iq input[type="radio"] {\n    margin: 3px;\n} /* Blocks workspace for custom procedure declaration editor */ .custom-procedures_workspace_2fBw7 {\n    min-height: 200px;\n    position: relative;\n} .custom-procedures_workspace_2fBw7 .injectionDiv{\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n} .custom-procedures_workspace_2fBw7 .blocklySvg {\n    background-color: var(--ui-primary, hsla(215, 100%, 95%, 1));\n} /* Row of "card" buttons for modifying custom procedures */ .custom-procedures_options-row_2qj-y {\n    display: flex;\n    justify-content: space-between;\n} .custom-procedures_option-card_1Gtvt {\n    background: white;\n    border: 2px solid hsla(0, 0%, 0%, 0.15);\n    border-radius: 0.5rem;\n    padding: calc(0.5rem * 2);\n    text-align: center;\n    flex-grow: 1;\n    cursor: pointer;\n    transition: all 0.2s;\n    flex-basis: 100px;\n} [theme="dark"] .custom-procedures_option-card_1Gtvt {\n    background: var(--ui-tertiary, hsla(215, 50%, 90%, 1));\n} .custom-procedures_option-card_1Gtvt:hover {\n    border: 2px solid hsla(0, 100%, 65%, 1);\n    box-shadow: 0px 0px 0px 4px hsla(0, 100%, 65%, 0.35);\n} .custom-procedures_option-card_1Gtvt + .custom-procedures_option-card_1Gtvt {\n    margin-left: 1rem;\n} .custom-procedures_option-icon_1q0dQ {\n    max-height: 48px;\n    margin-bottom: 0.5rem;\n} .custom-procedures_option-title_21_2M {\n    font-weight: bold;\n} /* "Run without screen refresh" row */ .custom-procedures_checkbox-row_x0PwF {\n    margin-top: 1rem;\n} /* Confirmation buttons at the bottom of the modal */ .custom-procedures_button-row_3EJDk {\n    margin-top: 1rem;\n    font-weight: bolder;\n    text-align: right;\n} .custom-procedures_button-row_3EJDk button {\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-radius: 0.25rem;\n    padding: 0.75rem 1rem;\n    background: white;\n    font-weight: bold;\n    font-size: 0.85rem;\n} .custom-procedures_button-row_3EJDk button.custom-procedures_ok-button_3XcwO {\n    background: hsla(0, 100%, 65%, 1);\n    border: hsla(0, 100%, 65%, 1);\n    color: white;\n} [dir="ltr"] .custom-procedures_button-row_3EJDk button + button {\n    margin-left: 0.5rem;\n} [dir="rtl"] .custom-procedures_button-row_3EJDk button + button {\n    margin-right: 0.5rem;\n} .custom-procedures_cancel-button_HKBG7 {\n    color: black;\n}\n',""]),t.locals={"modal-content":"custom-procedures_modal-content_1wJuI",modalContent:"custom-procedures_modal-content_1wJuI",body:"custom-procedures_body_1H7Iq",workspace:"custom-procedures_workspace_2fBw7","options-row":"custom-procedures_options-row_2qj-y",optionsRow:"custom-procedures_options-row_2qj-y","option-card":"custom-procedures_option-card_1Gtvt",optionCard:"custom-procedures_option-card_1Gtvt","option-icon":"custom-procedures_option-icon_1q0dQ",optionIcon:"custom-procedures_option-icon_1q0dQ","option-title":"custom-procedures_option-title_21_2M",optionTitle:"custom-procedures_option-title_21_2M","checkbox-row":"custom-procedures_checkbox-row_x0PwF",checkboxRow:"custom-procedures_checkbox-row_x0PwF","button-row":"custom-procedures_button-row_3EJDk",buttonRow:"custom-procedures_button-row_3EJDk","ok-button":"custom-procedures_ok-button_3XcwO",okButton:"custom-procedures_ok-button_3XcwO","cancel-button":"custom-procedures_cancel-button_HKBG7",cancelButton:"custom-procedures_cancel-button_HKBG7"}},,,,,,,,function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ /* wrapper to allow for touch slop if we decide to add it */ .delete-button_delete-button_JjOIx {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    cursor: pointer;\n    transition: all 0.15s ease-out;\n} .delete-button_delete-button-visible_mAZdj {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;  /* Mask the icon animation */\n  width: 1.75rem;\n  height: 1.75rem;\n  box-shadow: 0px 0px 0px 2px hsla(0, 100%, 65%, 0.35);\n  background-color: hsla(0, 100%, 65%, 1);\n  color: hsla(0, 100%, 100%, 1);\n  border-radius: 50%;\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  cursor: pointer;\n  transition: all 0.15s ease-out;\n} .delete-button_delete-icon_2tDWR {\n    position: relative;\n    margin: 0.25rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    transform-origin: 50%;\n}\n',""]),t.locals={"delete-button":"delete-button_delete-button_JjOIx",deleteButton:"delete-button_delete-button_JjOIx","delete-button-visible":"delete-button_delete-button-visible_mAZdj",deleteButtonVisible:"delete-button_delete-button-visible_mAZdj","delete-icon":"delete-button_delete-icon_2tDWR",deleteIcon:"delete-button_delete-icon_2tDWR"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n/* @todo: refactor this class name, and component: `sprite-selector` to `sprite` */\n\n.sprite-selector-item_sprite-selector-item_3c9Kl {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    position: relative;\n\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-size: 0.8rem;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    border-width: 2px;\n    border-style: solid;\n    border-color: hsla(0, 0%, 0%, 0.15);\n    border-radius: 0.5rem;\n\n    text-align: center;\n    cursor: pointer;\n\n    -webkit-user-select: none;\n\n       -moz-user-select: none;\n\n        -ms-user-select: none;\n\n            user-select: none;\n}\n\n[theme="dark"] .sprite-selector-item_sprite-selector-item_3c9Kl {\n    border-color: rgba(255, 255, 255, 0.1);\n}\n\n.sprite-selector-item_sprite-selector-item_3c9Kl.sprite-selector-item_is-selected_EE4jo {\n    box-shadow: 0px 0px 0px 4px hsla(0, 100%, 65%, 0.35);\n    border: 2px solid hsla(0, 100%, 65%, 1);\n    background: hsla(0, 100%, 100%, 1);\n}\n\n[theme="dark"] .sprite-selector-item_sprite-selector-item_3c9Kl.sprite-selector-item_is-selected_EE4jo {\n    background: var(--ui-primary, hsla(215, 100%, 95%, 1));\n}\n\n.sprite-selector-item_sprite-selector-item_3c9Kl:hover {\n    border: 2px solid hsla(0, 100%, 65%, 1);\n    background: hsla(0, 100%, 100%, 1);\n}\n\n[theme="dark"] .sprite-selector-item_sprite-selector-item_3c9Kl:hover {\n    background: var(--ui-primary, hsla(215, 100%, 95%, 1));\n}\n\n.sprite-selector-item_sprite-selector-item_3c9Kl:hover .sprite-selector-item_sprite-image_1uVIo, .sprite-selector-item_is-selected_EE4jo .sprite-selector-item_sprite-image_1uVIo {\n    filter: drop-shadow(0px 0px 2px  hsla(0, 0%, 0%, 0.15));\n}\n\n/* Outer/Inner chicanery is to prevent layouts when sprite image changes */\n\n.sprite-selector-item_sprite-image-outer_1P6nT {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    transform: translateZ(0);\n}\n\n.sprite-selector-item_sprite-image-inner_x0FPK {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.sprite-selector-item_sprite-image_1uVIo {\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    pointer-events: none;\n    max-width: 32px;\n    max-height: 32px;\n}\n\n.sprite-selector-item_sprite-info_RsbR2 {\n    padding: 0.25rem;\n    border-bottom-left-radius: 0.25rem;\n    border-bottom-right-radius: 0.25rem;\n\n    font-size: 0.625rem;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n\n.sprite-selector-item_sprite-name_3gG3r, .sprite-selector-item_sprite-details_XPpRw {\n    /*\n        For truncating overflowing text gracefully\n        Min-width is for a bug: https://css-tricks.com/flexbox-truncated-text\n    */\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    min-width: 0;\n}\n\n.sprite-selector-item_sprite-details_XPpRw {\n    margin-top: 0.125rem;\n    font-size: 0.5rem;\n}\n\n.sprite-selector-item_is-selected_EE4jo .sprite-selector-item_sprite-info_RsbR2 {\n    background: hsla(0, 100%, 65%, 1);\n    color: hsla(0, 100%, 100%, 1);\n}\n\n.sprite-selector-item_delete-button_1V2xC {\n    position: absolute;\n    top: -.625rem;\n    z-index: auto;\n}\n\n[dir="ltr"] .sprite-selector-item_delete-button_1V2xC {\n    right: -.625rem;\n}\n\n[dir="rtl"] .sprite-selector-item_delete-button_1V2xC {\n    left: -.625rem;\n}\n\n.sprite-selector-item_number_PKBcU {\n    position: absolute;\n    top: 0.15rem;\n    font-size: 0.625rem;\n    font-weight: bold;\n    z-index: 2;\n}\n\n[dir="ltr"] .sprite-selector-item_number_PKBcU {\n    left: 0.15rem;\n}\n\n[dir="rtl"] .sprite-selector-item_number_PKBcU {\n    right: 0.15rem;\n}\n',""]),t.locals={"sprite-selector-item":"sprite-selector-item_sprite-selector-item_3c9Kl",spriteSelectorItem:"sprite-selector-item_sprite-selector-item_3c9Kl","is-selected":"sprite-selector-item_is-selected_EE4jo",isSelected:"sprite-selector-item_is-selected_EE4jo","sprite-image":"sprite-selector-item_sprite-image_1uVIo",spriteImage:"sprite-selector-item_sprite-image_1uVIo","sprite-image-outer":"sprite-selector-item_sprite-image-outer_1P6nT",spriteImageOuter:"sprite-selector-item_sprite-image-outer_1P6nT","sprite-image-inner":"sprite-selector-item_sprite-image-inner_x0FPK",spriteImageInner:"sprite-selector-item_sprite-image-inner_x0FPK","sprite-info":"sprite-selector-item_sprite-info_RsbR2",spriteInfo:"sprite-selector-item_sprite-info_RsbR2","sprite-name":"sprite-selector-item_sprite-name_3gG3r",spriteName:"sprite-selector-item_sprite-name_3gG3r","sprite-details":"sprite-selector-item_sprite-details_XPpRw",spriteDetails:"sprite-selector-item_sprite-details_XPpRw","delete-button":"sprite-selector-item_delete-button_1V2xC",deleteButton:"sprite-selector-item_delete-button_1V2xC",number:"sprite-selector-item_number_PKBcU"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ /*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/ /* Toolbox z-index: 40; set in scratch-blocks */ /* tooltips should go over add buttons if they overlap */ /* monitors go over add buttons */ /* "ask" block text input goes above monitors */ /* menu-bar should go over monitors, alerts and tutorials */ /* tw: show below menu bar normally */ /* Block drag z-index: 1000; default 50 is overriden in blocks.css */ /* so it is draggable into other panes */ /* in most interfaces, the context menu is always on top */ .context-menu_context-menu_3Ahoz {\n    min-width: 130px;\n    padding: 5px 0; /* The white strip at the top and bottom of the menu */\n    margin: 2px 0 0; /* To keep the menu below the cursor comfortably */\n    font-size: 0.85rem;\n    text-align: left;\n    background-color: hsla(0, 100%, 100%, 1);\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-radius: calc(0.5rem / 2);\n    box-shadow: 0px 0px 5px 1px hsla(0, 0%, 0%, 0.15);\n    pointer-events: none;\n    transition: opacity 0.2s ease;\n    z-index: 10000;\n} [theme="dark"] .context-menu_context-menu_3Ahoz {\n    background-color: var(--ui-primary, hsla(215, 100%, 95%, 1));\n    border-color: var(--ui-tertiary, hsla(215, 50%, 90%, 1));\n} .context-menu_menu-item_2ReLI {\n    padding: 8px 12px;\n    white-space: nowrap;\n    cursor: pointer;\n    transition: 0.1s ease;\n} .context-menu_menu-item_2ReLI:hover {\n    background: hsla(0, 100%, 65%, 1);\n    color: white;\n} .context-menu_menu-item-bordered_13kR6 {\n    border-top: 1px solid hsla(0, 0%, 0%, 0.15);\n} [theme="dark"] .context-menu_menu-item-bordered_13kR6 {\n    border-color: var(--ui-tertiary, hsla(215, 50%, 90%, 1));\n} .context-menu_menu-item-danger_mMyy6:hover {\n    background: hsla(30, 100%, 55%, 1);\n}\n',""]),t.locals={"context-menu":"context-menu_context-menu_3Ahoz",contextMenu:"context-menu_context-menu_3Ahoz","menu-item":"context-menu_menu-item_2ReLI",menuItem:"context-menu_menu-item_2ReLI","menu-item-bordered":"context-menu_menu-item-bordered_13kR6",menuItemBordered:"context-menu_menu-item-bordered_13kR6","menu-item-danger":"context-menu_menu-item-danger_mMyy6",menuItemDanger:"context-menu_menu-item-danger_mMyy6"}},,,,,,,,,,,,function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ /*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/ /* Toolbox z-index: 40; set in scratch-blocks */ /* tooltips should go over add buttons if they overlap */ /* monitors go over add buttons */ /* "ask" block text input goes above monitors */ /* menu-bar should go over monitors, alerts and tutorials */ /* tw: show below menu bar normally */ /* Block drag z-index: 1000; default 50 is overriden in blocks.css */ /* so it is draggable into other panes */ /* in most interfaces, the context menu is always on top */ .action-menu_menu-container_2bnPG {\n    display: flex;\n    flex-direction: column-reverse;\n    transition: 0.2s;\n    position: relative;\n} .action-menu_button_31je5 {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    background: hsla(0, 100%, 65%, 1);\n    outline: none;\n    border: none;\n    transition: background-color 0.2s;\n} button::-moz-focus-inner {\n    border: 0;\n} .action-menu_button_31je5:hover {\n    background: hsla(10, 85%, 65%, 1);\n} .action-menu_button_31je5:active {\n    padding: inherit;\n} .action-menu_button_31je5.action-menu_coming-soon_ljJAN:hover {\n    background: hsla(30, 100%, 55%, 1);\n} .action-menu_main-button_2m3TE {\n    border-radius: 100%;\n    width: 2.75rem;\n    height: 2.75rem;\n    box-shadow: 0 0 0 4px hsla(0, 100%, 65%, 0.35);\n    z-index: 46;\n    transition: transform, box-shadow 0.5s;\n} .action-menu_main-button_2m3TE:hover {\n  transform: scale(1.1);\n  box-shadow: 0 0 0 6px hsla(0, 100%, 65%, 0.35);\n} .action-menu_main-icon_A7K5D {\n    width: calc(2.75rem - 1rem);\n    height: calc(2.75rem - 1rem);\n} [dir="rtl"] .action-menu_main-icon_A7K5D {\n    transform: scaleX(-1);\n} .action-menu_more-buttons-outer_1tVn_ {\n    /*\n        Need to use two divs to set different overflow x/y\n        which is needed to get animation to look right while\n        allowing the tooltips to be visible.\n    */\n    overflow-y: hidden;\n\n    background: hsla(0, 60%, 50%, 1);\n    border-top-left-radius: 2.25rem;\n    border-top-right-radius: 2.25rem;\n    width: 2.25rem;\n    margin-left: calc((2.75rem - 2.25rem) / 2);\n    margin-right: calc((2.75rem - 2.25rem) / 2);\n\n    position: absolute;\n    bottom: calc(2.75rem);\n\n    margin-bottom: calc(2.75rem / -2);\n    padding-bottom: calc(2.75rem / 2);\n} .action-menu_more-buttons_39RLQ {\n    max-height: 0;\n    transition: max-height 1s;\n    overflow-x: visible;\n    display: flex;\n    flex-direction: column;\n    z-index: 10; /* @todo justify */\n} .action-menu_file-input_rJdU0 {\n    display: none;\n} .action-menu_expanded_SjWya .action-menu_more-buttons_39RLQ {\n    max-height: 1000px; /* Arbitrary, needs to be a value in order for animation to run */\n} .action-menu_force-hidden_2bzzZ .action-menu_more-buttons_39RLQ {\n    display: none; /* This property does not animate */\n} .action-menu_more-buttons_39RLQ:first-child { /* Round off top button */\n    border-top-right-radius: 2.25rem;\n    border-top-left-radius: 2.25rem;\n} .action-menu_more-button_FdlvY {\n    width: 2.25rem;\n    height: 2.25rem;\n    background: hsla(0, 60%, 50%, 1);\n} .action-menu_more-icon_3wj6o {\n    width: calc(2.25rem - 1rem);\n    height: calc(2.25rem - 1rem);\n} .action-menu_coming-soon_ljJAN .action-menu_more-icon_3wj6o {\n    opacity: 0.5;\n} /*\n    @todo needs to be refactored with coming soon tooltip overrides.\n    The "!important"s are for the same reason as with coming soon, the library\n    is not very easy to style.\n*/ .action-menu_tooltip_1YpkD {\n    background-color: hsla(10, 85%, 65%, 1) !important;\n    opacity: 1 !important;\n    border: 1px solid hsla(0, 0%, 0%, .1) !important;\n    box-shadow: 0 0 .5rem hsla(0, 0%, 0%, .25) !important;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif !important;\n} .action-menu_tooltip_1YpkD:after {\n    background-color: hsla(10, 85%, 65%, 1);\n} .action-menu_coming-soon-tooltip_1Hk4Q {\n    background-color: hsla(30, 100%, 55%, 1) !important;\n} .action-menu_coming-soon-tooltip_1Hk4Q:after {\n    background-color: hsla(30, 100%, 55%, 1) !important;\n} .action-menu_tooltip_1YpkD {\n    border: 1px solid hsla(0, 0%, 0%, .1) !important;\n    border-radius: calc(0.5rem / 2) !important;\n    box-shadow: 0 0 .5rem hsla(0, 0%, 0%, .25) !important;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif !important;\n    z-index: 47 !important;\n} .action-menu_tooltip_1YpkD:after {\n    content: "";\n    border-top: 1px solid hsla(0, 0%, 0%, .1) !important;\n    border-left: 0 !important;\n    border-bottom: 0 !important;\n    border-right: 1px solid hsla(0, 0%, 0%, .1) !important;\n    border-radius: 0.125rem;\n    height: 0.5rem !important;\n    width: 0.5rem !important;\n} .action-menu_tooltip_1YpkD.place-left:after {\n    margin-top: -0.25rem !important;\n    right: -0.25rem !important;\n    transform: rotate(45deg) !important;\n} .action-menu_tooltip_1YpkD.place-right:after {\n    margin-top: -0.25rem !important;\n    left: -0.25rem !important;\n    transform: rotate(-135deg) !important;\n} .action-menu_tooltip_1YpkD.place-top:after {\n    margin-right: -0.25rem !important;\n    bottom: -0.25rem !important;\n    transform: rotate(135deg) !important;\n} .action-menu_tooltip_1YpkD.place-bottom:after {\n    margin-left: -0.25rem !important;\n    top: -0.25rem !important;\n    transform: rotate(-45deg) !important;\n}\n',""]),t.locals={"menu-container":"action-menu_menu-container_2bnPG",menuContainer:"action-menu_menu-container_2bnPG",button:"action-menu_button_31je5","coming-soon":"action-menu_coming-soon_ljJAN",comingSoon:"action-menu_coming-soon_ljJAN","main-button":"action-menu_main-button_2m3TE",mainButton:"action-menu_main-button_2m3TE","main-icon":"action-menu_main-icon_A7K5D",mainIcon:"action-menu_main-icon_A7K5D","more-buttons-outer":"action-menu_more-buttons-outer_1tVn_",moreButtonsOuter:"action-menu_more-buttons-outer_1tVn_","more-buttons":"action-menu_more-buttons_39RLQ",moreButtons:"action-menu_more-buttons_39RLQ","file-input":"action-menu_file-input_rJdU0",fileInput:"action-menu_file-input_rJdU0",expanded:"action-menu_expanded_SjWya","force-hidden":"action-menu_force-hidden_2bzzZ",forceHidden:"action-menu_force-hidden_2bzzZ","more-button":"action-menu_more-button_FdlvY",moreButton:"action-menu_more-button_FdlvY","more-icon":"action-menu_more-icon_3wj6o",moreIcon:"action-menu_more-icon_3wj6o",tooltip:"action-menu_tooltip_1YpkD","coming-soon-tooltip":"action-menu_coming-soon-tooltip_1Hk4Q",comingSoonTooltip:"action-menu_coming-soon-tooltip_1Hk4Q"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ .selector_wrapper_1v6kq {\n    width: 150px;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    background: var(--ui-tertiary, hsla(215, 50%, 90%, 1));\n} .selector_new-buttons_2iXR0 {\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-around;\n    padding: 0.75rem 0;\n    color: hsla(0, 100%, 65%, 1);\n    text-align: center;\n    background: none;\n} .selector_new-buttons_2iXR0:before {\n    content: "";\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right:0;\n    background: linear-gradient(rgba(232,237,241, 0),rgba(232,237,241, 1));\n    height: 100px;\n    width: 100%;\n    pointer-events: none;\n} [theme="dark"] .selector_new-buttons_2iXR0:before {\n    background: linear-gradient(rgba(94, 96, 97, 0),rgb(59, 59, 59));\n} .selector_new-buttons_2iXR0 > button + button {\n    margin-top: 0.75rem;\n} .selector_list-area_2Lh0T {\n    /* Must have some height (recalculated by flex-grow) in order to scroll */\n    height: 0;\n    flex-grow: 1;\n    overflow-y: scroll;\n    display: flex;\n    flex-direction: column;\n} .selector_list-area_2Lh0T:after {\n    /* Make sure there is room to scroll beyond the last tile */\n    content: \'\';\n    display: block;\n    height: 70px;\n    width: 100%;\n    flex-shrink: 0;\n    order: 99999999;\n} .selector_list-item_2s63_ {\n    width: 5rem;\n    height: 5rem;\n    margin: 0.5rem auto;\n} @media only screen and (max-width: 1249px) {\n    .selector_wrapper_1v6kq {\n        width: 80px;\n    }\n\n    .selector_list-item_2s63_ {\n        width: 4rem;\n    }\n} .selector_list-item_2s63_.selector_placeholder_1MsBA {\n    background: white;\n    filter: opacity(15%) brightness(0%);\n}\n',""]),t.locals={wrapper:"selector_wrapper_1v6kq","new-buttons":"selector_new-buttons_2iXR0",newButtons:"selector_new-buttons_2iXR0","list-area":"selector_list-area_2Lh0T",listArea:"selector_list-area_2Lh0T","list-item":"selector_list-item_2s63_",listItem:"selector_list-item_2s63_",placeholder:"selector_placeholder_1MsBA"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n.asset-panel_wrapper_26zMp {\n    display: flex;\n    flex-grow: 1;\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    background: white;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-size: 0.85rem;\n}\n\n[theme="dark"] .asset-panel_wrapper_26zMp {\n    background: var(--ui-primary, hsla(215, 100%, 95%, 1));\n}\n\n[dir="ltr"] .asset-panel_wrapper_26zMp {\n    border-top-right-radius: 0.5rem;\n    border-bottom-right-radius: 0.5rem;\n}\n\n[dir="rtl"] .asset-panel_wrapper_26zMp {\n    border-top-left-radius: 0.5rem;\n    border-bottom-left-radius: 0.5rem;\n}\n\n.asset-panel_detail-area_3eEbw {\n    display: flex;\n    flex-grow: 1;\n    flex-shrink: 1;\n    overflow: visible;\n}\n\n[dir="ltr"] .asset-panel_detail-area_3eEbw {\n    border-left: 1px solid hsla(0, 0%, 0%, 0.15);\n}\n\n[dir="rtl"] .asset-panel_detail-area_3eEbw {\n    border-right: 1px solid hsla(0, 0%, 0%, 0.15);\n}\n',""]),t.locals={wrapper:"asset-panel_wrapper_26zMp","detail-area":"asset-panel_detail-area_3eEbw",detailArea:"asset-panel_detail-area_3eEbw"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n.label_input-group_3U1bG {\n    display: inline-flex;\n    flex-direction: row;\n    align-items: center;\n}\n\n.label_input-group-column_UfEsB {\n    display: inline-flex;\n    flex-direction: column;\n    align-items: flex-start;\n}\n\n.label_input-group-column_UfEsB span {\n    margin-bottom: .25rem;\n}\n\n.label_input-label_3WQec, .label_input-label-secondary_2TwJI {\n    font-size: 0.625rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    cursor: default;\n\n    white-space: nowrap;\n}\n\n[dir="ltr"] .label_input-label_3WQec, [dir="ltr"] .label_input-label-secondary_2TwJI {\n    margin-right: .5rem;\n}\n\n[dir="rtl"] .label_input-label_3WQec, [dir="rtl"] .label_input-label-secondary_2TwJI {\n    margin-left: .5rem;\n}\n\n.label_input-label_3WQec {\n    font-weight: bold;\n}\n',""]),t.locals={"input-group":"label_input-group_3U1bG",inputGroup:"label_input-group_3U1bG","input-group-column":"label_input-group-column_UfEsB",inputGroupColumn:"label_input-group-column_UfEsB","input-label":"label_input-label_3WQec",inputLabel:"label_input-label_3WQec","input-label-secondary":"label_input-label-secondary_2TwJI",inputLabelSecondary:"label_input-label-secondary_2TwJI"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n.input_input-form_2EIqD {\n    height: 2rem;\n    padding: 0 0.75rem;\n\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-size: 0.625rem;\n    font-weight: bold;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n\n    border-width: 1px;\n    border-style: solid;\n    border-color: hsla(0, 0%, 0%, 0.15);\n    border-radius: 2rem;\n\n    outline: none;\n    cursor: text;\n    transition: 0.25s ease-out; /* @todo: standardize with var */\n    box-shadow: none;\n\n    /*\n        For truncating overflowing text gracefully\n        Min-width is for a bug: https://css-tricks.com/flexbox-truncated-text\n        @todo: move this out into a mixin or a helper component\n    */\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    min-width: 0;\n}\n\n[theme="dark"] .input_input-form_2EIqD {\n    background: var(--ui-secondary, hsla(215, 75%, 95%, 1));\n    border-color: var(--ui-tertiary, hsla(215, 50%, 90%, 1));\n}\n\n.input_input-form_2EIqD:hover {\n    border-color: hsla(0, 100%, 65%, 1);\n}\n\n[theme="dark"] .input_input-form_2EIqD:hover {\n    border-color: #333;\n}\n\n.input_input-form_2EIqD:focus {\n    border-color: hsla(0, 100%, 65%, 1);\n    box-shadow: 0 0 0 0.25rem hsla(0, 100%, 65%, 0.35);\n}\n\n[theme="dark"] .input_input-form_2EIqD:focus {\n    border-color: #333;\n}\n\n.input_input-small_1bkbs {\n    width: 3rem;\n    padding: 0 0.5rem;\n    text-overflow: clip;\n    text-align: center;\n}\n',""]),t.locals={"input-form":"input_input-form_2EIqD",inputForm:"input_input-form_2EIqD","input-small":"input_input-small_1bkbs",inputSmall:"input_input-small_1bkbs"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,"/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ .dial_container_1JhHX {\n    padding: 1rem;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n} .dial_dial-container_33mkQ {\n    position: relative;\n} .dial_dial-face_2aWlr, .dial_dial-handle_1OHhg, .dial_gauge_3bwaY {\n    position: absolute;\n    top: 0;\n    left: 0;\n    overflow: visible;\n} .dial_dial-face_2aWlr {\n    width: 100%;\n} .dial_dial-handle_1OHhg {\n    cursor: pointer;\n    width: 40px;\n    height: 40px;\n    /* Use margin to make positioning via top/left easier */\n    margin-left: calc(40px / -2);\n    margin-top: calc(40px / -2);\n} .dial_gauge-path_VQesE {\n    fill: hsla(0, 100%, 65%, 0.35);\n    stroke: hsla(0, 100%, 65%, 1);\n    stroke-width: 1px;\n}\n",""]),t.locals={container:"dial_container_1JhHX","dial-container":"dial_dial-container_33mkQ",dialContainer:"dial_dial-container_33mkQ","dial-face":"dial_dial-face_2aWlr",dialFace:"dial_dial-face_2aWlr","dial-handle":"dial_dial-handle_1OHhg",dialHandle:"dial_dial-handle_1OHhg",gauge:"dial_gauge_3bwaY","gauge-path":"dial_gauge-path_VQesE",gaugePath:"dial_gauge-path_VQesE"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,"/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* Copied from scratch-paint color-picker.css. */ .Popover-body {\n    background: white;\n    border: 1px solid #ddd;\n    padding: 4px;\n    border-radius: 4px;\n    padding: 4px;\n    box-shadow: 0px 0px 8px 1px rgba(0, 0, 0, .3);\n} .Popover-tipShape {\n    fill: white;\n    stroke: #ddd;\n} .direction-picker_button-row_33xQd {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n\n} .direction-picker_icon-button_xjdG3 {\n    margin: 0.25rem;\n    border: none;\n    background: none;\n    outline: none;\n    cursor: pointer;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n} .direction-picker_icon-button_xjdG3:active > img {\n    width: 20px;\n    height: 20px;\n    transform: scale(1.15);\n} .direction-picker_icon-button_xjdG3 > img {\n    transition: transform 0.1s;\n    filter: grayscale(100%);\n} .direction-picker_icon-button_xjdG3.direction-picker_active_1Fso_ > img {\n    filter: none;\n}\n",""]),t.locals={"button-row":"direction-picker_button-row_33xQd",buttonRow:"direction-picker_button-row_33xQd","icon-button":"direction-picker_icon-button_xjdG3",iconButton:"direction-picker_icon-button_xjdG3",active:"direction-picker_active_1Fso_"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n.sprite-info_sprite-info_2qOXw {\n    padding: 0.75rem;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    background-color: white;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    border-top-left-radius: 0.5rem;\n    border-top-right-radius: 0.5rem;\n    border-bottom: 1px solid hsla(0, 0%, 0%, 0.15);\n}\n\n[theme="dark"] .sprite-info_sprite-info_2qOXw {\n    background-color: var(--ui-primary, hsla(215, 100%, 95%, 1));\n}\n\n.sprite-info_row_1J2d3 {\n    display: flex;\n    justify-content: space-between;\n}\n\n.sprite-info_row-primary_2Sk7Q {\n    margin-bottom: 0.5rem;\n}\n\n.sprite-info_label_PWLUC { opacity: 0.8; }\n\n.sprite-info_group_-xfiq {\n    display: inline-flex;\n    flex-direction: row; /* makes columns, for each label/form group */\n    align-items: center;\n}\n\n.sprite-info_column_232AG {\n    display: inline-flex;\n    flex-direction: column; /* put label above input */\n    align-items: flex-start;\n}\n\n.sprite-info_column_232AG span {\n    margin-bottom: .25rem;\n}\n\n.sprite-info_icon-wrapper_1fbXG {\n    display: inline-block;\n    width: calc(2rem + 2px);\n    height: calc(2rem + 2px);\n    padding: 0.5rem;\n    outline: none;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n\n.sprite-info_icon_3o-TD {\n    width: 100%;\n    height: 100%;\n}\n\n/* @todo: refactor radio divs to input */\n\n.sprite-info_radio-wrapper_3U5_F {\n    white-space: nowrap; /* make sure visibilty buttons don\'t wrap */\n}\n\n.sprite-info_radio_3rYDe {\n    filter: saturate(0);\n    cursor: pointer;\n}\n\n.sprite-info_radio_3rYDe.sprite-info_is-active_1iGNv {\n    filter: none;\n}\n\n.sprite-info_radio_3rYDe.sprite-info_is-disabled_3dAtr {\n    cursor: default;\n}\n\n.sprite-info_radio-first_1ROI1 {\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n}\n\n[dir="ltr"] .sprite-info_radio-first_1ROI1 {\n    border-top-left-radius: calc(0.5rem / 2);\n    border-bottom-left-radius: calc(0.5rem / 2);\n}\n\n[dir="rtl"] .sprite-info_radio-first_1ROI1 {\n    border-top-right-radius: calc(0.5rem / 2);\n    border-bottom-right-radius: calc(0.5rem / 2);\n}\n\n.sprite-info_radio-first_1ROI1:focus {\n    border-color: hsla(0, 100%, 65%, 1);\n    box-shadow: inset 0 0 0 -2px hsla(0, 0%, 0%, 0.15);\n}\n\n.sprite-info_radio-last_3VIe7 {\n    border-bottom: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-top: 1px solid hsla(0, 0%, 0%, 0.15);\n}\n\n[dir="ltr"] .sprite-info_radio-last_3VIe7 {\n    border-right: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-left: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-top-right-radius: calc(0.5rem / 2);\n    border-bottom-right-radius: calc(0.5rem / 2);\n}\n\n[dir="rtl"] .sprite-info_radio-last_3VIe7 {\n    border-left: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-right: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-top-left-radius: calc(0.5rem / 2);\n    border-bottom-left-radius: calc(0.5rem / 2);\n}\n\n.sprite-info_radio-last_3VIe7:focus {\n    border-color: hsla(0, 100%, 65%, 1);\n    box-shadow: inset 0 0 0 -2px hsla(0, 0%, 0%, 0.15);\n}\n\n.sprite-info_icon_3o-TD {\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n}\n\n.sprite-info_rotation-select_2Fbo2 {\n    width: 100%;\n    height: 1.85rem;\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    outline: none;\n}\n\n.sprite-info_rotation-select_2Fbo2:focus {\n    border-color: hsla(0, 100%, 65%, 1);\n    box-shadow: inset 0 0 0 1px hsla(0, 0%, 0%, 0.15));\n}\n\n.sprite-info_larger-input_2sT6m input {\n    width: 4rem;\n}\n\n.sprite-info_sprite-input_IL2gd {\n    width: 8rem;\n}\n',""]),t.locals={"sprite-info":"sprite-info_sprite-info_2qOXw",spriteInfo:"sprite-info_sprite-info_2qOXw",row:"sprite-info_row_1J2d3","row-primary":"sprite-info_row-primary_2Sk7Q",rowPrimary:"sprite-info_row-primary_2Sk7Q",label:"sprite-info_label_PWLUC",group:"sprite-info_group_-xfiq",column:"sprite-info_column_232AG","icon-wrapper":"sprite-info_icon-wrapper_1fbXG",iconWrapper:"sprite-info_icon-wrapper_1fbXG",icon:"sprite-info_icon_3o-TD","radio-wrapper":"sprite-info_radio-wrapper_3U5_F",radioWrapper:"sprite-info_radio-wrapper_3U5_F",radio:"sprite-info_radio_3rYDe","is-active":"sprite-info_is-active_1iGNv",isActive:"sprite-info_is-active_1iGNv","is-disabled":"sprite-info_is-disabled_3dAtr",isDisabled:"sprite-info_is-disabled_3dAtr","radio-first":"sprite-info_radio-first_1ROI1",radioFirst:"sprite-info_radio-first_1ROI1","radio-last":"sprite-info_radio-last_3VIe7",radioLast:"sprite-info_radio-last_3VIe7","rotation-select":"sprite-info_rotation-select_2Fbo2",rotationSelect:"sprite-info_rotation-select_2Fbo2","larger-input":"sprite-info_larger-input_2sT6m",largerInput:"sprite-info_larger-input_2sT6m","sprite-input":"sprite-info_sprite-input_IL2gd",spriteInput:"sprite-info_sprite-input_IL2gd"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ /*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/ /* Toolbox z-index: 40; set in scratch-blocks */ /* tooltips should go over add buttons if they overlap */ /* monitors go over add buttons */ /* "ask" block text input goes above monitors */ /* menu-bar should go over monitors, alerts and tutorials */ /* tw: show below menu bar normally */ /* Block drag z-index: 1000; default 50 is overriden in blocks.css */ /* so it is draggable into other panes */ /* in most interfaces, the context menu is always on top */ .sprite-selector_sprite-selector_1s2N2 {\n    flex-grow: 1;\n    position: relative;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    margin-right: calc(0.5rem / 2);\n    background-color: var(--ui-secondary, hsla(215, 75%, 95%, 1));\n    border-top-right-radius: 0.5rem;\n    border-top-left-radius: 0.5rem;\n    border-color: hsla(0, 0%, 0%, 0.15);\n    border-width: 1px;\n    border-style: solid;\n    border-bottom: 0;\n} .sprite-selector_sprite-wrapper_1CrRS {\n    /*\n        Our goal is to fit sprites evenly in a row without leftover space.\n        Flexbox\'s `space between` property gets us close, but doesn\'t flow\n        well when the # of items per row > 1 and less than the max per row.\n\n        Solving by explicitly calc\'ing the width of each sprite. Setting\n        `border-box` simplifies things, because content, padding and\n        border-width all are included in the width, leaving us only to subtract\n        the left + right margins.\n\n        @todo: make room for the scrollbar\n    */\n    box-sizing: border-box;\n    width: calc((100% / 5 ) - 0.5rem);\n    max-width: 6rem;\n    min-width: 4rem;\n    min-height: 4rem; /* @todo: calc height same as width */\n    margin: calc(0.5rem / 2);\n} .sprite-selector_sprite_uquo4 {\n    height: 100%;\n} .sprite-selector_scroll-wrapper_3qlZ7 {\n    /*\n       Sets the sprite-selector items as a scrollable pane\n\n        @todo: Safari: pane doesn\'t stretch to fill height;\n        @todo: Adding `position: relative` still doesn\'t fix Safari scrolling pane, and\n              also introduces a new bug in Chrome when vertically resizing window down,\n              then back up, introduces white space in the outside the page container.\n    */\n    height: calc(100% - 6rem);\n    overflow-y: auto;\n} .sprite-selector_scroll-wrapper-dragging_2tIRk {\n    background-color: hsla(0, 100%, 77%, 1);\n} .sprite-selector_items-wrapper_17MEf {\n    display: flex;\n    flex-wrap: wrap;\n    flex-direction: row;\n\n    padding-top: calc(0.5rem / 2);\n    padding-left: calc(0.5rem / 2);\n    padding-right: calc(0.5rem / 2);\n    padding-bottom: 0.5rem;\n\n    overflow-x: hidden;\n} .sprite-selector_add-button_13cFJ {\n    position: absolute;\n    bottom: 0.75rem;\n} [dir="ltr"] .sprite-selector_add-button_13cFJ {\n    right: 1rem;\n} [dir="rtl"] .sprite-selector_add-button_13cFJ {\n    left: 1rem;\n} .sprite-selector_raised_hptEE {\n    background-color: hsla(0, 100%, 77%, 1);\n    transition: all 0.25s ease;\n} .sprite-selector_raised_hptEE:hover {\n    background-color: hsla(0, 100%, 77%, 1);\n    transform: scale(1.05);\n} .sprite-selector_raised_hptEE:hover {\n    animation-name: sprite-selector_wiggle_3VXHB;\n    animation-duration: 500ms;\n    animation-iteration-count: 1;\n    animation-timing-function: ease-in-out;\n    background-color: hsla(0, 100%, 77%, 1);\n} @keyframes sprite-selector_wiggle_3VXHB {\n    0% {transform: rotate(3deg) scale(1.05);}\n    25% {transform: rotate(-3deg) scale(1.05);}\n    50% {transform: rotate(5deg) scale(1.05);}\n    75% {transform: rotate(-2deg) scale(1.05);}\n    100% {transform: rotate(0deg) scale(1.05);}\n} .sprite-selector_receivedBlocks_3hqzt {\n    animation: sprite-selector_glowing_1Uyz7 250ms;\n} @keyframes sprite-selector_glowing_1Uyz7 {\n    10% { box-shadow: 0 0 10px #7fff1e; }\n    90% { box-shadow: 0 0 10px #7fff1e; }\n    100% { box-shadow: none; }\n} .sprite-selector_placeholder_qVnyI > .sprite-selector_sprite_uquo4 {\n    background: black;\n    filter: opacity(15%) brightness(0%);\n}\n',""]),t.locals={"sprite-selector":"sprite-selector_sprite-selector_1s2N2",spriteSelector:"sprite-selector_sprite-selector_1s2N2","sprite-wrapper":"sprite-selector_sprite-wrapper_1CrRS",spriteWrapper:"sprite-selector_sprite-wrapper_1CrRS",sprite:"sprite-selector_sprite_uquo4","scroll-wrapper":"sprite-selector_scroll-wrapper_3qlZ7",scrollWrapper:"sprite-selector_scroll-wrapper_3qlZ7","scroll-wrapper-dragging":"sprite-selector_scroll-wrapper-dragging_2tIRk",scrollWrapperDragging:"sprite-selector_scroll-wrapper-dragging_2tIRk","items-wrapper":"sprite-selector_items-wrapper_17MEf",itemsWrapper:"sprite-selector_items-wrapper_17MEf","add-button":"sprite-selector_add-button_13cFJ",addButton:"sprite-selector_add-button_13cFJ",raised:"sprite-selector_raised_hptEE",wiggle:"sprite-selector_wiggle_3VXHB",receivedBlocks:"sprite-selector_receivedBlocks_3hqzt",glowing:"sprite-selector_glowing_1Uyz7",placeholder:"sprite-selector_placeholder_qVnyI"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n.stage-selector_stage-selector_2gOfn {\n    background-clip: padding-box;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    position: relative; /* For the add backdrop button */\n    flex-grow: 1;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    background-color: hsla(0, 100%, 100%, 1);\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    border-top-left-radius: 0.5rem;\n    border-top-right-radius: 0.5rem;\n    border-color: hsla(0, 0%, 0%, 0.15);\n    border-width: 1px;\n    border-style: solid;\n    border-bottom: 0;\n    cursor: pointer;\n    transition: all 0.25s ease;\n}\n\n[theme="dark"] .stage-selector_stage-selector_2gOfn {\n    background-color: var(--ui-secondary, hsla(215, 75%, 95%, 1));\n}\n\n.stage-selector_stage-selector_2gOfn.stage-selector_is-selected_1hK41 {\n    border-top-left-radius: .625rem;\n    border-top-right-radius: .625rem;\n    border-color: hsla(0, 100%, 65%, 1);\n    box-shadow: 0px 0px 0px 4px hsla(0, 100%, 65%, 0.35);\n}\n\n.stage-selector_stage-selector_2gOfn:hover {\n    border-color: hsla(0, 100%, 65%, 1);\n}\n\n.stage-selector_header_Q8vgs {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: calc(2.75rem - 2px);\n    background-color: white;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    border-top-left-radius: 0.5rem;\n    border-top-right-radius: 0.5rem;\n    border-bottom: 1px solid hsla(0, 0%, 0%, 0.15);\n    width: 100%;\n    transition: background-color 0.25s ease;\n}\n\n[theme="dark"] .stage-selector_header_Q8vgs {\n    background-color: var(--ui-secondary, hsla(215, 75%, 95%, 1));\n}\n\n.stage-selector_header-title_31bX- {\n    font-size: 0.625rem;\n    font-weight: bold;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n\n    /* @todo: make this a mixin for all UI text labels */\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    transition: color 0.25s ease;\n}\n\n.stage-selector_stage-selector_2gOfn.stage-selector_is-selected_1hK41 .stage-selector_header_Q8vgs {\n    background-color: hsla(0, 100%, 65%, 1);\n}\n\n.stage-selector_stage-selector_2gOfn.stage-selector_is-selected_1hK41 .stage-selector_header-title_31bX- {\n    color: hsla(0, 100%, 100%, 1);\n}\n\n.stage-selector_count_R71ju {\n    padding: 0.3rem 0.75rem;\n    font-size: 0.625rem;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n\n.stage-selector_label_XZ-2e {\n    margin: 0.75rem 0 0.25rem;\n    font-size: 0.6rem;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    text-align: center;\n}\n\n.stage-selector_costume-canvas_2UktB {\n    display: block;\n    margin-top: .25rem;\n    width: 100%;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-radius: .25rem;\n    box-shadow: inset 0 0 4px hsla(0, 0%, 0%, 0.15);\n    max-width: 64px;\n    max-height: 48px;\n}\n\n.stage-selector_add-button_oXPPX {\n    position: absolute;\n    bottom: 0.75rem;\n}\n\n.stage-selector_stage-selector_2gOfn.stage-selector_raised_3yRmS, .stage-selector_stage-selector_2gOfn.stage-selector_raised_3yRmS .stage-selector_header_Q8vgs {\n    background-color: hsla(0, 100%, 77%, 1);\n    transition: all 0.25s ease;\n}\n\n.stage-selector_raised_3yRmS:hover {\n    transform: scale(1.05);\n}\n\n.stage-selector_receivedBlocks_27hDS {\n    animation: stage-selector_glowing_24P3U 250ms;\n}\n\n@keyframes stage-selector_glowing_24P3U {\n    10% { box-shadow: 0 0 10px #7fff1e; }\n    90% { box-shadow: 0 0 10px #7fff1e; }\n    100% { box-shadow: none; }\n}\n',""]),t.locals={"stage-selector":"stage-selector_stage-selector_2gOfn",stageSelector:"stage-selector_stage-selector_2gOfn","is-selected":"stage-selector_is-selected_1hK41",isSelected:"stage-selector_is-selected_1hK41",header:"stage-selector_header_Q8vgs","header-title":"stage-selector_header-title_31bX-",headerTitle:"stage-selector_header-title_31bX-",count:"stage-selector_count_R71ju",label:"stage-selector_label_XZ-2e","costume-canvas":"stage-selector_costume-canvas_2UktB",costumeCanvas:"stage-selector_costume-canvas_2UktB","add-button":"stage-selector_add-button_oXPPX",addButton:"stage-selector_add-button_oXPPX",raised:"stage-selector_raised_3yRmS",receivedBlocks:"stage-selector_receivedBlocks_27hDS",glowing:"stage-selector_glowing_24P3U"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n.target-pane_target-pane_2ZTsJ {\n    /* Makes columns for the sprite library selector + and the stage selector */\n    display: flex;\n    flex-direction: row;\n    flex-grow: 1;\n}\n\n.target-pane_stage-selector-wrapper_2LIOy {\n    display: flex;\n    flex-basis: 72px;\n    flex-shrink: 0;\n}\n\n[dir="ltr"] .target-pane_stage-selector-wrapper_2LIOy {\n    margin-left: calc(0.5rem / 2);\n}\n\n[dir="rtl"] .target-pane_stage-selector-wrapper_2LIOy {\n    margin-right: calc(0.5rem / 2);\n}\n',""]),t.locals={"target-pane":"target-pane_target-pane_2ZTsJ",targetPane:"target-pane_target-pane_2ZTsJ","stage-selector-wrapper":"target-pane_stage-selector-wrapper_2LIOy",stageSelectorWrapper:"target-pane_stage-selector-wrapper_2LIOy"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,"/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ .meter_green_1TDyl {\n    fill: rgb(171, 220, 170);\n    stroke: rgb(174, 211, 168);\n} .meter_yellow_YVGHr {\n    fill: rgb(251, 219, 130);\n    stroke: rgb(239, 212, 134);\n} .meter_red_S3fdX {\n    fill: rgb(251, 194, 142);\n    stroke: rgb(235, 189, 142);\n} .meter_mask-container_m3uVt {\n    position: relative;\n} .meter_mask_1s9vE {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    transform-origin: top;\n    will-change: transform;\n    background: var(--ui-primary, hsla(215, 100%, 95%, 1));\n    opacity: 0.75;\n}\n",""]),t.locals={green:"meter_green_1TDyl",yellow:"meter_yellow_YVGHr",red:"meter_red_S3fdX","mask-container":"meter_mask-container_m3uVt",maskContainer:"meter_mask-container_m3uVt",mask:"meter_mask_1s9vE"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,"/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ .waveform_container_243I7 {\n    width: 100%;\n} .waveform_waveform-path_2LeiM {\n    /*\n        This color is lighter than sound-primary, but\n        cannot use alpha because of overlapping elements.\n    */\n    fill: hsl(300, 54%, 72%);\n    stroke: hsla(300, 48%, 50%, 1);\n} .waveform_baseline_2hE-m {\n    stroke: hsla(300, 48%, 50%, 1);\n}\n",""]),t.locals={container:"waveform_container_243I7","waveform-path":"waveform_waveform-path_2LeiM",waveformPath:"waveform_waveform-path_2LeiM",baseline:"waveform_baseline_2hE-m"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ .record-modal_modal-content_2_5Zs {\n    width: 600px;\n} .record-modal_body_3oKwC {\n    background: hsla(0, 100%, 100%, 1);\n    padding: 1.5rem 2.25rem;\n} [theme="dark"] .record-modal_body_3oKwC {\n    background: var(--ui-secondary, hsla(215, 75%, 95%, 1));\n} .record-modal_visualization-container_1QsU5 {\n    display: flex;\n    justify-content: space-around;\n} .record-modal_meter-container_3vpbL, .record-modal_waveform-container_1d_a5 {\n    background: var(--ui-primary, hsla(215, 100%, 95%, 1));\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-radius: 5px;\n    padding: 3px;\n    /* Force these to be on their own render layer because they update often */\n    transform: translateZ(0);\n} .record-modal_meter-container_3vpbL {\n    margin-right: 5px;\n    height: 180px;\n} .record-modal_waveform-container_1d_a5 {\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    width: 100%;\n    height: 180px;\n    position: relative;\n} .record-modal_help-text_hQoTW {\n    margin: 10px auto 0;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    color: rgb(167, 170, 181);\n    font-size: 0.95rem;\n    font-weight: 500;\n} .record-modal_playing-text_20o4n {\n    color: hsla(0, 100%, 65%, 1);\n} .record-modal_recording-text_3AD3U {\n    color: hsla(20, 100%, 55%, 1);\n} .record-modal_main-button-row_3Vifq {\n    display: flex;\n    justify-content: space-around;\n    margin-top: 15px;\n} .record-modal_main-button-row_3Vifq button {\n    padding: 0.5rem 0.75rem;\n    border-radius: 0.25rem;\n    background: transparent;\n    border: none;\n} .record-modal_main-button-row_3Vifq button:disabled {\n    opacity: 0.25;\n} .record-modal_main-button-row_3Vifq button:active, .record-modal_main-button-row_3Vifq button:focus {\n    outline: none;\n} .record-modal_button-row_3qJ_b {\n    font-weight: bolder;\n    text-align: right;\n    display: flex;\n    justify-content: space-between;\n} .record-modal_button-row_3qJ_b button {\n    padding: 0.75rem 1rem;\n    border-radius: 0.25rem;\n    background: white;\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    font-weight: 600;\n    font-size: 0.85rem;\n    color: hsla(0, 100%, 65%, 1);\n} .record-modal_button-row_3qJ_b button.record-modal_ok-button_CoeuZ {\n    background: hsla(0, 100%, 65%, 1);\n    border: hsla(0, 100%, 65%, 1);\n    color: white;\n} .record-modal_button-row_3qJ_b button + button {\n    margin-left: 0.5rem;\n} .record-modal_main-button_3eLhw {\n    text-align: center;\n} .record-modal_record-button_1Lapz {\n    overflow: visible;\n} .record-modal_record-button-circle_Cr04k {\n    fill: hsla(20, 100%, 55%, 1);\n    stroke: hsla(20, 100%, 45%, 1);\n} .record-modal_record-button-circle-outline_2nUeJ {\n    fill: hsla(20, 100%, 55%, 1);\n    opacity: 0.2;\n    transition: 0.1s;\n} [dir="rtl"] .record-modal_rerecord-button_3JZP1 img {\n    transform: scaleX(-1);\n}\n',""]),t.locals={"modal-content":"record-modal_modal-content_2_5Zs",modalContent:"record-modal_modal-content_2_5Zs",body:"record-modal_body_3oKwC","visualization-container":"record-modal_visualization-container_1QsU5",visualizationContainer:"record-modal_visualization-container_1QsU5","meter-container":"record-modal_meter-container_3vpbL",meterContainer:"record-modal_meter-container_3vpbL","waveform-container":"record-modal_waveform-container_1d_a5",waveformContainer:"record-modal_waveform-container_1d_a5","help-text":"record-modal_help-text_hQoTW",helpText:"record-modal_help-text_hQoTW","playing-text":"record-modal_playing-text_20o4n",playingText:"record-modal_playing-text_20o4n","recording-text":"record-modal_recording-text_3AD3U",recordingText:"record-modal_recording-text_3AD3U","main-button-row":"record-modal_main-button-row_3Vifq",mainButtonRow:"record-modal_main-button-row_3Vifq","button-row":"record-modal_button-row_3qJ_b",buttonRow:"record-modal_button-row_3qJ_b","ok-button":"record-modal_ok-button_CoeuZ",okButton:"record-modal_ok-button_CoeuZ","main-button":"record-modal_main-button_3eLhw",mainButton:"record-modal_main-button_3eLhw","record-button":"record-modal_record-button_1Lapz",recordButton:"record-modal_record-button_1Lapz","record-button-circle":"record-modal_record-button-circle_Cr04k",recordButtonCircle:"record-modal_record-button-circle_Cr04k","record-button-circle-outline":"record-modal_record-button-circle-outline_2nUeJ",recordButtonCircleOutline:"record-modal_record-button-circle-outline_2nUeJ","rerecord-button":"record-modal_rerecord-button_3JZP1",rerecordButton:"record-modal_rerecord-button_3JZP1"}},,,function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,"/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ .audio-trimmer_absolute_1slrG {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n\n    /* Force the browser to paint separately to avoid composite cost with waveform */\n    transform: translateZ(0);\n} .audio-trimmer_selector_UDd9z {\n    cursor: pointer;\n} .audio-trimmer_trim-background_MidSN {\n    cursor: pointer;\n    touch-action: none;\n} .audio-trimmer_trim-background-mask_1AUPs {\n    border: 1px solid hsla(20, 100%, 45%, 1);\n    opacity: 0.5;\n\n    background: repeating-linear-gradient(\n        45deg,\n        hsla(20, 100%, 55%, 1),\n        hsla(20, 100%, 55%, 1) 10px,\n        hsla(20, 100%, 45%, 1) 10px,\n        hsla(20, 100%, 45%, 1) calc(2 * 10px)\n    );\n} .audio-trimmer_selection-background_28rcO {\n    background: hsla(0, 100%, 65%, 1);\n    opacity: 0.5;\n} .audio-trimmer_start-trim-background_1AI_1 .audio-trimmer_trim-background-mask_1AUPs {\n    border-top-left-radius: 4px;\n    border-bottom-left-radius: 4px;\n} .audio-trimmer_end-trim-background_3P7V_ .audio-trimmer_trim-background-mask_1AUPs {\n    border-top-right-radius: 4px;\n    border-bottom-right-radius: 4px;\n} .audio-trimmer_trim-line_3PC6A {\n    position: absolute;\n    top: 0;\n    width: 0px;\n    height: 100%;\n    border: 1px solid hsla(20, 100%, 45%, 1);\n} .audio-trimmer_selector_UDd9z .audio-trimmer_trim-line_3PC6A {\n    border: 1px solid hsla(0, 60%, 50%, 1);\n} .audio-trimmer_playhead-container_Louu9 {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n} .audio-trimmer_playhead_3CwOH {\n    /*\n        Even though playhead is just a line, it is 100% width (the width of the waveform)\n        so that we can use transform: translateX() using percentages.\n    */\n    width: 100%;\n    height: 100%;\n    border-left: 1px solid hsla(0, 100%, 65%, 1);\n    border-top: none;\n    border-bottom: none;\n    border-right: none;\n} .audio-trimmer_right-handle_3gcG9 {\n    transform: scaleX(-1);\n} .audio-trimmer_selector_UDd9z .audio-trimmer_left-handle_1qrCu {\n    left: -1px\n} .audio-trimmer_selector_UDd9z .audio-trimmer_right-handle_3gcG9 {\n    right: -1px\n} .audio-trimmer_trimmer_3g1Ji .audio-trimmer_left-handle_1qrCu {\n    right: -1px\n} .audio-trimmer_trimmer_3g1Ji .audio-trimmer_right-handle_3gcG9 {\n    left: -1px\n} .audio-trimmer_trim-handle_2yTDR {\n    position: absolute;\n    width: 30px;\n    height: 30px;\n    right: 0;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n} .audio-trimmer_trimmer_3g1Ji .audio-trimmer_trim-handle_2yTDR {\n    filter: hue-rotate(150deg);\n} .audio-trimmer_trim-handle_2yTDR img {\n    position: absolute;\n    width: 30px;\n    height: 30px;\n    left: calc(3px * 1.5);\n\n    /* Make sure image dragging isn't triggered */\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    user-drag: none;\n    -webkit-user-drag: none; /* Autoprefixer doesn't seem to work for this */\n\n    transition: 0.2s;\n} .audio-trimmer_top-trim-handle_1CMHx {\n    top: calc(-30px + 3px);\n} .audio-trimmer_bottom-trim-handle_3ZW0o {\n    bottom: calc(-30px + 3px);\n} .audio-trimmer_top-trim-handle_1CMHx img {\n    transform: scaleY(-1);\n}\n",""]),t.locals={absolute:"audio-trimmer_absolute_1slrG",selector:"audio-trimmer_selector_UDd9z","trim-background":"audio-trimmer_trim-background_MidSN",trimBackground:"audio-trimmer_trim-background_MidSN","trim-background-mask":"audio-trimmer_trim-background-mask_1AUPs",trimBackgroundMask:"audio-trimmer_trim-background-mask_1AUPs","selection-background":"audio-trimmer_selection-background_28rcO",selectionBackground:"audio-trimmer_selection-background_28rcO","start-trim-background":"audio-trimmer_start-trim-background_1AI_1",startTrimBackground:"audio-trimmer_start-trim-background_1AI_1","end-trim-background":"audio-trimmer_end-trim-background_3P7V_",endTrimBackground:"audio-trimmer_end-trim-background_3P7V_","trim-line":"audio-trimmer_trim-line_3PC6A",trimLine:"audio-trimmer_trim-line_3PC6A","playhead-container":"audio-trimmer_playhead-container_Louu9",playheadContainer:"audio-trimmer_playhead-container_Louu9",playhead:"audio-trimmer_playhead_3CwOH","right-handle":"audio-trimmer_right-handle_3gcG9",rightHandle:"audio-trimmer_right-handle_3gcG9","left-handle":"audio-trimmer_left-handle_1qrCu",leftHandle:"audio-trimmer_left-handle_1qrCu",trimmer:"audio-trimmer_trimmer_3g1Ji","trim-handle":"audio-trimmer_trim-handle_2yTDR",trimHandle:"audio-trimmer_trim-handle_2yTDR","top-trim-handle":"audio-trimmer_top-trim-handle_1CMHx",topTrimHandle:"audio-trimmer_top-trim-handle_1CMHx","bottom-trim-handle":"audio-trimmer_bottom-trim-handle_3ZW0o",bottomTrimHandle:"audio-trimmer_bottom-trim-handle_3ZW0o"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ .icon-button_container_Vz-T6 {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    cursor: pointer;\n    font-size: 0.75rem;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    color: hsla(0, 100%, 65%, 1);\n    border-radius: 0.5rem;\n} .icon-button_container_Vz-T6 + .icon-button_container_Vz-T6 {\n    margin-top: 1.25rem;\n} .icon-button_title_3_47t {\n    margin-top: 0.5rem;\n    text-align: center;\n} .icon-button_disabled_14mfd {\n    opacity: 0.5;\n    pointer-events: none;\n} .icon-button_container_Vz-T6:active {\n    background-color: hsla(0, 100%, 65%, 0.15);\n}\n',""]),t.locals={container:"icon-button_container_Vz-T6",title:"icon-button_title_3_47t",disabled:"icon-button_disabled_14mfd"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ .sound-editor_editor-container_3jiU9 {\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n    padding: calc(2 * 0.5rem);\n} .sound-editor_row_1WmTk {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n} [dir="rtl"] .sound-editor_row-reverse_28RND {\n    flex-direction: row-reverse;\n} .sound-editor_row_1WmTk + .sound-editor_row_1WmTk {\n    margin-top: calc(2 * 0.5rem);\n} .sound-editor_input-group_2pRFc {\n    display: flex;\n    flex-direction: row;\n} [dir="ltr"] .sound-editor_input-group_2pRFc + .sound-editor_input-group_2pRFc {\n    margin-left: calc(2 * 0.5rem);\n} [dir="rtl"] .sound-editor_input-group_2pRFc + .sound-editor_input-group_2pRFc {\n    margin-right: calc(2 * 0.5rem);\n} [dir="ltr"] .sound-editor_input-group_2pRFc {\n    padding-right: calc(2 * 0.5rem);\n    border-right: 1px dashed hsla(0, 0%, 0%, 0.15);\n} [dir="rtl"] .sound-editor_input-group_2pRFc {\n    padding-left: calc(2 * 0.5rem);\n    border-left: 1px dashed hsla(0, 0%, 0%, 0.15);\n} [dir="rtl"] .sound-editor_row-reverse_28RND > .sound-editor_input-group_2pRFc {\n    padding-left: 0;\n    padding-right: calc(2 * 0.5rem);\n    border-left: none;\n    border-right: 1px dashed hsla(0, 0%, 0%, 0.15);\n} .sound-editor_waveform-container_18kSV {\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    width: 100%;\n\n    position: relative;\n\n    background: hsla(300, 53%, 60%, 0.15);\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-radius: 5px;\n\n    margin-top: 20px;\n    margin-bottom: 20px;\n} .sound-editor_button_28oLj {\n    height: 2rem;\n    padding: 0.35rem;\n    outline: none;\n    background: white;\n    border-radius: 0.25rem;\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    cursor: pointer;\n    font-size: 0.85rem;\n    transition: 0.2s;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    margin: 0px;\n} [theme="dark"] .sound-editor_button_28oLj {\n    background-color: var(--ui-primary);\n    border-color: var(--ui-tertiary) !important;\n} .sound-editor_button_28oLj > img {\n    flex-grow: 1;\n    max-width: 100%;\n    max-height: 100%;\n    min-width: 1.25rem;\n} .sound-editor_round-button_3rlXm {\n    height: 3rem;\n    width: 3rem;\n    outline: none;\n    background: hsla(0, 100%, 65%, 1);\n    border-radius: 100%;\n    border: 4px solid hsla(0, 100%, 100%, 0.75);\n    cursor: pointer;\n    padding: 0.75rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n} [theme="dark"] .sound-editor_round-button_3rlXm {\n    border-color: transparent;\n} .sound-editor_round-button_3rlXm > img {\n    flex-grow: 1;\n    max-width: 100%;\n    max-height: 100%;\n    /*min-width: 1.5rem;*/\n} [dir="rtl"] .sound-editor_undo-icon_3EU8L, [dir="rtl"] .sound-editor_redo-icon_38hFn {\n    transform: scaleX(-1);\n} .sound-editor_trim-button_ZHKTA {\n    display: flex;\n    align-items: center;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    font-size: 0.625rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n\n} [dir="ltr"] .sound-editor_trim-button_ZHKTA {\n    margin-left: 1rem;\n} [dir="rtl"] .sound-editor_trim-button_ZHKTA {\n    margin-right: 1rem;\n} .sound-editor_trim-button_ZHKTA > img {\n    width: 1.25rem;\n} .sound-editor_effect-button_2rpzQ {\n    flex-basis: 60px;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    font-size: 0.625rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    padding: 0.25rem 0;\n} .sound-editor_effect-button_2rpzQ + .sound-editor_effect-button_2rpzQ {\n    margin: 0;\n} .sound-editor_effect-button_2rpzQ img {\n    width: 1.25rem;\n    height: 1.25rem;\n    margin-bottom: -0.375rem;\n} .sound-editor_tool-button_2WOCS {\n    flex-basis: 60px;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    font-size: 0.625rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    padding: 0.25rem 0;\n} .sound-editor_tool-button_2WOCS + .sound-editor_tool-button_2WOCS {\n    margin: 0;\n} .sound-editor_tool-button_2WOCS img {\n    width: 4rem;\n    height: 1.5rem;\n    margin-bottom: -0.375rem;\n} [dir="rtl"] .sound-editor_flip-in-rtl_2pijE img {\n    transform: scaleX(-1);\n} [dir="ltr"] .sound-editor_button-group_3TC6- {\n    margin-left: 1rem;\n} [dir="rtl"] .sound-editor_button-group_3TC6- {\n    margin-right: 1rem;\n} .sound-editor_button-group_3TC6- {\n    display: flex;\n} .sound-editor_button-group_3TC6- .sound-editor_button_28oLj {\n    border-radius: 0;\n} [dir="ltr"] .sound-editor_button-group_3TC6- .sound-editor_button_28oLj {\n    border-left: none;\n} [dir="rtl"] .sound-editor_button-group_3TC6- .sound-editor_button_28oLj {\n    border-right: none;\n} [dir="ltr"] .sound-editor_button-group_3TC6- .sound-editor_button_28oLj:last-of-type {\n    border-top-right-radius: 0.25rem;\n    border-bottom-right-radius: 0.25rem;\n} [dir="ltr"] .sound-editor_button-group_3TC6- .sound-editor_button_28oLj:first-of-type {\n    border-left: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-top-left-radius: 0.25rem;\n    border-bottom-left-radius: 0.25rem;\n} [dir="rtl"] .sound-editor_button-group_3TC6- .sound-editor_button_28oLj:last-of-type {\n    border-top-left-radius: 0.25rem;\n    border-bottom-left-radius: 0.25rem;\n} [dir="rtl"] .sound-editor_button-group_3TC6- .sound-editor_button_28oLj:first-of-type {\n    border-right: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-top-right-radius: 0.25rem;\n    border-bottom-right-radius: 0.25rem;\n} .sound-editor_button_28oLj:disabled > img {\n    opacity: 0.25;\n}\n',""]),t.locals={"editor-container":"sound-editor_editor-container_3jiU9",editorContainer:"sound-editor_editor-container_3jiU9",row:"sound-editor_row_1WmTk","row-reverse":"sound-editor_row-reverse_28RND",rowReverse:"sound-editor_row-reverse_28RND","input-group":"sound-editor_input-group_2pRFc",inputGroup:"sound-editor_input-group_2pRFc","waveform-container":"sound-editor_waveform-container_18kSV",waveformContainer:"sound-editor_waveform-container_18kSV",button:"sound-editor_button_28oLj","round-button":"sound-editor_round-button_3rlXm",roundButton:"sound-editor_round-button_3rlXm","undo-icon":"sound-editor_undo-icon_3EU8L",undoIcon:"sound-editor_undo-icon_3EU8L","redo-icon":"sound-editor_redo-icon_38hFn",redoIcon:"sound-editor_redo-icon_38hFn","trim-button":"sound-editor_trim-button_ZHKTA",trimButton:"sound-editor_trim-button_ZHKTA","effect-button":"sound-editor_effect-button_2rpzQ",effectButton:"sound-editor_effect-button_2rpzQ","tool-button":"sound-editor_tool-button_2WOCS",toolButton:"sound-editor_tool-button_2WOCS","flip-in-rtl":"sound-editor_flip-in-rtl_2pijE",flipInRtl:"sound-editor_flip-in-rtl_2pijE","button-group":"sound-editor_button-group_3TC6-",buttonGroup:"sound-editor_button-group_3TC6-"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,"/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ .green-flag_green-flag_mk1Vo {\n    width: 2rem;\n    height: 2rem;\n    padding: 0.375rem;\n    border-radius: 0.25rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    user-drag: none;\n    cursor: pointer;\n} .green-flag_green-flag_mk1Vo:hover {\n    background-color: hsla(0, 100%, 65%, 0.15);\n} .green-flag_green-flag_mk1Vo.green-flag_is-active_17xP9 {\n    background-color: hsla(0, 100%, 65%, 0.35);\n}\n",""]),t.locals={"green-flag":"green-flag_green-flag_mk1Vo",greenFlag:"green-flag_green-flag_mk1Vo","is-active":"green-flag_is-active_17xP9",isActive:"green-flag_is-active_17xP9"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,"/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ .stop-all_stop-all_15h2t {\n    width: 2rem;\n    height: 2rem;\n    padding: 0.375rem;\n    border-radius: 0.25rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    cursor: pointer;\n} .stop-all_stop-all_15h2t:hover {\n    background-color: hsla(0, 100%, 65%, 0.15);\n} .stop-all_stop-all_15h2t {\n    opacity: 0.5;\n} .stop-all_stop-all_15h2t.stop-all_is-active_PEgCP {\n    opacity: 1;\n}\n",""]),t.locals={"stop-all":"stop-all_stop-all_15h2t",stopAll:"stop-all_stop-all_15h2t","is-active":"stop-all_is-active_PEgCP",isActive:"stop-all_is-active_PEgCP"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ .turbo-mode_turbo-container_1qQFO {\n    display: flex;\n    align-items: center;\n    padding: 0.25rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n} .turbo-mode_turbo-icon_A_vJA {\n    margin: 0.25rem;\n} .turbo-mode_turbo-label_1v23d {\n    font-size: 0.625rem;\n    font-weight: bold;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    color: hsla(38, 100%, 55%, 1);\n    white-space: nowrap;\n}\n',""]),t.locals={"turbo-container":"turbo-mode_turbo-container_1qQFO",turboContainer:"turbo-mode_turbo-container_1qQFO","turbo-icon":"turbo-mode_turbo-icon_A_vJA",turboIcon:"turbo-mode_turbo-icon_A_vJA","turbo-label":"turbo-mode_turbo-label_1v23d",turboLabel:"turbo-mode_turbo-label_1v23d"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ .framerate-indicator_framerate-container_3JPah {\n    display: flex;\n    align-items: center;\n    padding: 0.25rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n} .framerate-indicator_framerate-label_39miY {\n    font-size: 0.625rem;\n    font-weight: bold;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    color: hsla(38, 100%, 55%, 1);\n    white-space: nowrap;\n}\n',""]),t.locals={"framerate-container":"framerate-indicator_framerate-container_3JPah",framerateContainer:"framerate-indicator_framerate-container_3JPah","framerate-label":"framerate-indicator_framerate-label_39miY",framerateLabel:"framerate-indicator_framerate-label_39miY"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,".controls_controls-container_3ZRI_ {\n    display: flex;\n}\n",""]),t.locals={"controls-container":"controls_controls-container_3ZRI_",controlsContainer:"controls_controls-container_3ZRI_"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n/*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/\n\n/* Toolbox z-index: 40; set in scratch-blocks */\n\n/* tooltips should go over add buttons if they overlap */\n\n/* monitors go over add buttons */\n\n/* "ask" block text input goes above monitors */\n\n/* menu-bar should go over monitors, alerts and tutorials */\n\n/* tw: show below menu bar normally */\n\n/* Block drag z-index: 1000; default 50 is overriden in blocks.css */\n\n/* so it is draggable into other panes */\n\n/* in most interfaces, the context menu is always on top */\n\n.stage-header_stage-header-wrapper_8psPs {\n    position: relative;\n}\n\n.stage-header_stage-header-wrapper-overlay_7uuff {\n    position: fixed;\n    background-color: rgb(232, 237, 241);\n    top: 0;\n    left: 0;\n    right: 0;\n    z-index: 5000;\n}\n\n/* tw: support dark mode */\n\n[theme="dark"] .stage-header_stage-header-wrapper-overlay_7uuff {\n    background-color: #111;\n}\n\n/* tw: do not show color in header when embedded */\n\n.stage-header_embedded_j6-4O {\n    background-color: transparent;\n}\n\n.stage-header_stage-menu-wrapper_28MSs {\n    display: flex;\n    margin: auto;\n    justify-content: space-between;\n    flex-shrink: 0;\n    align-items: center;\n    height: 2.75rem;\n    padding-top: 0.5rem;\n    padding-bottom: 0.5rem;\n}\n\n.stage-header_embed-scratch-logo_3TP67 img {\n    height:  1.6rem;\n    vertical-align: middle;\n    opacity: .6;\n}\n\n.stage-header_stage-size-row_1F3iv {\n    display: flex;\n}\n\n.stage-header_stage-size-toggle-group_np08Q {\n    display: flex;\n}\n\n[dir="ltr"] .stage-header_stage-size-toggle-group_np08Q {\n    margin-right: .2rem;\n}\n\n[dir="rtl"] .stage-header_stage-size-toggle-group_np08Q {\n    margin-left: .2rem;\n}\n\n.stage-header_stage-button_4qxON {\n    display: block;\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-radius: calc(0.5rem / 2);\n    width: calc(2rem + 2px);\n    height: calc(2rem + 2px);\n    background: hsla(0, 100%, 100%, 1);\n    padding: 0.375rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    cursor: pointer;\n}\n\n.stage-header_stage-button-icon_1SHv0 {\n    width: 100%;\n    height: 100%;\n}\n\n[dir="rtl"] .stage-header_stage-button-icon_1SHv0 {\n    transform: scaleX(-1);\n}\n\n[dir="ltr"] .stage-header_stage-button-first_2a2U3 {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n}\n\n[dir="ltr"] .stage-header_stage-button-last_36cZh {\n    border-left: none;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n}\n\n[dir="rtl"] .stage-header_stage-button-first_2a2U3 {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n}\n\n[dir="rtl"] .stage-header_stage-button-last_36cZh {\n    border-right: none;\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n}\n\n.stage-header_stage-button-toggled-off_2oOpw {\n    filter: saturate(0);\n}\n',""]),t.locals={"stage-header-wrapper":"stage-header_stage-header-wrapper_8psPs",stageHeaderWrapper:"stage-header_stage-header-wrapper_8psPs","stage-header-wrapper-overlay":"stage-header_stage-header-wrapper-overlay_7uuff",stageHeaderWrapperOverlay:"stage-header_stage-header-wrapper-overlay_7uuff",embedded:"stage-header_embedded_j6-4O","stage-menu-wrapper":"stage-header_stage-menu-wrapper_28MSs",stageMenuWrapper:"stage-header_stage-menu-wrapper_28MSs","embed-scratch-logo":"stage-header_embed-scratch-logo_3TP67",embedScratchLogo:"stage-header_embed-scratch-logo_3TP67","stage-size-row":"stage-header_stage-size-row_1F3iv",stageSizeRow:"stage-header_stage-size-row_1F3iv","stage-size-toggle-group":"stage-header_stage-size-toggle-group_np08Q",stageSizeToggleGroup:"stage-header_stage-size-toggle-group_np08Q","stage-button":"stage-header_stage-button_4qxON",stageButton:"stage-header_stage-button_4qxON","stage-button-icon":"stage-header_stage-button-icon_1SHv0",stageButtonIcon:"stage-header_stage-button-icon_1SHv0","stage-button-first":"stage-header_stage-button-first_2a2U3",stageButtonFirst:"stage-header_stage-button-first_2a2U3","stage-button-last":"stage-header_stage-button-last_36cZh",stageButtonLast:"stage-header_stage-button-last_36cZh","stage-button-toggled-off":"stage-header_stage-button-toggled-off_2oOpw",stageButtonToggledOff:"stage-header_stage-button-toggled-off_2oOpw"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,"/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ .loupe_color-picker_1hE1x {\n    position: absolute;\n    border-radius: 100%;\n    border: 4px solid hsla(0, 0%, 0%, 0.15);\n}\n",""]),t.locals={"color-picker":"loupe_color-picker_1hE1x",colorPicker:"loupe_color-picker_1hE1x"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n/*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/\n\n/* Toolbox z-index: 40; set in scratch-blocks */\n\n/* tooltips should go over add buttons if they overlap */\n\n/* monitors go over add buttons */\n\n/* "ask" block text input goes above monitors */\n\n/* menu-bar should go over monitors, alerts and tutorials */\n\n/* tw: show below menu bar normally */\n\n/* Block drag z-index: 1000; default 50 is overriden in blocks.css */\n\n/* so it is draggable into other panes */\n\n/* in most interfaces, the context menu is always on top */\n\n.monitor_monitor-container_BKHcx {\n    position: absolute;\n    background: hsla(215, 100%, 95%, 1); /* tw: do not look different in dark mode */\n    z-index: 48;\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-radius: calc(0.5rem / 2);\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-size: 0.75rem;\n    transition: box-shadow 0.2s;\n    pointer-events: all;\n    overflow: hidden;\n    color: #575e75; /* tw: explicitly set color to match Scratch */\n}\n\n.monitor_monitor_1DS0_:hover {\n    cursor: pointer;\n}\n\n.monitor_dragging_1m_Kt {\n    z-index: 1010;\n    box-shadow: 3px 3px 5px #888888;\n}\n\n.monitor_default-monitor_2KHFc {\n    display: flex;\n    flex-direction: column;\n    padding: 3px;\n}\n\n.monitor_label_1Jx1h {\n    font-weight: bold;\n    text-align: center;\n    margin: 0 5px;\n}\n\n.monitor_value_2DN5C {\n    min-width: 40px;\n    text-align: center;\n    color: white;\n    margin: 0 5px;\n    border-radius: calc(0.5rem / 2);\n    padding: 0 2px;\n    white-space: pre-wrap;\n    transform: translateZ(0); /* Fixes flickering in Safari */\n}\n\n.monitor_large-value_3DIcK {\n    min-height: 1.4rem;\n    min-width: 3rem;\n    padding: 0.1rem 0.25rem;\n    text-align: center;\n    color: white;\n    font-size: 1rem;\n    white-space: pre-wrap;\n    transform: translateZ(0); /* Fixes flickering in Safari */\n}\n\n.monitor_row_3kEbv {\n    display: flex;\n    flex-direction: row;\n}\n\n.monitor_slider_18owZ {\n    width: 100%;\n    transform: translateZ(0); /* Fixes flickering in Safari */\n}\n\n.monitor_list-monitor_2sZXc {\n    display: flex;\n    flex-direction: column;\n}\n\n.monitor_list-header_2fGXP {\n    background: hsla(0, 100%, 100%, 1);\n    border-bottom: 1px solid hsla(0, 0%, 0%, 0.15);\n    text-align: center;\n    padding: 3px;\n    font-size: 0.75rem;\n    font-weight: bold;\n    color: hsla(225, 15%, 40%, 1); /* tw: do not look different in dark mode */\n    width: 100%;\n}\n\n.monitor_list-body_3Yq5K {\n    background: hsla(215, 100%, 95%, 1); /* tw: do not look different in dark mode */\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    overflow-x: hidden;\n    height: calc(100% - 44px);\n}\n\n.monitor_list-row_1nPeY {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    align-items: center;\n    padding: 2px;\n    flex-shrink: 0;\n    transform: translateZ(0); /* Keep sharp when scaled */\n}\n\n.monitor_list-index_1h6b3 {\n    font-weight: bold;\n    color: hsla(225, 15%, 40%, 1); /* tw: do not look different in dark mode */\n    margin: 0 3px;\n}\n\n.monitor_list-value_2Ui8b {\n    min-width: 40px;\n    text-align: left;\n    color: white;\n    margin: 0 3px;\n    border-radius: calc(0.5rem / 2);\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    flex-grow: 1;\n    height: 22px;\n}\n\n.monitor_list-footer_28WLY {\n    background: hsla(0, 100%, 100%, 1);\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    padding: 3px;\n    font-size: 0.75rem;\n    font-weight: bold;\n    color: hsla(225, 15%, 40%, 1); /* tw: do not look different in dark mode */\n}\n\n.monitor_list-empty_kM_Oc {\n    text-align: center;\n    width: 100%;\n    padding: 5px;\n}\n\n.monitor_input-wrapper_22rQF {\n    position: relative;\n    overflow: hidden;\n    display: flex;\n    align-items: center;\n    background: rgba(0, 0, 0, 0.1);\n}\n\n.monitor_value-inner_2B2eT {\n    padding: 3px 5px;\n    min-height: 22px;\n    overflow: hidden; /* Don\'t let long values escape container */\n    text-overflow: ellipsis;\n    -webkit-user-select: text;\n       -moz-user-select: text;\n        -ms-user-select: text;\n            user-select: text; /* Allow selecting list values for 2.0 compatibility, only relevant in player */\n    white-space: pre;\n}\n\n.monitor_list-input_NzzdG {\n    padding: 3px 5px;\n    border: 0;\n    background: none;\n    color: hsla(0, 100%, 100%, 1);\n    outline: none;\n    font-size: 0.75rem;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    /* Workaround for Firefox */\n    width: 0;\n    flex: 1 1 auto;\n}\n\n.monitor_remove-button_2PY5T {\n    padding: 0;\n    padding-right: 5px;\n    cursor: pointer;\n    color: hsla(0, 100%, 100%, 1);\n}\n\n.monitor_add-button_3djmW {\n    cursor: pointer;\n    margin-right: 3px;\n}\n\n.monitor_resize-handle_1DCXV {\n    cursor: nwse-resize;\n    margin-left: 3px;\n}\n\n.monitor_footer-length_1SD4W {\n    text-align: center;\n}\n',""]),t.locals={"monitor-container":"monitor_monitor-container_BKHcx",monitorContainer:"monitor_monitor-container_BKHcx",monitor:"monitor_monitor_1DS0_",dragging:"monitor_dragging_1m_Kt","default-monitor":"monitor_default-monitor_2KHFc",defaultMonitor:"monitor_default-monitor_2KHFc",label:"monitor_label_1Jx1h",value:"monitor_value_2DN5C","large-value":"monitor_large-value_3DIcK",largeValue:"monitor_large-value_3DIcK",row:"monitor_row_3kEbv",slider:"monitor_slider_18owZ","list-monitor":"monitor_list-monitor_2sZXc",listMonitor:"monitor_list-monitor_2sZXc","list-header":"monitor_list-header_2fGXP",listHeader:"monitor_list-header_2fGXP","list-body":"monitor_list-body_3Yq5K",listBody:"monitor_list-body_3Yq5K","list-row":"monitor_list-row_1nPeY",listRow:"monitor_list-row_1nPeY","list-index":"monitor_list-index_1h6b3",listIndex:"monitor_list-index_1h6b3","list-value":"monitor_list-value_2Ui8b",listValue:"monitor_list-value_2Ui8b","list-footer":"monitor_list-footer_28WLY",listFooter:"monitor_list-footer_28WLY","list-empty":"monitor_list-empty_kM_Oc",listEmpty:"monitor_list-empty_kM_Oc","input-wrapper":"monitor_input-wrapper_22rQF",inputWrapper:"monitor_input-wrapper_22rQF","value-inner":"monitor_value-inner_2B2eT",valueInner:"monitor_value-inner_2B2eT","list-input":"monitor_list-input_NzzdG",listInput:"monitor_list-input_NzzdG","remove-button":"monitor_remove-button_2PY5T",removeButton:"monitor_remove-button_2PY5T","add-button":"monitor_add-button_3djmW",addButton:"monitor_add-button_3djmW","resize-handle":"monitor_resize-handle_1DCXV",resizeHandle:"monitor_resize-handle_1DCXV","footer-length":"monitor_footer-length_1SD4W",footerLength:"monitor_footer-length_1SD4W"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ .slider-prompt_modal-content_m3ASz {\n    width: 360px;\n} .slider-prompt_body_fslhG {\n    background: hsla(0, 100%, 100%, 1);\n    padding: 1.5rem 2.25rem;\n} [theme="dark"] .slider-prompt_body_fslhG {\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    background: var(--ui-primary, hsla(215, 100%, 95%, 1));\n} .slider-prompt_label_YNsvF {\n    font-weight: 500;\n    margin: 0 0 0.75rem;\n} .slider-prompt_min-input_2KCOC, .slider-prompt_max-input_2iIHC {\n    margin-bottom: 1.5rem;\n    width: 100%;\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-radius: 5px;\n    padding: 0 1rem;\n    height: 3rem;\n    color: hsla(225, 15%, 40%, 0.75);\n    font-size: .875rem;\n} [theme="dark"] .slider-prompt_min-input_2KCOC, [theme="dark"] .slider-prompt_max-input_2iIHC {\n    background: var(--ui-secondary, hsla(215, 75%, 95%, 1));\n    color: white;\n} .slider-prompt_button-row_-JDyB {\n    font-weight: bolder;\n    text-align: right;\n} .slider-prompt_button-row_-JDyB button {\n    padding: 0.75rem 1rem;\n    border-radius: 0.25rem;\n    background: white;\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    font-weight: 600;\n    font-size: 0.85rem;\n} .slider-prompt_button-row_-JDyB button.slider-prompt_ok-button_1Ptk- {\n    background: hsla(0, 100%, 65%, 1);\n    border: hsla(0, 100%, 65%, 1);\n    color: white;\n} [dir="ltr"] .slider-prompt_button-row_-JDyB button + button {\n    margin-left: 0.5rem;\n} [dir="rtl"] .slider-prompt_button-row_-JDyB button + button {\n    margin-right: 0.5rem;\n} .slider-prompt_cancel-button_3L-TO {\n    color: black;\n}\n',""]),t.locals={"modal-content":"slider-prompt_modal-content_m3ASz",modalContent:"slider-prompt_modal-content_m3ASz",body:"slider-prompt_body_fslhG",label:"slider-prompt_label_YNsvF","min-input":"slider-prompt_min-input_2KCOC",minInput:"slider-prompt_min-input_2KCOC","max-input":"slider-prompt_max-input_2iIHC",maxInput:"slider-prompt_max-input_2iIHC","button-row":"slider-prompt_button-row_-JDyB",buttonRow:"slider-prompt_button-row_-JDyB","ok-button":"slider-prompt_ok-button_1Ptk-",okButton:"slider-prompt_ok-button_1Ptk-","cancel-button":"slider-prompt_cancel-button_3L-TO",cancelButton:"slider-prompt_cancel-button_3L-TO"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,".monitor-list_monitor-list_aXinQ {\n    /* Width/height are set by the component, margin: auto centers in fullscreen */\n    margin: auto;\n    pointer-events: none;\n    overflow: hidden;\n}\n\n.monitor-list_monitor-list-scaler_1jxP7 {\n    /* Scaling for monitors should happen from the top left */\n    transform-origin: left top;\n}\n\n::-ms-clear { display: none; }\n",""]),t.locals={"monitor-list":"monitor-list_monitor-list_aXinQ",monitorList:"monitor-list_monitor-list_aXinQ","monitor-list-scaler":"monitor-list_monitor-list-scaler_1jxP7",monitorListScaler:"monitor-list_monitor-list-scaler_1jxP7"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n.question_question-container_26Z9Q {\n    margin: 0.5rem;\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-radius: 0.5rem;\n    border-width: 2px;\n    padding: 1rem;\n    background: white;\n}\n\n.question_question-label_1SgY7 {\n    font-size: 0.75rem;\n    font-weight: bold;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    color: hsla(225, 15%, 40%, 1);\n    padding-bottom: 0.5rem;\n}\n\n.question_question-input_Bvy05 {\n    display: flex; /* Keeps the input from going outside this container */\n    position: relative;\n}\n\n/* tw: input should not look different in dark mode */\n\n[theme="dark"] .question_question-input_Bvy05 input {\n    color: hsla(225, 15%, 40%, 1);\n    background: hsla(215, 75%, 95%, 1);\n    border-color: hsla(215, 50%, 90%, 1);\n}\n\n[theme="dark"] .question_question-input_Bvy05 input:hover,\n[theme="dark"] .question_question-input_Bvy05 input:focus {\n    border-color: hsla(0, 100%, 65%, 1);\n}\n\n.question_question-submit-button_1zp3B {\n    position: absolute;\n    top: calc(0.5rem / 2);\n\n    width: calc(2rem - 0.5rem);\n    height: calc(2rem - 0.5rem);\n\n    border: none;\n    border-radius: 100%;\n\n    color: white;\n    background: hsla(0, 100%, 65%, 1);\n}\n\n[dir="ltr"] .question_question-submit-button_1zp3B {\n    right: calc(0.5rem / 2);\n}\n\n[dir="rtl"] .question_question-submit-button_1zp3B {\n    left: calc(0.5rem / 2);\n}\n\n/* Input overrides: width, font-weight, focus outline and padding */\n\n.question_question-input_Bvy05 > input {\n    width: 100%;\n    font-weight: normal;\n}\n\n[dir="ltr"] .question_question-input_Bvy05 > input {\n    padding: 0 2rem 0 .75rem; /* To make room for the submit button */\n}\n\n[dir="rtl"] .question_question-input_Bvy05 > input {\n    padding: 0 .75rem 0 2rem; /* To make room for the submit button */\n}\n\n.question_question-input_Bvy05 > input:focus {\n    box-shadow: 0px 0px 0px 3px hsla(0, 100%, 65%, 0.35);\n}\n\n.question_question-submit-button-icon_3E4g- {\n    width: calc(2rem - 0.5rem);\n    height: calc(2rem - 0.5rem);\n    position: relative;\n    right: -7px;\n    left: -7px;\n}\n',""]),t.locals={"question-container":"question_question-container_26Z9Q",questionContainer:"question_question-container_26Z9Q","question-label":"question_question-label_1SgY7",questionLabel:"question_question-label_1SgY7","question-input":"question_question-input_Bvy05",questionInput:"question_question-input_Bvy05","question-submit-button":"question_question-submit-button_1zp3B",questionSubmitButton:"question_question-submit-button_1zp3B","question-submit-button-icon":"question_question-submit-button-icon_3E4g-",questionSubmitButtonIcon:"question_question-submit-button-icon_3E4g-"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,"@keyframes mic-indicator_popIn_11qHK {\n    from {transform: scale(0.5)}\n    to {transform: scale(1)}\n}\n\n.mic-indicator_mic-img_3cs6_ {\n    margin: 10px;\n    transform-origin: center;\n    animation: mic-indicator_popIn_11qHK 0.1s ease-in-out;\n}\n",""]),t.locals={"mic-img":"mic-indicator_mic-img_3cs6_",micImg:"mic-indicator_mic-img_3cs6_",popIn:"mic-indicator_popIn_11qHK"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n/*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/\n\n/* Toolbox z-index: 40; set in scratch-blocks */\n\n/* tooltips should go over add buttons if they overlap */\n\n/* monitors go over add buttons */\n\n/* "ask" block text input goes above monitors */\n\n/* menu-bar should go over monitors, alerts and tutorials */\n\n/* tw: show below menu bar normally */\n\n/* Block drag z-index: 1000; default 50 is overriden in blocks.css */\n\n/* so it is draggable into other panes */\n\n/* in most interfaces, the context menu is always on top */\n\n.stage_stage_DTWo5 {\n    /*\n        Fixes a few extra pixels of margin/padding, that adds on to the bottom\n        of the element, which messes up the chrome padding consistency\n    */\n    display: block;\n\n    border-radius: 0.5rem;\n    border: 0.0625rem solid hsla(0, 0%, 0%, 0.15);\n    overflow: hidden;\n\n    /* @todo: This is for overriding the value being set somewhere. Where is it being set? */\n    background-color: transparent;\n\n    /* Allow custom touch handling to prevent scrolling on Edge */\n    touch-action: none;\n\n    /* Make sure border is not included in size calculation */\n    box-sizing: content-box !important;\n\n    /* enforce overflow + reset position of absolutely-positioned children */\n    position: relative;\n}\n\n.stage_stage_DTWo5.stage_full-screen_aqa2I {\n    /* tw: remove fullscreen border */\n}\n\n.stage_with-color-picker_27XHm {\n    cursor: none;\n    z-index: 2010;\n}\n\n.stage_color-picker-background_2HBlI {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.55);\n    display: block;\n    z-index: 2000;\n    top: 0;\n    left: 0;\n}\n\n.stage_stage-wrapper_35Uar {\n    position: relative;\n}\n\n/* we want stage overlays to all be positioned in the same spot as the stage, but can\'t put them inside the border\nbecause we want their overflow to be visible, and the bordered element must have overflow: hidden set so that the\nstage doesn\'t "spill" out from under its rounded corners. instead, shift these over by the border width. */\n\n.stage_stage-overlays_295lE {\n    position: absolute;\n    top: 0.0625rem;\n    left: 0.0625rem;\n\n    /* the overlay itself should not capture pointer events; only its child elements can do that */\n    pointer-events: none;\n}\n\n.stage_stage-overlays_295lE.stage_full-screen_aqa2I {\n    top: 0.1875rem;\n    left: 0.1875rem;\n}\n\n.stage_monitor-wrapper_2hZ-i,\n.stage_frame-wrapper_iYJos,\n.stage_green-flag-overlay-wrapper_3bCO- {\n    position: absolute;\n    top: 0;\n    left: 0;\n    pointer-events: none;\n}\n\n.stage_dragging-sprite_2rRMx {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 1020;\n    filter: drop-shadow(5px 5px 5px hsla(0, 0%, 0%, 0.15));\n}\n\n.stage_stage-bottom-wrapper_fnczd {\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    top: 0;\n    left: 0;\n    overflow: hidden;\n    pointer-events: none;\n}\n\n.stage_mic-indicator_2hH2H {\n    transform-origin: bottom right;\n    z-index: 45;\n    pointer-events: none;\n    align-self: flex-end;\n}\n\n.stage_question-wrapper_3Sii9 {\n    z-index: 49;\n    pointer-events: auto;\n}\n\n.stage_frame_1-hsB {\n    background: hsla(0, 100%, 65%, 0.35);\n    border: 2px solid hsla(0, 100%, 65%, 1);\n    border-radius: 0.5rem;\n    animation-name: stage_flash_3LJh5;\n    animation-duration: 0.75s;\n    animation-fill-mode: forwards; /* Leave at 0 opacity after animation */\n}\n\n.stage_green-flag-overlay-wrapper_3bCO- {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: rgba(0,0,0,0.25);\n    border-radius: 0.5rem;\n    pointer-events: all;\n    cursor: pointer;\n}\n\n.stage_green-flag-overlay_219KT {\n    padding: 1rem;\n    border-radius: 100%;\n    background: rgba(255,255,255,0.75);\n    border: 3px solid hsla(0, 100%, 100%, 1);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-sizing: border-box;\n    width: 5rem;\n    height: 5rem;\n}\n\n.stage_green-flag-overlay_219KT > img {\n    width: 100%;\n    object-fit: contain;\n}\n\n@keyframes stage_flash_3LJh5 {\n    0% { opacity: 1; }\n    100% { opacity: 0; }\n}\n',""]),t.locals={stage:"stage_stage_DTWo5","full-screen":"stage_full-screen_aqa2I",fullScreen:"stage_full-screen_aqa2I","with-color-picker":"stage_with-color-picker_27XHm",withColorPicker:"stage_with-color-picker_27XHm","color-picker-background":"stage_color-picker-background_2HBlI",colorPickerBackground:"stage_color-picker-background_2HBlI","stage-wrapper":"stage_stage-wrapper_35Uar",stageWrapper:"stage_stage-wrapper_35Uar","stage-overlays":"stage_stage-overlays_295lE",stageOverlays:"stage_stage-overlays_295lE","monitor-wrapper":"stage_monitor-wrapper_2hZ-i",monitorWrapper:"stage_monitor-wrapper_2hZ-i","frame-wrapper":"stage_frame-wrapper_iYJos",frameWrapper:"stage_frame-wrapper_iYJos","green-flag-overlay-wrapper":"stage_green-flag-overlay-wrapper_3bCO-",greenFlagOverlayWrapper:"stage_green-flag-overlay-wrapper_3bCO-","dragging-sprite":"stage_dragging-sprite_2rRMx",draggingSprite:"stage_dragging-sprite_2rRMx","stage-bottom-wrapper":"stage_stage-bottom-wrapper_fnczd",stageBottomWrapper:"stage_stage-bottom-wrapper_fnczd","mic-indicator":"stage_mic-indicator_2hH2H",micIndicator:"stage_mic-indicator_2hH2H","question-wrapper":"stage_question-wrapper_3Sii9",questionWrapper:"stage_question-wrapper_3Sii9",frame:"stage_frame_1-hsB",flash:"stage_flash_3LJh5","green-flag-overlay":"stage_green-flag-overlay_219KT",greenFlagOverlay:"stage_green-flag-overlay_219KT"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/ /* Toolbox z-index: 40; set in scratch-blocks */ /* tooltips should go over add buttons if they overlap */ /* monitors go over add buttons */ /* "ask" block text input goes above monitors */ /* menu-bar should go over monitors, alerts and tutorials */ /* tw: show below menu bar normally */ /* Block drag z-index: 1000; default 50 is overriden in blocks.css */ /* so it is draggable into other panes */ /* in most interfaces, the context menu is always on top */ .loader_background_1-Rwn {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 490;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: hsla(0, 100%, 65%, 1);\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    text-align: center;\n    color: white;\n} [theme="dark"] .loader_background_1-Rwn {\n    background-color: #333;\n} .loader_fullscreen_tNbvL {\n    /* Break out of the layout using position: fixed to cover the whole screen */\n    position: fixed;\n    /* Use the fullscreen stage z-index to allow covering full-screen mode */\n    z-index: 5000;\n} .loader_block-animation_2EgCQ {\n    width: 125px;\n    height: 150px;\n    margin: 50px auto 0px;\n} .loader_block-animation_2EgCQ img {\n    display: block;\n    position: relative;\n    height: 30%;\n    margin-top: -4px;\n} .loader_top-block_1-yuR {\n    animation: loader_top-slide-in_3hScI 1.5s ease infinite;\n} .loader_middle-block_2ma0T {\n    animation: loader_middle-slide-in_3GSy9 1.5s ease infinite;\n} .loader_bottom-block_ABwSu {\n    animation: loader_bottom-slide-in_8euy_ 1.5s ease infinite;\n} [dir="rtl"] .loader_top-block_1-yuR {\n    animation: loader_top-slide-in-rtl_1iaUP 1.5s ease infinite;\n} [dir="rtl"] .loader_middle-block_2ma0T {\n    animation: loader_middle-slide-in-rtl_1Ve0h 1.5s ease infinite;\n} [dir="rtl"] .loader_bottom-block_ABwSu {\n    animation: loader_bottom-slide-in-rtl_2hnAN 1.5s ease infinite;\n} @keyframes loader_top-slide-in_3hScI {\n  0% {\n    transform: translateY(50px);\n    opacity: 0;\n  }\n\n  33% {\n    transform: translateY(0px);\n    opacity: 1;\n  }\n} @keyframes loader_middle-slide-in_3GSy9 {\n  0% {\n    transform: translateY(50px);\n    opacity: 0;\n  }\n\n  33% {\n    transform: translateY(50px);\n    opacity: 0;\n  }\n\n  66% {\n    transform: translateY(0px);\n    opacity: 1;\n  }\n} @keyframes loader_bottom-slide-in_8euy_ {\n  0% {\n    transform: translateY(50px);\n    opacity: 0;\n  }\n\n  66% {\n    transform: translateY(50px);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translateY(0px);\n    opacity: 1;\n  }\n} @keyframes loader_top-slide-in-rtl_1iaUP {\n  0% {\n    transform: translateY(50px) scaleX(-1);\n    opacity: 0;\n  }\n\n  33% {\n    transform: translateY(0px) scaleX(-1);\n    opacity: 1;\n  }\n  100% {\n    transform: translateY(0px) scaleX(-1);\n    opacity: 1;\n  }\n} @keyframes loader_middle-slide-in-rtl_1Ve0h {\n  0% {\n    transform: translateY(50px) scaleX(-1);\n    opacity: 0;\n  }\n\n  33% {\n    transform: translateY(50px) scaleX(-1);\n    opacity: 0;\n  }\n\n  66% {\n    transform: translateY(0px) scaleX(-1);\n    opacity: 1;\n  }\n  100% {\n    transform: translateY(0px) scaleX(-1);\n    opacity: 1;\n  }\n} @keyframes loader_bottom-slide-in-rtl_2hnAN {\n  0% {\n    transform: translateY(50px) scaleX(-1);\n    opacity: 0;\n  }\n\n  66% {\n    transform: translateY(50px) scaleX(-1);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translateY(0px) scaleX(-1);\n    opacity: 1;\n  }\n} .loader_title_28GDz {\n    font-size: 2rem;\n    font-weight: bold;\n    margin: 0.75rem 0;\n} .loader_message-container-outer_oYjTv {\n    height: 30px;\n    overflow: hidden;\n} .loader_message-container-inner_3ck0d {\n    transition: transform 0.5s;\n} .loader_message_rvm_w {\n    height: 20px;\n    margin: 5px 0;\n} .loader_tw-progress-outer_ugXeu {\n    position: relative;\n    width: 250px;\n    height: 5px;\n    border: 1px solid white;\n    margin: auto;\n} .loader_tw-progress-inner_gS7mQ {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 0;\n    background-color: white;\n}\n',""]),t.locals={background:"loader_background_1-Rwn",fullscreen:"loader_fullscreen_tNbvL","block-animation":"loader_block-animation_2EgCQ",blockAnimation:"loader_block-animation_2EgCQ","top-block":"loader_top-block_1-yuR",topBlock:"loader_top-block_1-yuR","top-slide-in":"loader_top-slide-in_3hScI",topSlideIn:"loader_top-slide-in_3hScI","middle-block":"loader_middle-block_2ma0T",middleBlock:"loader_middle-block_2ma0T","middle-slide-in":"loader_middle-slide-in_3GSy9",middleSlideIn:"loader_middle-slide-in_3GSy9","bottom-block":"loader_bottom-block_ABwSu",bottomBlock:"loader_bottom-block_ABwSu","bottom-slide-in":"loader_bottom-slide-in_8euy_",bottomSlideIn:"loader_bottom-slide-in_8euy_","top-slide-in-rtl":"loader_top-slide-in-rtl_1iaUP",topSlideInRtl:"loader_top-slide-in-rtl_1iaUP","middle-slide-in-rtl":"loader_middle-slide-in-rtl_1Ve0h",middleSlideInRtl:"loader_middle-slide-in-rtl_1Ve0h","bottom-slide-in-rtl":"loader_bottom-slide-in-rtl_2hnAN",bottomSlideInRtl:"loader_bottom-slide-in-rtl_2hnAN",title:"loader_title_28GDz","message-container-outer":"loader_message-container-outer_oYjTv",messageContainerOuter:"loader_message-container-outer_oYjTv","message-container-inner":"loader_message-container-inner_3ck0d",messageContainerInner:"loader_message-container-inner_3ck0d",message:"loader_message_rvm_w","tw-progress-outer":"loader_tw-progress-outer_ugXeu",twProgressOuter:"loader_tw-progress-outer_ugXeu","tw-progress-inner":"loader_tw-progress-inner_gS7mQ",twProgressInner:"loader_tw-progress-inner_gS7mQ"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n/*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/\n\n/* Toolbox z-index: 40; set in scratch-blocks */\n\n/* tooltips should go over add buttons if they overlap */\n\n/* monitors go over add buttons */\n\n/* "ask" block text input goes above monitors */\n\n/* menu-bar should go over monitors, alerts and tutorials */\n\n/* tw: show below menu bar normally */\n\n/* Block drag z-index: 1000; default 50 is overriden in blocks.css */\n\n/* so it is draggable into other panes */\n\n/* in most interfaces, the context menu is always on top */\n\n/* tw: this changes the loading screen to be contained to the stage */\n\n.stage-wrapper_stage-wrapper_3k56F {\n    position: relative;\n}\n\n.stage-wrapper_stage-wrapper_3k56F * {\n    box-sizing: border-box;\n}\n\n.stage-wrapper_stage-canvas-wrapper_n2Q5r {\n    /* Hides negative space between edge of rounded corners + container, when selected */\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n\n.stage-wrapper_stage-wrapper_3k56F.stage-wrapper_full-screen_3WIKP {\n    position: fixed;\n    top: 2.75rem;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 5000;\n    background-color: hsla(0, 100%, 100%, 1);\n    /* spacing between stage and control bar (on the top), or between\n    stage and window edges (on left/right/bottom) */\n    padding: 0.1875rem;\n\n    /* this centers the stage */\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n/* tw: support dark mode */\n\n[theme="dark"] .stage-wrapper_stage-wrapper_3k56F.stage-wrapper_full-screen_3WIKP {\n    background-color: #111;\n}\n\n/* tw: do not show color in embeds */\n\n.stage-wrapper_stage-wrapper_3k56F.stage-wrapper_embedded_qKq7D {\n    background-color: transparent;\n}\n',""]),t.locals={"stage-wrapper":"stage-wrapper_stage-wrapper_3k56F",stageWrapper:"stage-wrapper_stage-wrapper_3k56F","stage-canvas-wrapper":"stage-wrapper_stage-canvas-wrapper_n2Q5r",stageCanvasWrapper:"stage-wrapper_stage-canvas-wrapper_n2Q5r","full-screen":"stage-wrapper_full-screen_3WIKP",fullScreen:"stage-wrapper_full-screen_3WIKP",embedded:"stage-wrapper_embedded_qKq7D"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,"/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ .community-button_community-button_20Q0O {\n    box-shadow: 0 0 0 1px hsla(0, 0%, 0%, 0.15);\n} .community-button_community-button-icon_WReZ5 {\n    height: 1.25rem;\n}\n",""]),t.locals={"community-button":"community-button_community-button_20Q0O",communityButton:"community-button_community-button_20Q0O","community-button-icon":"community-button_community-button-icon_WReZ5",communityButtonIcon:"community-button_community-button-icon_WReZ5"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,"/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ .share-button_share-button_36Wbh {\n    background: hsla(30, 100%, 55%, 1);\n} .share-button_share-button-is-shared_2QzeZ {\n    background: hsla(0, 0%, 0%, 0.15);\n    cursor: default;\n}\n",""]),t.locals={"share-button":"share-button_share-button_36Wbh",shareButton:"share-button_share-button_36Wbh","share-button-is-shared":"share-button_share-button-is-shared_2QzeZ",shareButtonIsShared:"share-button_share-button-is-shared_2QzeZ"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/*\n * NOTE: the copious use of `important` is needed to overwrite\n * the default tooltip styling, and is required by the 3rd party\n * library being used, `react-tooltip`\n */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/\n\n/* Toolbox z-index: 40; set in scratch-blocks */\n\n/* tooltips should go over add buttons if they overlap */\n\n/* monitors go over add buttons */\n\n/* "ask" block text input goes above monitors */\n\n/* menu-bar should go over monitors, alerts and tutorials */\n\n/* tw: show below menu bar normally */\n\n/* Block drag z-index: 1000; default 50 is overriden in blocks.css */\n\n/* so it is draggable into other panes */\n\n/* in most interfaces, the context menu is always on top */\n\n.coming-soon_coming-soon_1vQL2 {\n    background-color: hsla(30, 100%, 55%, 1) !important;\n    border: 1px solid hsla(0, 0%, 0%, 0.15) !important;\n    border-radius: calc(0.5rem / 2) !important;\n    box-shadow: 0 0 .5rem hsla(0, 0%, 0%, 0.15) !important;\n    padding: .75rem 1rem !important;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif !important;\n    font-size: 1rem !important;\n    line-height: 1.25rem !important;\n    z-index: 47 !important;\n}\n\n.coming-soon_coming-soon_1vQL2:after {\n    content: "";\n    border-top: 1px solid hsla(0, 0%, 0%, 0.15) !important;\n    border-left: 0 !important;\n    border-bottom: 0 !important;\n    border-right: 1px solid hsla(0, 0%, 0%, 0.15) !important;\n    border-radius: calc(0.5rem / 2);\n    background-color: hsla(30, 100%, 55%, 1) !important;\n    height: 1rem !important;\n    width: 1rem !important;\n}\n\n.coming-soon_show_1nq_9,\n.coming-soon_show_1nq_9:before,\n.coming-soon_show_1nq_9:after {\n    opacity: 1 !important;\n}\n\n.coming-soon_left_1GGpa:after {\n    margin-top: -.5rem !important;\n    right: -.5rem !important;\n    transform: rotate(45deg) !important;\n}\n\n.coming-soon_right_1V8UL:after {\n    margin-top: -.5rem !important;\n    left: -.5rem !important;\n    transform: rotate(-135deg) !important;\n}\n\n.coming-soon_top_16kkJ:after {\n    margin-right: -.5rem !important;\n    bottom: -.5rem !important;\n    transform: rotate(135deg) !important;\n}\n\n.coming-soon_bottom_1hhH7:after {\n    margin-left: -.5rem !important;\n    top: -.5rem !important;\n    transform: rotate(-45deg) !important;\n}\n\n.coming-soon_coming-soon-image_2YdWF {\n    width: 1.25rem;\n    height: 1.25rem;\n    vertical-align: middle;\n}\n\n[dir="ltr"] .coming-soon_coming-soon-image_2YdWF {\n    margin-left: .125rem;\n}\n\n[dir="rtl"] .coming-soon_coming-soon-image_2YdWF {\n    margin-right: .125rem;\n}\n',""]),t.locals={"coming-soon":"coming-soon_coming-soon_1vQL2",comingSoon:"coming-soon_coming-soon_1vQL2",show:"coming-soon_show_1nq_9",left:"coming-soon_left_1GGpa",right:"coming-soon_right_1V8UL",top:"coming-soon_top_16kkJ",bottom:"coming-soon_bottom_1hhH7","coming-soon-image":"coming-soon_coming-soon-image_2YdWF",comingSoonImage:"coming-soon_coming-soon-image_2YdWF"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ /* Position the language select over the language icon, and make it transparent */ .language-selector_language-select_1h0tC {\n    position: absolute;\n    width: 3rem;\n    height: 3rem;\n    opacity: 0;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-size: .875rem;\n    color: hsla(225, 15%, 40%, 1);\n    background: hsla(0, 100%, 100%, 1);\n} [theme="dark"] .language-selector_language-select_1h0tC {\n    color: hsla(0, 100%, 100%, 1);\n    background: var(--ui-primary, hsla(215, 100%, 95%, 1));\n} [dir="ltr"] .language-selector_language-select_1h0tC {\n    right: 0;\n} [dir="rtl"] .language-selector_language-select_1h0tC {\n    left: 0;\n} .language-selector_language-select_1h0tC option {\n    opacity: 1;\n} .language-selector_language-select_1h0tC:focus {\n    border: 1px solid white;\n}\n',""]),t.locals={"language-select":"language-selector_language-select_1h0tC",languageSelect:"language-selector_language-select_1h0tC"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ .menu_menu_1rWB9 {\n    position: absolute;\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-radius: 0 0 8px 8px;\n    background-color: hsla(0, 100%, 65%, 1);\n    padding: 0;\n    margin: 0;\n    min-width: 186px;\n    /* tw: no max width */\n    /* max-width: 260px; */\n    overflow: visible;\n    color: hsla(0, 100%, 100%, 1);\n    box-shadow: 0 8px 8px 0 hsla(0, 0%, 0%, 0.15);\n} [theme="dark"] .menu_menu_1rWB9 {\n    background-color: #333;\n} .menu_menu_1rWB9.menu_left_1Zl7K {\n    right: 0;\n} .menu_menu_1rWB9.menu_right_12vPx {\n    left: 0;\n} .menu_menu-item_3ELPx {\n    display: block;\n    line-height: 34px;\n    white-space: nowrap;\n    padding: 0 10px;\n    font-size: .75rem;\n    margin: 0;\n    font-weight: bold;\n} .menu_menu-item_3ELPx.menu_active_7GxsI,\n.menu_menu-item_3ELPx:hover {\n    background-color: hsla(0, 0%, 0%, 0.15);\n} .menu_menu-item_3ELPx.menu_hoverable_3mGWm {\n    cursor: pointer;\n} .menu_menu-section_1ai_E {\n    border-top: 1px solid hsla(0, 0%, 0%, 0.15);\n}\n',""]),t.locals={menu:"menu_menu_1rWB9",left:"menu_left_1Zl7K",right:"menu_right_12vPx","menu-item":"menu_menu-item_3ELPx",menuItem:"menu_menu-item_3ELPx",active:"menu_active_7GxsI",hoverable:"menu_hoverable_3mGWm","menu-section":"menu_menu-section_1ai_E",menuSection:"menu_menu-section_1ai_E"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ /*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/ /* Toolbox z-index: 40; set in scratch-blocks */ /* tooltips should go over add buttons if they overlap */ /* monitors go over add buttons */ /* "ask" block text input goes above monitors */ /* menu-bar should go over monitors, alerts and tutorials */ /* tw: show below menu bar normally */ /* Block drag z-index: 1000; default 50 is overriden in blocks.css */ /* so it is draggable into other panes */ /* in most interfaces, the context menu is always on top */ /*\nIf project-title-input.jsx is part of a menu bar say menu-bar.jsx, it can have additional css classes that\ncan set a width for example or what it should do in a flex box (eg. grow).\n*/ .project-title-input_title-field_13MIs {\n    border: 1px dashed hsla(0, 0%, 0%, 0.15);\n    border-radius: calc(0.5rem / 2);\n    -webkit-border-radius: calc(0.5rem / 2);\n    -moz-border-radius: calc(0.5rem / 2);\n    background-color: hsla(0, 100%, 100%, 0.25);\n    background-clip: padding-box;\n    -webkit-background-clip: padding-box;\n    height: auto;\n    padding: .5rem;\n} .project-title-input_title-field_13MIs {\n    color: hsla(0, 100%, 100%, 1);\n    font-weight: bold;\n    font-size: .8rem;\n} .project-title-input_title-field_13MIs::-ms-input-placeholder {\n    color: hsla(0, 100%, 100%, 1);\n    font-weight: normal;\n    font-size: .8rem;\n    font-style: italic;\n} .project-title-input_title-field_13MIs::placeholder {\n    color: hsla(0, 100%, 100%, 1);\n    font-weight: normal;\n    font-size: .8rem;\n    font-style: italic;\n} .project-title-input_title-field_13MIs:hover {\n    background-color: hsla(0, 100%, 100%, 0.5);\n} [theme="dark"] .project-title-input_title-field_13MIs:hover {\n    background-color: rgba(0, 0, 0, 0.5);\n} .project-title-input_title-field_13MIs:focus {\n    outline:none;\n    border: 1px solid hsla(0, 100%, 100%, 0);\n    box-shadow: 0 0 0 calc(0.5rem * .5) hsla(0, 100%, 100%, 0.25);\n    background-color: hsla(0, 100%, 100%, 1);\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n} [theme="dark"] .project-title-input_title-field_13MIs:focus {\n    background-color: rgba(0, 0, 0, 0.3);\n}\n',""]),t.locals={"title-field":"project-title-input_title-field_13MIs",titleField:"project-title-input_title-field_13MIs"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,"/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ .user-avatar_user-thumbnail_IwOnc {\n    width: 2rem;\n    height: 2rem;\n    border-radius: calc(0.5rem / 2);\n    vertical-align: middle;\n    box-shadow: 0 0 0 1px hsla(0, 0%, 0%, 0.15);\n}\n",""]),t.locals={"user-thumbnail":"user-avatar_user-thumbnail_IwOnc",userThumbnail:"user-avatar_user-thumbnail_IwOnc"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ .author-info_author-info__Auzh {\n    color: hsla(0, 100%, 100%, 1);\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    cursor: default;\n} .author-info_avatar_1EtPD {\n    margin-right: .5625rem;\n} .author-info_project-title_3abqH {\n    max-width: 12rem;\n    display: block;\n    overflow: hidden;\n    font-size: 0.875rem;\n    font-weight: bold;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    margin: 0;\n    padding: 0;\n} .author-info_username-line_30Olt {\n    max-width: 12rem;\n    font-size: 0.75rem;\n    display: block;\n    overflow: hidden;\n    font-weight: normal;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n} .author-info_username_3V5C- {\n    font-weight: bold;\n} .author-info_link_2G8-F {\n    text-decoration: none;\n    color: hsla(0, 100%, 100%, 1) !important;\n} .author-info_link_2G8-F:hover {\n    text-decoration: underline;\n} .author-info_link_2G8-F .author-info_author-info__Auzh {\n    cursor: pointer;\n}\n',""]),t.locals={"author-info":"author-info_author-info__Auzh",authorInfo:"author-info_author-info__Auzh",avatar:"author-info_avatar_1EtPD","project-title":"author-info_project-title_3abqH",projectTitle:"author-info_project-title_3abqH","username-line":"author-info_username-line_30Olt",usernameLine:"author-info_username-line_30Olt",username:"author-info_username_3V5C-",link:"author-info_link_2G8-F"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ .inline-message_inline-message_3EzKK {\n    color: hsla(0, 100%, 100%, 1);\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    font-size: .8125rem;\n} .inline-message_success_1HE_O {\n    color: hsla(0, 100%, 100%, 0.75);\n} .inline-message_info_8Giql {\n    color: hsla(0, 100%, 100%, 1);\n} .inline-message_warn_3ryT7 {\n    color: hsla(30, 100%, 70%, 1);\n} .inline-message_spinner_H-tr3 {\n    margin-right: 0.5rem;\n}\n',""]),t.locals={"inline-message":"inline-message_inline-message_3EzKK",inlineMessage:"inline-message_inline-message_3EzKK",success:"inline-message_success_1HE_O",info:"inline-message_info_8Giql",warn:"inline-message_warn_3ryT7",spinner:"inline-message_spinner_H-tr3"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'.save-status_save-now_1Blzi {\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    cursor: pointer;\n}\n',""]),t.locals={"save-now":"save-status_save-now_1Blzi",saveNow:"save-status_save-now_1Blzi"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ /*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/ /* Toolbox z-index: 40; set in scratch-blocks */ /* tooltips should go over add buttons if they overlap */ /* monitors go over add buttons */ /* "ask" block text input goes above monitors */ /* menu-bar should go over monitors, alerts and tutorials */ /* tw: show below menu bar normally */ /* Block drag z-index: 1000; default 50 is overriden in blocks.css */ /* so it is draggable into other panes */ /* in most interfaces, the context menu is always on top */ .menu-bar_menu-bar_1gLUp {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    flex-wrap: nowrap;\n\n    /*\n        For most things, we shouldn\'t explicitly set height, and let the\n        content push the element to whatever fits. Using a fixed height\n        instead, will help us subtract the value we assign from the body,\n        adding up to a perfect 100%. This means we don\'t need to set\n        overflow: hidden, which makes it hard to debug. border-box\n        simplifies by all of this by removing padding from the equation.\n    */\n    box-sizing: border-box;\n    height: 3rem;\n\n    /*\n        @todo: This adds ~20px in Chrome, when scrolling to the right,\n        but fixes [FFx + Safari] [resize window down + scroll to the right] bug.\n        width: 100%;\n    */\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-size: 0.75rem;\n    font-weight: bold;\n    background-color: hsla(0, 100%, 65%, 1);\n    color: hsla(0, 100%, 100%, 1);\n} [theme="dark"] .menu-bar_menu-bar_1gLUp {\n    background-color: #333;\n} .menu-bar_main-menu_EyCGw {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    flex-wrap: nowrap;\n    align-items: center;\n    flex-grow: 1;\n} .menu-bar_scratch-logo_7D20g {\n    height:  1.6rem;\n    vertical-align: middle;\n} .menu-bar_scratch-logo_7D20g.menu-bar_clickable_26k4z {\n    cursor: pointer;\n} .menu-bar_language-icon_3BGzu {\n    height:  1.5rem;\n    vertical-align: middle;\n} .menu-bar_language-caret_UUIbv {\n    margin: 0 .125rem;\n} .menu-bar_language-menu_3aW5d {\n    box-sizing: border-box;\n    display: inline-flex;\n    width: 3rem;\n} .menu-bar_menu-bar-item_264qQ {\n    display: flex;\n    padding: 0 0.25rem;\n    text-decoration: none;\n    color: hsla(0, 100%, 100%, 1);\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    align-self: center;\n    position: relative;\n    align-items: center;\n    white-space: nowrap;\n    height: 3rem;\n} .menu-bar_menu-bar-item_264qQ.menu-bar_hoverable_2sbwj {\n    cursor: pointer;\n} .menu-bar_menu-bar-item_264qQ.menu-bar_active_qDap3,\n.menu-bar_menu-bar-item_264qQ.menu-bar_hoverable_2sbwj:hover {\n    background-color: hsla(0, 0%, 0%, 0.15);\n} .menu-bar_menu-bar-item_264qQ.menu-bar_growable_gzAFf {\n    max-width: 12rem;\n    flex: 1;\n} .menu-bar_title-field-growable_2DAmE {\n    flex-grow: 1;\n    width: 2rem;\n} .menu-bar_file-group_Ofb7F {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n} .menu-bar_file-group_Ofb7F .menu-bar_menu-bar-item_264qQ {\n    padding: 0 0.75rem;\n} .menu-bar_menu-bar-item_264qQ.menu-bar_language-menu_3aW5d {\n    padding: 0 0.5rem;\n} .menu-bar_menu-bar-menu_3M6v8 {\n    margin-top: 3rem;\n    z-index: 491;\n} .menu-bar_feedback-link_2Op70 {\n    color: hsla(0, 100%, 65%, 1) !important;\n    text-decoration: none;\n} [theme="dark"] .menu-bar_feedback-link_2Op70 {\n    color: #333 !important;\n} .menu-bar_feedback-button_2XhjA {\n    background-color: hsla(0, 100%, 100%, 1);\n    height: 34px;\n} .menu-bar_divider_2bLcv {\n    margin: 0 .5rem;\n    height: 34px;\n} .menu-bar_author-info_3H1M3 {\n    margin-left: .25rem;\n    margin-right: .6875rem;\n} .menu-bar_menu-bar-button_45YjE {\n    height: 2rem;\n} .menu-bar_remix-button_22R_5 {\n    background-color: hsla(163, 85%, 40%, 1)\n} .menu-bar_remix-button-icon_120Az {\n    height: 1.25rem;\n} .menu-bar_coming-soon_1mxZx >:not(.menu-bar_coming-soon-tooltip_3ikkK) {\n    opacity: 0.5;\n} .menu-bar_account-info-group_1CTpL {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n} .menu-bar_account-info-group_1CTpL .menu-bar_menu-bar-item_264qQ {\n    padding: 0 0.75rem;\n} .menu-bar_mystuff-icon_1f8Re {\n    margin: 0 .25rem;\n    height: 1rem;\n} .menu-bar_help-icon_ieE_q {\n    margin-right: 0.35rem;\n} .menu-bar_account-nav-menu_1ts18, .menu-bar_mystuff-button_3aa9D {\n    padding: 0 .25rem;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n} .menu-bar_profile-icon_9WA-H {\n    margin: 0 .25rem;\n    width: 2rem;\n    border-radius: calc(0.5rem / 2);\n} .menu-bar_dropdown-caret-icon_3aBkY {\n    width: 0.5rem;\n    height: 0.5rem;\n} [dir="ltr"] .menu-bar_dropdown-caret-icon_3aBkY {\n    margin-left: .5rem;\n} [dir="rtl"] .menu-bar_dropdown-caret-icon_3aBkY {\n    margin-right: .5rem;\n} .menu-bar_disabled_rGGrp {\n    opacity: 0.5;\n} .menu-bar_mystuff_gxcZo > a {\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: 45%;\n  padding-right: 10px;\n  padding-left: 10px;\n  width: 30px;\n  overflow: hidden;\n  text-indent: 50px;\n  white-space: nowrap;\n} .menu-bar_mystuff_gxcZo > a:hover {\n  background-size: 50%;\n} .menu-bar_mystuff_gxcZo > a {\n  background-image: url("/images/mystuff.png");\n} .menu-bar_about-icon_16Env {\n    height: 1.25rem;\n    margin: 0.5rem;\n    vertical-align: middle;\n} /* tw: styles to override <a> styles */ .menu-bar_menu-item-link_1-4xZ {\n    color: hsla(0, 100%, 100%, 1) !important;\n    text-decoration: none;\n}\n',""]),t.locals={"menu-bar":"menu-bar_menu-bar_1gLUp",menuBar:"menu-bar_menu-bar_1gLUp","main-menu":"menu-bar_main-menu_EyCGw",mainMenu:"menu-bar_main-menu_EyCGw","scratch-logo":"menu-bar_scratch-logo_7D20g",scratchLogo:"menu-bar_scratch-logo_7D20g",clickable:"menu-bar_clickable_26k4z","language-icon":"menu-bar_language-icon_3BGzu",languageIcon:"menu-bar_language-icon_3BGzu","language-caret":"menu-bar_language-caret_UUIbv",languageCaret:"menu-bar_language-caret_UUIbv","language-menu":"menu-bar_language-menu_3aW5d",languageMenu:"menu-bar_language-menu_3aW5d","menu-bar-item":"menu-bar_menu-bar-item_264qQ",menuBarItem:"menu-bar_menu-bar-item_264qQ",hoverable:"menu-bar_hoverable_2sbwj",active:"menu-bar_active_qDap3",growable:"menu-bar_growable_gzAFf","title-field-growable":"menu-bar_title-field-growable_2DAmE",titleFieldGrowable:"menu-bar_title-field-growable_2DAmE","file-group":"menu-bar_file-group_Ofb7F",fileGroup:"menu-bar_file-group_Ofb7F","menu-bar-menu":"menu-bar_menu-bar-menu_3M6v8",menuBarMenu:"menu-bar_menu-bar-menu_3M6v8","feedback-link":"menu-bar_feedback-link_2Op70",feedbackLink:"menu-bar_feedback-link_2Op70","feedback-button":"menu-bar_feedback-button_2XhjA",feedbackButton:"menu-bar_feedback-button_2XhjA",divider:"menu-bar_divider_2bLcv","author-info":"menu-bar_author-info_3H1M3",authorInfo:"menu-bar_author-info_3H1M3","menu-bar-button":"menu-bar_menu-bar-button_45YjE",menuBarButton:"menu-bar_menu-bar-button_45YjE","remix-button":"menu-bar_remix-button_22R_5",remixButton:"menu-bar_remix-button_22R_5","remix-button-icon":"menu-bar_remix-button-icon_120Az",remixButtonIcon:"menu-bar_remix-button-icon_120Az","coming-soon":"menu-bar_coming-soon_1mxZx",comingSoon:"menu-bar_coming-soon_1mxZx","coming-soon-tooltip":"menu-bar_coming-soon-tooltip_3ikkK",comingSoonTooltip:"menu-bar_coming-soon-tooltip_3ikkK","account-info-group":"menu-bar_account-info-group_1CTpL",accountInfoGroup:"menu-bar_account-info-group_1CTpL","mystuff-icon":"menu-bar_mystuff-icon_1f8Re",mystuffIcon:"menu-bar_mystuff-icon_1f8Re","help-icon":"menu-bar_help-icon_ieE_q",helpIcon:"menu-bar_help-icon_ieE_q","account-nav-menu":"menu-bar_account-nav-menu_1ts18",accountNavMenu:"menu-bar_account-nav-menu_1ts18","mystuff-button":"menu-bar_mystuff-button_3aa9D",mystuffButton:"menu-bar_mystuff-button_3aa9D","profile-icon":"menu-bar_profile-icon_9WA-H",profileIcon:"menu-bar_profile-icon_9WA-H","dropdown-caret-icon":"menu-bar_dropdown-caret-icon_3aBkY",dropdownCaretIcon:"menu-bar_dropdown-caret-icon_3aBkY",disabled:"menu-bar_disabled_rGGrp",mystuff:"menu-bar_mystuff_gxcZo","about-icon":"menu-bar_about-icon_16Env",aboutIcon:"menu-bar_about-icon_16Env","menu-item-link":"menu-bar_menu-item-link_1-4xZ",menuItemLink:"menu-bar_menu-item-link_1-4xZ"}},function(e,t,n){e.exports=n.p+"static/assets/e764d9d9a7a12892e0845b11cd4202df.png"},function(e,t,n){e.exports=n.p+"static/assets/52797b48d511ecdd8e938684cee7638e.png"},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* this class must contain "see-inside-button" somewhere for the s3 dev tools to be able to reinject itself */ /* https://github.com/griffpatch/Scratch3-Dev-Tools/blob/0.2.4/inject3.js#L1804-L1807 */ .tw-see-inside_see-inside-button_1fSk6 {\n    box-shadow: 0 0 0 1px hsla(0, 0%, 0%, 0.15);\n} .tw-see-inside_see-inside-button-icon_UKAVj {\n    height: 1.25rem;\n}\n',""]),t.locals={"see-inside-button":"tw-see-inside_see-inside-button_1fSk6",seeInsideButton:"tw-see-inside_see-inside-button_1fSk6","see-inside-button-icon":"tw-see-inside_see-inside-button-icon_UKAVj",seeInsideButtonIcon:"tw-see-inside_see-inside-button-icon_UKAVj"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,"\n.watermark_sprite-image_3vILs {\n    margin: auto;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    max-width: 48px;\n    max-height: 48px;\n    opacity: 0.35;\n}\n",""]),t.locals={"sprite-image":"watermark_sprite-image_3vILs",spriteImage:"watermark_sprite-image_3vILs"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n.backpack_backpack-container_2HPPV {\n    flex-shrink: 1;\n    position: relative;\n}\n\n.backpack_backpack-header_Vteeu {\n    margin-top: 0.5rem;\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    background: hsla(0, 100%, 100%, 1);\n    padding: 0.25rem;\n    text-align: center;\n    font-size: 0.85rem;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    transition: 0.2s;\n    cursor: pointer;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n\n[theme="dark"] .backpack_backpack-header_Vteeu {\n    background: var(--ui-primary, hsla(215, 100%, 95%, 1));\n    border-color: var(--ui-secondary, hsla(215, 75%, 95%, 1));\n}\n\n[dir="ltr"] .backpack_backpack-header_Vteeu {\n    border-top-right-radius: 0.5rem;\n}\n\n[dir="rtl"] .backpack_backpack-header_Vteeu {\n    border-top-left-radius: 0.5rem;\n}\n\n.backpack_backpack-list_17cX_ {\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    border-right: 1px solid hsla(0, 0%, 0%, 0.15);\n    min-height: 5.5rem;\n}\n\n/* Absolute position the inner list to allow scrolling inside flex sized container */\n\n.backpack_backpack-list-inner_1OOGg {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    overflow-x: auto;\n}\n\n.backpack_drag-over_3ptWa:after {\n    content: \'\';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0.75;\n    background-color: hsla(0, 100%, 77%, 1);\n    transition: all 0.25s ease;\n}\n\n.backpack_status-message_1RNp6 {\n    width: 100%;\n    text-align: center;\n    font-size: 0.85rem;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n}\n\n.backpack_backpack-item_2qZLR {\n    width: 4rem;\n    height: 4.5rem;\n    margin: 0 0.25rem;\n    flex-shrink: 0;\n\n    /* Need to hide overflow because of background setting below */\n    overflow: hidden;\n}\n\n.backpack_backpack-item_2qZLR > div {\n    /* Need to set the background to get blend-mode below to work */\n    background: var(--ui-primary, hsla(215, 100%, 95%, 1));\n}\n\n.backpack_backpack-item_2qZLR img {\n    mix-blend-mode: multiply; /* Make white transparent for thumnbnails */\n}\n\n[theme="dark"] .backpack_backpack-item_2qZLR img {\n    mix-blend-mode: normal;\n}\n\n.backpack_more_2MpF0 {\n    background: hsla(0, 100%, 65%, 1);\n    color: hsla(0, 100%, 100%, 1);\n    border: none;\n    outline: none;\n    font-weight: bold;\n    border-radius: 0.5rem;\n    font-size: 0.85rem;\n    padding: 0.5rem;\n    margin: 0.5rem;\n    cursor: pointer;\n}\n',""]),t.locals={"backpack-container":"backpack_backpack-container_2HPPV",backpackContainer:"backpack_backpack-container_2HPPV","backpack-header":"backpack_backpack-header_Vteeu",backpackHeader:"backpack_backpack-header_Vteeu","backpack-list":"backpack_backpack-list_17cX_",backpackList:"backpack_backpack-list_17cX_","backpack-list-inner":"backpack_backpack-list-inner_1OOGg",backpackListInner:"backpack_backpack-list-inner_1OOGg","drag-over":"backpack_drag-over_3ptWa",dragOver:"backpack_drag-over_3ptWa","status-message":"backpack_status-message_1RNp6",statusMessage:"backpack_status-message_1RNp6","backpack-item":"backpack_backpack-item_2qZLR",backpackItem:"backpack_backpack-item_2qZLR",more:"backpack_more_2MpF0"}},function(e,t,n){var a=n(199);(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ body {\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n} h2 {\n    font-size: 1.5rem;\n    font-weight: bold;\n} p {\n    font-size: 1rem;\n    line-height: 1.5em;\n} /*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/ /* Toolbox z-index: 40; set in scratch-blocks */ /* tooltips should go over add buttons if they overlap */ /* monitors go over add buttons */ /* "ask" block text input goes above monitors */ /* menu-bar should go over monitors, alerts and tutorials */ /* tw: show below menu bar normally */ /* Block drag z-index: 1000; default 50 is overriden in blocks.css */ /* so it is draggable into other panes */ /* in most interfaces, the context menu is always on top */ .webgl-modal_modal-overlay_1LUzP {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 510;\n    background-color: var(--ui-modal-overlay, hsla(0, 100%, 65%, 0.9));\n} .webgl-modal_modal-content_1K8Sj {\n    margin: 100px auto;\n    outline: none;\n    border: .25rem solid hsla(0, 100%, 100%, 0.25);\n    padding: 0;\n    border-radius: 0.5rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    width: 500px;\n\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    overflow: hidden;\n} .webgl-modal_illustration_2bkJ4 {\n    width: 100%;\n    height: 208px;\n    background-color: hsla(0, 100%, 65%, 1);\n    background-image: url('+a(n(1533))+');\n    background-size: cover;\n} [dir="rtl"] .webgl-modal_illustration_2bkJ4 {\n    transform: scaleX(-1);\n} .webgl-modal_body_DOSJW {\n    background: hsla(0, 100%, 100%, 1);\n    padding: 1.5rem 2.25rem;\n    text-align: center;\n} [theme="dark"] .webgl-modal_body_DOSJW {\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    background: var(--ui-primary, hsla(215, 100%, 95%, 1));\n} /* Confirmation buttons at the bottom of the modal */ .webgl-modal_button-row_3YGec {\n    margin: 1.5rem 0;\n    font-weight: bolder;\n    text-align: right;\n    display: flex;\n    justify-content: center;\n} .webgl-modal_button-row_3YGec button {\n    border: 1px solid hsla(0, 100%, 65%, 1);\n    border-radius: 0.25rem;\n    padding: 0.5rem 2rem;\n    background: hsla(0, 100%, 65%, 1);\n    color: white;\n    font-weight: bold;\n    font-size: 0.875rem;\n} .webgl-modal_faq-link-text_1VN13 {\n    margin: 2rem 0 .5rem 0;\n    font-size: .875rem;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n} .webgl-modal_faq-link_3t7-v {\n    color: hsla(0, 100%, 65%, 1);\n    text-decoration: none;\n}\n',""]),t.locals={"modal-overlay":"webgl-modal_modal-overlay_1LUzP",modalOverlay:"webgl-modal_modal-overlay_1LUzP","modal-content":"webgl-modal_modal-content_1K8Sj",modalContent:"webgl-modal_modal-content_1K8Sj",illustration:"webgl-modal_illustration_2bkJ4",body:"webgl-modal_body_DOSJW","button-row":"webgl-modal_button-row_3YGec",buttonRow:"webgl-modal_button-row_3YGec","faq-link-text":"webgl-modal_faq-link-text_1VN13",faqLinkText:"webgl-modal_faq-link-text_1VN13","faq-link":"webgl-modal_faq-link_3t7-v",faqLink:"webgl-modal_faq-link_3t7-v"}},function(e,t,n){e.exports=n.p+"static/assets/905aaa5ec7fca7cf364f5e74bcb10be1.png"},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ body {\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n} h2 {\n    font-size: 1.5rem;\n    font-weight: bold;\n} p {\n    font-size: 1rem;\n    line-height: 1.5em;\n} /*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/ /* Toolbox z-index: 40; set in scratch-blocks */ /* tooltips should go over add buttons if they overlap */ /* monitors go over add buttons */ /* "ask" block text input goes above monitors */ /* menu-bar should go over monitors, alerts and tutorials */ /* tw: show below menu bar normally */ /* Block drag z-index: 1000; default 50 is overriden in blocks.css */ /* so it is draggable into other panes */ /* in most interfaces, the context menu is always on top */ .browser-modal_modal-overlay_3n1Lc {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 510;\n    background-color: var(--ui-modal-overlay, hsla(0, 100%, 65%, 0.9));\n} .browser-modal_modal-content_3udAD {\n    margin: 100px auto;\n    outline: none;\n    border: .25rem solid hsla(0, 100%, 100%, 0.25);\n    padding: 0;\n    border-radius: 0.5rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    width: 500px;\n\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    overflow: hidden;\n} .browser-modal_illustration_ZJXEu {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 100px;\n    background-color: hsla(38, 100%, 55%, 1);\n} [dir="rtl"] .browser-modal_illustration_ZJXEu {\n    transform: scaleX(-1);\n} .browser-modal_illustration_ZJXEu img {\n    height: 80%;\n    width: auto;\n} .browser-modal_body_3XY4U {\n    background: hsla(0, 100%, 100%, 1);\n    padding: 1.5rem 2.25rem;\n    text-align: center;\n} /* Confirmation buttons at the bottom of the modal */ .browser-modal_button-row_1PZ7z {\n    margin: 1.5rem 0;\n    font-weight: bolder;\n    text-align: right;\n    display: flex;\n    justify-content: center;\n} .browser-modal_button-row_1PZ7z button {\n    border: 1px solid hsla(0, 100%, 65%, 1);\n    border-radius: 0.25rem;\n    padding: 0.5rem 2rem;\n    background: hsla(0, 100%, 65%, 1);\n    color: white;\n    font-weight: bold;\n    font-size: 0.875rem;\n    cursor: pointer;\n} .browser-modal_faq-link-text_q9yuQ {\n    margin: 2rem 0 .5rem 0;\n    font-size: .875rem;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n} .browser-modal_faq-link_3LV5o {\n    color: hsla(0, 100%, 65%, 1);\n    text-decoration: none;\n} .browser-modal_body_3XY4U p {\n    margin-bottom: 1em;\n}',""]),t.locals={"modal-overlay":"browser-modal_modal-overlay_3n1Lc",modalOverlay:"browser-modal_modal-overlay_3n1Lc","modal-content":"browser-modal_modal-content_3udAD",modalContent:"browser-modal_modal-content_3udAD",illustration:"browser-modal_illustration_ZJXEu",body:"browser-modal_body_3XY4U","button-row":"browser-modal_button-row_1PZ7z",buttonRow:"browser-modal_button-row_1PZ7z","faq-link-text":"browser-modal_faq-link-text_q9yuQ",faqLinkText:"browser-modal_faq-link-text_q9yuQ","faq-link":"browser-modal_faq-link_3LV5o",faqLink:"browser-modal_faq-link_3LV5o"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n/*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/\n\n/* Toolbox z-index: 40; set in scratch-blocks */\n\n/* tooltips should go over add buttons if they overlap */\n\n/* monitors go over add buttons */\n\n/* "ask" block text input goes above monitors */\n\n/* menu-bar should go over monitors, alerts and tutorials */\n\n/* tw: show below menu bar normally */\n\n/* Block drag z-index: 1000; default 50 is overriden in blocks.css */\n\n/* so it is draggable into other panes */\n\n/* in most interfaces, the context menu is always on top */\n\n.card_card-container-overlay_2QacE {\n    position: fixed;\n    pointer-events: none;\n    z-index: 480;\n}\n\n.card_card-container_3CTj3 {\n    position:absolute;\n    pointer-events: auto;\n    z-index: 480;\n    margin: 0.5rem 2rem;\n    min-width: 468px;\n}\n\n.card_left-card_37wEj, .card_right-card_IuwCX {\n    height: 90%;\n    position: absolute;\n    top: 5%;\n    background: hsla(0, 100%, 100%, 1);\n    border: 1px solid var(--ui-tertiary, hsla(215, 50%, 90%, 1));\n    width: .75rem;\n    z-index: 10;\n    opacity: 0.9;\n    overflow: hidden;\n}\n\n.card_left-card_37wEj {\n    left: -.75rem;\n    border-right: 0;\n    border-top-left-radius: 0.75rem;\n    border-bottom-left-radius: 0.75rem;\n}\n\n.card_right-card_IuwCX {\n    right: -.75rem;\n    border-left: 0;\n    border-top-right-radius: 0.75rem;\n    border-bottom-right-radius: 0.75rem;\n}\n\n.card_left-card_37wEj::after, .card_right-card_IuwCX::after {\n    content: "";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 2.5rem;\n    width: 100%;\n    background: hsla(10, 85%, 65%, 1);\n}\n\n.card_left-button_qn4Sw, .card_right-button_1SJvV {\n    position: absolute;\n    top: 50%;\n    margin-top: -15px;\n    z-index: 20;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    cursor: pointer;\n    background: hsla(10, 85%, 65%, 1);\n    box-shadow: 0 0 0 4px hsla(10, 85%, 65%, 0.35);\n    height: 44px;\n    width: 44px;\n    border-radius: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.25s ease;\n}\n\n.card_left-button_qn4Sw:hover, .card_right-button_1SJvV:hover {\n    box-shadow: 0 0 0 6px hsla(10, 85%, 65%, 0.35);\n    transform: scale(1.125);\n}\n\n.card_left-button_qn4Sw img, .card_right-button_1SJvV img{\n    width: 1.75rem;\n}\n\n.card_left-button_qn4Sw {\n    left: -27px;\n}\n\n.card_right-button_1SJvV {\n    right: -27px;\n}\n\n.card_card_2Y01J {\n    border: 1px solid var(--ui-tertiary, hsla(215, 50%, 90%, 1));\n    border-radius: 0.75rem;\n    display: flex;\n    flex-direction: column;\n    cursor: move;\n    z-index: 20;\n    overflow: hidden;\n    box-shadow: 0px 5px 25px 5px hsla(0, 0%, 0%, 0.15);\n    align-items: center;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n}\n\n.card_header-buttons_po2iq {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    background: hsla(10, 85%, 65%, 1);\n    border-bottom: 1px solid hsla(10, 85%, 40%, 1);\n    font-size: 0.625rem;\n    font-weight: bold;\n}\n\n.card_header-buttons-hidden_3djQN {\n    border-bottom: 0px;\n}\n\n.card_header-buttons-right_2gg8P {\n    display: flex;\n    flex-direction: row;\n}\n\n.card_header-buttons_po2iq img {\n    margin-bottom: 2px;\n}\n\n.card_shrink-expand-button_1ptQQ {\n    cursor: pointer;\n    color: white;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding: 0.75rem;\n}\n\n.card_shrink-expand-button_1ptQQ:hover, .card_all-button_lbA2Z:hover {\n    background-color: hsla(0, 0%, 0%, 0.15);\n}\n\n.card_remove-button_3_tlz, .card_all-button_lbA2Z {\n    cursor: pointer;\n    color: white;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding: 0.75rem;\n}\n\n.card_remove-button_3_tlz:hover, .card_all-button_lbA2Z:hover {\n    background-color: hsla(0, 0%, 0%, 0.15);\n}\n\n.card_step-title_1okGu {\n    font-size: 0.9rem;\n    margin: 0.9rem;\n    text-align: center;\n    font-weight: bold;\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n}\n\n.card_step-body_2bEry {\n    width: 100%;\n    background: hsla(0, 100%, 100%, 1);\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    text-align: center;\n\n    /* Min height prevents layout changing when images change */\n    min-height: 256px;\n}\n\n.card_step-video_3htRC {\n    height: 256px;\n}\n\n.card_step-image_3A9ui {\n    max-width: 450px;\n    max-height: 200px;\n    object-fit: contain;\n    background: #F9F9F9;\n    border: 1px solid #ddd;\n    border-radius: 0.5rem;\n    overflow: hidden;\n    margin: 0 0.5rem 0.5rem;\n}\n\n.card_decks_122D_ {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    padding: 0 1rem 0.5rem;\n}\n\n.card_deck_3W7vN {\n    display: flex;\n    flex-direction: column;\n    margin: 0 8px 8px;\n    cursor: pointer;\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-radius: 0.25rem;\n    overflow: hidden;\n}\n\n.card_deck-image_k0nPx {\n    width: 200px;\n    height: 100px;\n    object-fit: cover;\n}\n\n.card_deck-name_1qY_0 {\n    color: hsla(0, 100%, 65%, 1);\n    font-weight: bold;\n    font-size: 0.85rem;\n    margin: .625rem 0px;\n    text-align: center;\n    font-weight: bold;\n    text-align: center;\n    max-width: 200px;\n}\n\n.card_help-icon_MqDLJ {\n    height: 1.25rem;\n}\n\n.card_close-icon_1qu7W {\n    height: 1.25rem;\n    margin: .125rem 0; /* To offset the .25rem difference in icon size */\n}\n\n[dir="ltr"] .card_help-icon_MqDLJ {\n    margin-right: 0.25rem;\n}\n\n[dir="rtl"] .card_help-icon_MqDLJ {\n    margin-left: 0.25rem;\n}\n\n[dir="ltr"] .card_close-icon_1qu7W {\n    margin-left: 0.25rem;\n}\n\n[dir="rtl"] .card_close-icon_1qu7W {\n    margin-right: 0.25rem;\n}\n\n.card_see-all_3a1cU {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    width: 100%;\n    padding: 0.5rem;\n}\n\n.card_see-all-button_3is7d {\n    cursor: pointer;\n    padding: 0.5rem 1rem;\n    background-color: hsla(0, 100%, 65%, 1);\n    color: white;\n    font-weight: bold;\n    border-radius: 0.25rem;\n    display: flex;\n    align-items: center;\n    color: hsla(0, 100%, 100%, 1);\n    font-size: .75rem;\n    font-weight: bold;\n    line-height: 1rem;\n    text-align: center;\n}\n\n[dir="ltr"] .card_see-all-button_3is7d img {\n    margin-left: 0.5rem;\n}\n\n[dir="rtl"] .card_see-all-button_3is7d img {\n    margin-right: 0.5rem;\n}\n\n.card_steps-list_3djjp {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n}\n\n.card_active-step-pip_3R5x2, .card_inactiveStepPip_2yqeE {\n    width: 0.5rem;\n    height: 0.5rem;\n    margin: 0 0.25rem;\n    border-radius: 100%;\n    background: hsla(0, 100%, 100%, 0.25);\n}\n\n.card_active-step-pip_3R5x2 {\n    background: hsla(0, 100%, 100%, 1);\n    box-shadow: 0px 0px 0px 2px hsla(0, 0%, 0%, 0.15);\n}\n\n.card_hidden_10Vrd {\n    display: none;\n}\n',""]),t.locals={"card-container-overlay":"card_card-container-overlay_2QacE",cardContainerOverlay:"card_card-container-overlay_2QacE","card-container":"card_card-container_3CTj3",cardContainer:"card_card-container_3CTj3","left-card":"card_left-card_37wEj",leftCard:"card_left-card_37wEj","right-card":"card_right-card_IuwCX",rightCard:"card_right-card_IuwCX","left-button":"card_left-button_qn4Sw",leftButton:"card_left-button_qn4Sw","right-button":"card_right-button_1SJvV",rightButton:"card_right-button_1SJvV",card:"card_card_2Y01J","header-buttons":"card_header-buttons_po2iq",headerButtons:"card_header-buttons_po2iq","header-buttons-hidden":"card_header-buttons-hidden_3djQN",headerButtonsHidden:"card_header-buttons-hidden_3djQN","header-buttons-right":"card_header-buttons-right_2gg8P",headerButtonsRight:"card_header-buttons-right_2gg8P","shrink-expand-button":"card_shrink-expand-button_1ptQQ",shrinkExpandButton:"card_shrink-expand-button_1ptQQ","all-button":"card_all-button_lbA2Z",allButton:"card_all-button_lbA2Z","remove-button":"card_remove-button_3_tlz",removeButton:"card_remove-button_3_tlz","step-title":"card_step-title_1okGu",stepTitle:"card_step-title_1okGu","step-body":"card_step-body_2bEry",stepBody:"card_step-body_2bEry","step-video":"card_step-video_3htRC",stepVideo:"card_step-video_3htRC","step-image":"card_step-image_3A9ui",stepImage:"card_step-image_3A9ui",decks:"card_decks_122D_",deck:"card_deck_3W7vN","deck-image":"card_deck-image_k0nPx",deckImage:"card_deck-image_k0nPx","deck-name":"card_deck-name_1qY_0",deckName:"card_deck-name_1qY_0","help-icon":"card_help-icon_MqDLJ",helpIcon:"card_help-icon_MqDLJ","close-icon":"card_close-icon_1qu7W",closeIcon:"card_close-icon_1qu7W","see-all":"card_see-all_3a1cU",seeAll:"card_see-all_3a1cU","see-all-button":"card_see-all-button_3is7d",seeAllButton:"card_see-all-button_3is7d","steps-list":"card_steps-list_3djjp",stepsList:"card_steps-list_3djjp","active-step-pip":"card_active-step-pip_3R5x2",activeStepPip:"card_active-step-pip_3R5x2",inactiveStepPip:"card_inactiveStepPip_2yqeE",hidden:"card_hidden_10Vrd"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n/*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/\n\n/* Toolbox z-index: 40; set in scratch-blocks */\n\n/* tooltips should go over add buttons if they overlap */\n\n/* monitors go over add buttons */\n\n/* "ask" block text input goes above monitors */\n\n/* menu-bar should go over monitors, alerts and tutorials */\n\n/* tw: show below menu bar normally */\n\n/* Block drag z-index: 1000; default 50 is overriden in blocks.css */\n\n/* so it is draggable into other panes */\n\n/* in most interfaces, the context menu is always on top */\n\n.alert_alert_2I8f0 {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    overflow: hidden;\n    justify-content: flex-start;\n    border-radius: 0.5rem;\n    padding-top: .875rem;\n    padding-bottom: .875rem;\n    padding-left: 1rem;\n    padding-right: 1rem;\n    margin-bottom: 7px;\n    min-height: 1.5rem;\n    pointer-events: all;\n}\n\n.alert_alert_2I8f0.alert_warn_3EqUn {\n    background: #FFF0DF;\n    border: 1px solid #FF8C1A;\n    box-shadow: 0px 0px 0px 2px rgba(255, 140, 26, 0.25);\n}\n\n.alert_alert_2I8f0.alert_success_1bP9- {\n    /* tw: hardcode these colors because we change extensions-* colors to be something that looks weird here */\n    background: hsla(163, 57%, 85%, 1);\n    border: 1px solid hsla(163, 85%, 30%, 1);\n    box-shadow: 0px 0px 0px 2px hsla(163, 57%, 85%, 1);\n}\n\n.alert_alert-spinner_1VBcO {\n    self-align: center;\n}\n\n.alert_icon-section_NZU2D {\n    min-width: 1.25rem;\n    min-height: 1.25rem;\n    display: flex;\n    padding-right: 1rem;\n}\n\n.alert_alert-icon_Vk3t4 {\n    vertical-align: middle;\n}\n\n.alert_alert-message_1UEAd {\n    color: #555;\n    font-weight: bold;\n    font-size: .8125rem;\n    line-height: .875rem;\n    display: flex;\n    align-items: center;\n    padding-right: .5rem;\n}\n\n.alert_alert-buttons_13goQ {\n    display: flex;\n    flex-direction: row;\n}\n\n.alert_alert-close-button_3XYnj {\n    outline-style:none;\n}\n\n.alert_alert-close-button-container_4C-UN {\n    outline-style: none;\n    width: 30px;\n    height: 30px;\n    align-self: center;\n}\n\n.alert_alert-connection-button_2zcTP {\n    min-height: 2rem;\n    width: 6.5rem;\n    padding: 0.55rem 0.9rem;\n    border-radius: 0.35rem;\n    background: #FF8C1A;\n    color: white;\n    font-weight: 700;\n    font-size: 0.77rem;\n    border: none;\n    cursor: pointer;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    align-self: stretch;\n    outline-style:none;\n}\n\n[dir="ltr"] .alert_alert-connection-button_2zcTP {\n    margin-right: 13px;\n}\n\n[dir="rtl"] .alert_alert-connection-button_2zcTP {\n    margin-left: 13px;\n}\n\n/* prevent last button in list from too much margin to edge of alert */\n\n.alert_alert-buttons_13goQ > :last-child {\n    margin-left: 0;\n    margin-right: 0;\n}\n',""]),t.locals={alert:"alert_alert_2I8f0",warn:"alert_warn_3EqUn",success:"alert_success_1bP9-","alert-spinner":"alert_alert-spinner_1VBcO",alertSpinner:"alert_alert-spinner_1VBcO","icon-section":"alert_icon-section_NZU2D",iconSection:"alert_icon-section_NZU2D","alert-icon":"alert_alert-icon_Vk3t4",alertIcon:"alert_alert-icon_Vk3t4","alert-message":"alert_alert-message_1UEAd",alertMessage:"alert_alert-message_1UEAd","alert-buttons":"alert_alert-buttons_13goQ",alertButtons:"alert_alert-buttons_13goQ","alert-close-button":"alert_alert-close-button_3XYnj",alertCloseButton:"alert_alert-close-button_3XYnj","alert-close-button-container":"alert_alert-close-button-container_4C-UN",alertCloseButtonContainer:"alert_alert-close-button-container_4C-UN","alert-connection-button":"alert_alert-connection-button_2zcTP",alertConnectionButton:"alert_alert-connection-button_2zcTP"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,".alerts_alerts-inner-container_h6dBI {\n    min-width: 200px;\n    max-width: 548px;\n}\n",""]),t.locals={"alerts-inner-container":"alerts_alerts-inner-container_h6dBI",alertsInnerContainer:"alerts_alerts-inner-container_h6dBI"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n/*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/\n\n/* Toolbox z-index: 40; set in scratch-blocks */\n\n/* tooltips should go over add buttons if they overlap */\n\n/* monitors go over add buttons */\n\n/* "ask" block text input goes above monitors */\n\n/* menu-bar should go over monitors, alerts and tutorials */\n\n/* tw: show below menu bar normally */\n\n/* Block drag z-index: 1000; default 50 is overriden in blocks.css */\n\n/* so it is draggable into other panes */\n\n/* in most interfaces, the context menu is always on top */\n\n.drag-layer_drag-layer_3RGNn {\n    position: fixed;\n    pointer-events: none;\n    z-index: 1000;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    direction: ltr;\n}\n\n.drag-layer_image-wrapper_3G0af {\n    /* Absolute allows wrapper to snuggly fit image */\n    position: absolute;\n}\n\n.drag-layer_image_2PHUm {\n    max-width: 80px;\n    max-height: 80px;\n    min-width: 50px;\n    min-height: 50px;\n\n    /* Center the dragging image on the given position */\n    margin-left: -50%;\n    margin-top: -50%;\n\n    padding: 0.25rem;\n    border: 2px solid hsla(0, 100%, 65%, 1);\n    background: hsla(0, 100%, 100%, 1);\n    border-radius: 0.5rem;\n\n    /* Use the same drop shadow as stage dragging */\n    box-shadow: 5px 5px 5px hsla(0, 0%, 0%, 0.15);\n}\n',""]),t.locals={"drag-layer":"drag-layer_drag-layer_3RGNn",dragLayer:"drag-layer_drag-layer_3RGNn","image-wrapper":"drag-layer_image-wrapper_3G0af",imageWrapper:"drag-layer_image-wrapper_3G0af",image:"drag-layer_image_2PHUm"}},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ .connection-modal_modal-content_znApD {\n    width: 480px;\n} .connection-modal_header_12IsA {\n    background-color: hsla(163, 85%, 40%, 1);\n} .connection-modal_body_2K6g8 {\n    background: hsla(0, 100%, 100%, 1);\n} .connection-modal_label_1aIgw {\n    font-weight: 500;\n    margin: 0 0 0.75rem;\n} .connection-modal_centered-row_1aluq {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n} .connection-modal_peripheral-tile-pane_1Yvvr {\n    overflow-y: auto;\n    width: 100%;\n    height: 100%;\n} .connection-modal_peripheral-tile_1uEjE {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n\n    background-color: hsla(0, 100%, 100%, 1);\n    border-radius: 0.25rem;\n    padding: 10px;\n    width: 100%;\n    height: 55px;\n    margin-bottom: 0.5rem;\n} .connection-modal_peripheral-tile-name_FWRcO {\n    display: flex;\n    align-items: center;\n} [dir="ltr"] .connection-modal_peripheral-tile-image_fsr_J {\n    margin-right: 0.5rem;\n} [dir="rtl"] .connection-modal_peripheral-tile-image_fsr_J {\n    margin-left: 0.5rem;\n} .connection-modal_peripheral-tile-name-wrapper_2xNWg {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n} .connection-modal_peripheral-tile-name-label_1tXxJ {\n    font-weight: bold;\n    font-size: 0.625rem;\n} .connection-modal_peripheral-tile-name-text_1GANU {\n    font-size: 0.875rem;\n} .connection-modal_peripheral-tile_1uEjE button {\n    padding: 0.6rem 0.75rem;\n    border: none;\n    border-radius: 0.25rem;\n    font-weight: 600;\n    font-size: 0.85rem;\n    background: hsla(0, 100%, 65%, 1);\n    border: hsla(0, 100%, 65%, 1);\n    color: white;\n    cursor: pointer;\n} .connection-modal_signal-strength-meter_2gsno {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n    width: 22px;\n    height: 16px;\n} [dir="ltr"] .connection-modal_signal-strength-meter_2gsno {\n    margin-right: 1rem;\n} [dir="rtl"] .connection-modal_signal-strength-meter_2gsno {\n    margin-left: 1rem;\n} .connection-modal_signal-bar_2tjmP {\n    width: 4px;\n    border-radius: 4px;\n    background-color: #DBDBDB;\n} .connection-modal_signal-bar_2tjmP:nth-of-type(1) { height: 25%; } .connection-modal_signal-bar_2tjmP:nth-of-type(2) { height: 50%; } .connection-modal_signal-bar_2tjmP:nth-of-type(3) { height: 75%; } .connection-modal_signal-bar_2tjmP:nth-of-type(4) { height: 100%; } .connection-modal_green-bar_1aoqx {\n    background-color: hsla(163, 85%, 40%, 1);\n} .connection-modal_radar-small_3aU1r {\n    width: 40px;\n    height: 40px;\n} [dir="ltr"] .connection-modal_radar-small_3aU1r {\n    margin-right: 0.5rem;\n} [dir="rtl"] .connection-modal_radar-small_3aU1r {\n    margin-left: 0.5rem;\n} .connection-modal_radar-big_2N6j7 {\n    width: 120px;\n    height: 120px;\n} .connection-modal_radar-spin_3EJdF {\n    animation: connection-modal_spin_1PyQc 4s linear infinite;\n} [dir="ltr"] .connection-modal_radar_1rdrv {\n    margin-right: .5rem;\n} [dir="rtl"] .connection-modal_radar_1rdrv {\n    margin-left: .5rem;\n} @keyframes connection-modal_spin_1PyQc {\n    100% {\n        transform: rotate(360deg);\n    }\n} .connection-modal_peripheral-activity_2cL0Z {\n    position: relative;\n} .connection-modal_peripheral-activity-icon_2OJ-L {\n    /* width: 80px;\n    height: 80px; */\n} .connection-modal_connection-tip-icon_1HcJH {\n    position: absolute;\n} .connection-modal_bluetooth-connecting-icon_2OEDp {\n    position: absolute;\n    top: -5px;\n    right: -15px;\n    left: -15px;\n    padding: 5px 5px;\n    background-color: hsla(0, 100%, 65%, 1);\n    border-radius: 100%;\n    box-shadow: 0px 0px 0px 4px hsla(0, 100%, 65%, 0.35);\n    /* animation: pulse-blue-ring 1s infinite ease-in-out alternate; */\n    animation: connection-modal_wiggle_27ALc 0.5s infinite ease-in-out alternate;\n\n} @keyframes connection-modal_pulse-blue-ring_3LY8c {\n    100% {\n        box-shadow: 0px 0px 0px 8px hsla(0, 100%, 65%, 0.15);\n    }\n} .connection-modal_bluetooth-connected-icon_2zqfa {\n    position: absolute;\n    top: -5px;\n    right: -15px;\n    left: -15px;\n    padding: 5px 5px;\n    background-color: hsla(163, 85%, 40%, 1);\n    border-radius: 100%;\n    box-shadow: 0px 0px 0px 4px hsla(163, 85%, 40%, 0.25);\n} @keyframes connection-modal_wiggle_27ALc {\n    0% {transform: rotate(3deg) scale(1.05);}\n    25% {transform: rotate(-3deg) scale(1.05);}\n    50% {transform: rotate(5deg) scale(1.05);}\n    75% {transform: rotate(-2deg) scale(1.05);}\n    100% {transform: rotate(0deg) scale(1.05);}\n} .connection-modal_bluetooth-centered-icon_1ewY1 {\n    position: absolute;\n    padding: 5px 5px;\n    background-color: hsla(0, 100%, 65%, 1);\n    border-radius: 100%;\n    box-shadow: 0px 0px 0px 2px hsla(0, 100%, 65%, 0.35);\n} .connection-modal_peripheral-tile-widgets_29jGg {\n    display: flex;\n    align-items: center;\n} .connection-modal_activityArea_PqYoO {\n    height: 165px;\n    background-color: hsla(0, 100%, 65%, 0.15);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: .5rem;\n} .connection-modal_scratch-link-help_THXi8 {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    height: 100%;\n    padding-top: .5rem;\n    padding-bottom: .5rem;\n} .connection-modal_scratch-link-help-step_3T_WN {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n} [dir="ltr"] .connection-modal_scratch-link-help-step_3T_WN {\n    margin-left: 2.5rem;\n} [dir="rtl"] .connection-modal_scratch-link-help-step_3T_WN {\n    margin-right: 2.5rem;\n} .connection-modal_scratch-link-icon_2-yyq {\n    max-width: 50px;\n} [dir="ltr"] .connection-modal_help-step-image_3AZcE {\n    margin-right: 0.5rem;\n} [dir="rtl"] .connection-modal_help-step-image_3AZcE {\n    margin-left: 0.5rem;\n} .connection-modal_help-step-number_20y3d {\n    background: hsla(163, 85%, 40%, 1);\n    border-radius: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: hsla(0, 100%, 100%, 1);\n    font-weight: bold;\n    min-width: 2rem;\n    height: 2rem;\n} [dir="ltr"] .connection-modal_help-step-number_20y3d {\n    margin-right: 0.5rem;\n} [dir="rtl"] .connection-modal_help-step-number_20y3d {\n    margin-left: 0.5rem;\n} .connection-modal_button-row_xsdb5 {\n    font-weight: bolder;\n    text-align: center;\n    display: flex;\n} .connection-modal_abort-connecting-icon_2LN4n {\n    width: 10px;\n    transform: rotate(45deg);\n} .connection-modal_connection-button_QekSE {\n    padding: 0.6rem 0.75rem;\n    border-radius: 0.5rem;\n    background: hsla(0, 100%, 65%, 1);\n    color: white;\n    font-weight: 600;\n    font-size: 0.85rem;\n    margin: 0.25rem;\n    border: none;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n} .connection-modal_connection-button_QekSE:disabled {\n    background: hsla(0, 100%, 65%, 0.35);\n} .connection-modal_segmented-button_3aETV {\n    display: flex;\n} .connection-modal_segmented-button_3aETV .connection-modal_connection-button_QekSE:first-of-type {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n    margin-right: 0;\n} .connection-modal_segmented-button_3aETV .connection-modal_connection-button_QekSE:last-of-type {\n    margin-left: 1px;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n} [dir="ltr"] .connection-modal_button-icon-right_1mnlx {\n    margin-left: 0.5rem;\n} [dir="rtl"] .connection-modal_button-icon-right_1mnlx {\n    margin-right: 0.5rem;\n} [dir="ltr"] .connection-modal_button-icon-left_19wwl {\n    margin-right: 0.5rem;\n} [dir="rtl"] .connection-modal_button-icon-left_19wwl {\n    margin-left: 0.5rem;\n} /* reverse back arrow icon for RTL, don\'t reverse other connection icons */ [dir="rtl"] .connection-modal_button-icon-back_1Y3FL {\n    transform: scaleX(-1);\n} .connection-modal_red-button_343CG {\n    background: hsla(20, 100%, 55%, 1);\n} .connection-modal_corner-buttons_W5WN5 {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    padding: 0 1rem;\n} .connection-modal_bottom-area_2LH2k {\n    background-color: hsla(0, 100%, 100%, 1);\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding-top: 1rem;\n    padding-bottom: .75rem;\n    padding-left: .75rem;\n    padding-right: .75rem;\n} .connection-modal_bottom-area_2LH2k .connection-modal_bottom-area-item_2LoAa+.connection-modal_bottom-area-item_2LoAa {\n    margin-top: 1rem;\n} .connection-modal_instructions_1Y3Rz {\n    text-align: center;\n} .connection-modal_dots-row_dl-ID {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n} .connection-modal_dots-holder_1Cysu {\n    display: flex;\n    padding: 0.25rem 0.1rem;\n    border-radius: 1rem;\n    background: hsla(0, 100%, 65%, 0.15);\n} .connection-modal_dots-holder-success_33Q32 {\n    background: hsla(163, 85%, 40%, 0.25);\n} .connection-modal_dots-holder-error_3iTvC {\n    background: hsla(30, 100%, 55%, 0.25);\n} .connection-modal_dot_x_s6W {\n    width: 0.5rem;\n    height: 0.5rem;\n    margin: 0 0.3rem;\n    border-radius: 100%;\n} .connection-modal_inactive-step-dot_1MAPP {\n    background: hsla(0, 100%, 65%, 0.35);\n} .connection-modal_active-step-dot_18wW5 {\n    background: hsla(0, 100%, 65%, 1);\n} .connection-modal_success-dot_ecbdV {\n    background: hsla(163, 85%, 40%, 1);\n} .connection-modal_error-dot_3e9VW {\n    background: hsla(30, 100%, 55%, 1);\n}\n',""]),t.locals={"modal-content":"connection-modal_modal-content_znApD",modalContent:"connection-modal_modal-content_znApD",header:"connection-modal_header_12IsA",body:"connection-modal_body_2K6g8",label:"connection-modal_label_1aIgw","centered-row":"connection-modal_centered-row_1aluq",centeredRow:"connection-modal_centered-row_1aluq","peripheral-tile-pane":"connection-modal_peripheral-tile-pane_1Yvvr",peripheralTilePane:"connection-modal_peripheral-tile-pane_1Yvvr","peripheral-tile":"connection-modal_peripheral-tile_1uEjE",peripheralTile:"connection-modal_peripheral-tile_1uEjE","peripheral-tile-name":"connection-modal_peripheral-tile-name_FWRcO",peripheralTileName:"connection-modal_peripheral-tile-name_FWRcO","peripheral-tile-image":"connection-modal_peripheral-tile-image_fsr_J",peripheralTileImage:"connection-modal_peripheral-tile-image_fsr_J","peripheral-tile-name-wrapper":"connection-modal_peripheral-tile-name-wrapper_2xNWg",peripheralTileNameWrapper:"connection-modal_peripheral-tile-name-wrapper_2xNWg","peripheral-tile-name-label":"connection-modal_peripheral-tile-name-label_1tXxJ",peripheralTileNameLabel:"connection-modal_peripheral-tile-name-label_1tXxJ","peripheral-tile-name-text":"connection-modal_peripheral-tile-name-text_1GANU",peripheralTileNameText:"connection-modal_peripheral-tile-name-text_1GANU","signal-strength-meter":"connection-modal_signal-strength-meter_2gsno",signalStrengthMeter:"connection-modal_signal-strength-meter_2gsno","signal-bar":"connection-modal_signal-bar_2tjmP",signalBar:"connection-modal_signal-bar_2tjmP","green-bar":"connection-modal_green-bar_1aoqx",greenBar:"connection-modal_green-bar_1aoqx","radar-small":"connection-modal_radar-small_3aU1r",radarSmall:"connection-modal_radar-small_3aU1r","radar-big":"connection-modal_radar-big_2N6j7",radarBig:"connection-modal_radar-big_2N6j7","radar-spin":"connection-modal_radar-spin_3EJdF",radarSpin:"connection-modal_radar-spin_3EJdF",spin:"connection-modal_spin_1PyQc",radar:"connection-modal_radar_1rdrv","peripheral-activity":"connection-modal_peripheral-activity_2cL0Z",peripheralActivity:"connection-modal_peripheral-activity_2cL0Z","peripheral-activity-icon":"connection-modal_peripheral-activity-icon_2OJ-L",peripheralActivityIcon:"connection-modal_peripheral-activity-icon_2OJ-L","connection-tip-icon":"connection-modal_connection-tip-icon_1HcJH",connectionTipIcon:"connection-modal_connection-tip-icon_1HcJH","bluetooth-connecting-icon":"connection-modal_bluetooth-connecting-icon_2OEDp",bluetoothConnectingIcon:"connection-modal_bluetooth-connecting-icon_2OEDp",wiggle:"connection-modal_wiggle_27ALc","bluetooth-connected-icon":"connection-modal_bluetooth-connected-icon_2zqfa",bluetoothConnectedIcon:"connection-modal_bluetooth-connected-icon_2zqfa","bluetooth-centered-icon":"connection-modal_bluetooth-centered-icon_1ewY1",bluetoothCenteredIcon:"connection-modal_bluetooth-centered-icon_1ewY1","peripheral-tile-widgets":"connection-modal_peripheral-tile-widgets_29jGg",peripheralTileWidgets:"connection-modal_peripheral-tile-widgets_29jGg",activityArea:"connection-modal_activityArea_PqYoO","scratch-link-help":"connection-modal_scratch-link-help_THXi8",scratchLinkHelp:"connection-modal_scratch-link-help_THXi8","scratch-link-help-step":"connection-modal_scratch-link-help-step_3T_WN",scratchLinkHelpStep:"connection-modal_scratch-link-help-step_3T_WN","scratch-link-icon":"connection-modal_scratch-link-icon_2-yyq",scratchLinkIcon:"connection-modal_scratch-link-icon_2-yyq","help-step-image":"connection-modal_help-step-image_3AZcE",helpStepImage:"connection-modal_help-step-image_3AZcE","help-step-number":"connection-modal_help-step-number_20y3d",helpStepNumber:"connection-modal_help-step-number_20y3d","button-row":"connection-modal_button-row_xsdb5",buttonRow:"connection-modal_button-row_xsdb5","abort-connecting-icon":"connection-modal_abort-connecting-icon_2LN4n",abortConnectingIcon:"connection-modal_abort-connecting-icon_2LN4n","connection-button":"connection-modal_connection-button_QekSE",connectionButton:"connection-modal_connection-button_QekSE","segmented-button":"connection-modal_segmented-button_3aETV",segmentedButton:"connection-modal_segmented-button_3aETV","button-icon-right":"connection-modal_button-icon-right_1mnlx",buttonIconRight:"connection-modal_button-icon-right_1mnlx","button-icon-left":"connection-modal_button-icon-left_19wwl",buttonIconLeft:"connection-modal_button-icon-left_19wwl","button-icon-back":"connection-modal_button-icon-back_1Y3FL",buttonIconBack:"connection-modal_button-icon-back_1Y3FL","red-button":"connection-modal_red-button_343CG",redButton:"connection-modal_red-button_343CG","corner-buttons":"connection-modal_corner-buttons_W5WN5",cornerButtons:"connection-modal_corner-buttons_W5WN5","bottom-area":"connection-modal_bottom-area_2LH2k",bottomArea:"connection-modal_bottom-area_2LH2k","bottom-area-item":"connection-modal_bottom-area-item_2LoAa",bottomAreaItem:"connection-modal_bottom-area-item_2LoAa",instructions:"connection-modal_instructions_1Y3Rz","dots-row":"connection-modal_dots-row_dl-ID",dotsRow:"connection-modal_dots-row_dl-ID","dots-holder":"connection-modal_dots-holder_1Cysu",dotsHolder:"connection-modal_dots-holder_1Cysu","dots-holder-success":"connection-modal_dots-holder-success_33Q32",dotsHolderSuccess:"connection-modal_dots-holder-success_33Q32","dots-holder-error":"connection-modal_dots-holder-error_3iTvC",dotsHolderError:"connection-modal_dots-holder-error_3iTvC",dot:"connection-modal_dot_x_s6W","inactive-step-dot":"connection-modal_inactive-step-dot_1MAPP",inactiveStepDot:"connection-modal_inactive-step-dot_1MAPP","active-step-dot":"connection-modal_active-step-dot_18wW5",activeStepDot:"connection-modal_active-step-dot_18wW5","success-dot":"connection-modal_success-dot_ecbdV",successDot:"connection-modal_success-dot_ecbdV","error-dot":"connection-modal_error-dot_3e9VW",errorDot:"connection-modal_error-dot_3e9VW","pulse-blue-ring":"connection-modal_pulse-blue-ring_3LY8c",pulseBlueRing:"connection-modal_pulse-blue-ring_3LY8c"}},function(e,t,n){var a=n(199);(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ /* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */ /* layout contants from `layout-constants.js` */ body {\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n} h2 {\n    font-size: 1.5rem;\n    font-weight: bold;\n} p {\n    font-size: 1rem;\n    line-height: 1.5em;\n} /*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/ /* Toolbox z-index: 40; set in scratch-blocks */ /* tooltips should go over add buttons if they overlap */ /* monitors go over add buttons */ /* "ask" block text input goes above monitors */ /* menu-bar should go over monitors, alerts and tutorials */ /* tw: show below menu bar normally */ /* Block drag z-index: 1000; default 50 is overriden in blocks.css */ /* so it is draggable into other panes */ /* in most interfaces, the context menu is always on top */ /* from scratch-www */ .telemetry-modal_modal-overlay_SDoFR {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 510;\n    background-color: var(--ui-modal-overlay, hsla(0, 100%, 65%, 0.9));\n} .telemetry-modal_modal-content_16B4g {\n    margin: 100px auto;\n    outline: none;\n    border: .25rem solid hsla(0, 100%, 100%, 0.25);\n    padding: 0;\n    border-radius: 0.5rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    width: 640px;\n\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    overflow: hidden;\n} .telemetry-modal_illustration_1Xxcy {\n    width: 100%;\n    height: 123px;\n    background-color: hsla(0, 100%, 65%, 1);\n    background-image: url('+a(n(1541))+');\n    background-size: cover;\n} .telemetry-modal_body_2Gocn {\n    background: hsla(0, 100%, 100%, 1);\n    padding: 1.5rem 2.25rem;\n} .telemetry-modal_privacy-policy-link_18tcE {\n    color: hsla(0, 100%, 65%, 1);\n    text-decoration: none;\n} /* stack the radio buttons vertically, not horizontally */ .telemetry-modal_radio-buttons_1Tkl7 label {\n    display: block;\n    margin: 0.5rem;\n    transition: all .125s ease;\n    background-color: hsla(0, 0%, 95%, 1);\n    border-radius: .5rem;\n    margin: 0 auto 0.375rem;\n    align-items: center;\n    padding: 1rem 0;\n    vertical-align: middle;\n} .telemetry-modal_radio-buttons_1Tkl7 label:hover {\n    background-color: hsla(215, 100%, 65%, .1);\n} .telemetry-modal_radio-buttons_1Tkl7 label.telemetry-modal_label-selected_NsTZr,\n.telemetry-modal_radio-buttons_1Tkl7 label.telemetry-modal_label-selected_NsTZr:hover {\n    background-color: hsla(215, 100%, 65%, .25);\n} .telemetry-modal_radio-buttons_1Tkl7 input[type="radio"] {\n    margin: -1px 0.75rem 1px;\n    border: 1px solid hsla(0, 0%, 0%, .1);\n    border-radius: 50%;\n    width: 1rem;\n    height: 1rem;\n    -webkit-appearance: none;\n       -moz-appearance: none;\n            appearance: none;\n    background-color: hsla(0, 100%, 100%, 1);\n    vertical-align: middle;\n} .telemetry-modal_radio-buttons_1Tkl7 input[type="radio"]:checked,\n.telemetry-modal_radio-buttons_1Tkl7 input[type="radio"]:focus {\n    box-shadow: 0 0 0 2px hsla(215, 100%, 65%, .25);\n    outline: none;\n} .telemetry-modal_radio-buttons_1Tkl7 input[type="radio"]:checked {\n    transition: all .25s ease;\n    background-color: hsla(0, 100%, 100%, 1);\n    border: 1px solid hsla(0, 100%, 65%, 1);\n} .telemetry-modal_radio-buttons_1Tkl7 input[type="radio"]:checked::after {\n    display: block;\n    margin: 0.125rem;\n    border-radius: 50%;\n    background-color: hsla(0, 100%, 65%, 1);\n    width: .625rem;\n    height: .625rem;\n    content: "";\n} /* Confirmation buttons at the bottom of the modal */ .telemetry-modal_button-row_1DOWD {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    align-items: baseline;\n\n    margin: 1.5rem 0;\n    font-weight: bolder;\n} @keyframes telemetry-modal_fade-out_5Xhoq {\n    0% {opacity: 1}\n    100% {opacity: 0}\n} .telemetry-modal_setting-was-updated_3U6oM {\n    animation: telemetry-modal_fade-out_5Xhoq 3s ease-out;\n    color: hsla(10, 85%, 65%, 1);\n} .telemetry-modal_button-row_1DOWD button {\n    border: 1px solid hsla(0, 100%, 65%, 1);\n    border-radius: 0.25rem;\n    padding: 0.5rem 1.5rem;\n    color: white;\n    background: hsla(0, 100%, 65%, 1);\n    font-weight: bold;\n    font-size: .875rem;\n    cursor: pointer;\n} .telemetry-modal_button-row_1DOWD button:hover {\n    background: hsla(10, 85%, 65%, 1);\n    box-shadow: 0 0 0 6px hsla(0, 100%, 65%, 0.35);\n} .telemetry-modal_button-row_1DOWD button:disabled {\n    background: var(--text-primary, hsla(225, 15%, 40%, 1));\n    border-color: hsla(0, 0%, 0%, 0.15);\n    box-shadow: none;\n    opacity: 0.25;\n} @media screen and (max-height: 660px) {\n    .telemetry-modal_modal-content_16B4g {\n        margin: 5vh auto;\n        width: 90%;\n    }\n} @media screen and (max-height: 540px) {\n    .telemetry-modal_illustration_1Xxcy {\n        display: none;\n    }\n}\n',""]),t.locals={"modal-overlay":"telemetry-modal_modal-overlay_SDoFR",modalOverlay:"telemetry-modal_modal-overlay_SDoFR","modal-content":"telemetry-modal_modal-content_16B4g",modalContent:"telemetry-modal_modal-content_16B4g",illustration:"telemetry-modal_illustration_1Xxcy",body:"telemetry-modal_body_2Gocn","privacy-policy-link":"telemetry-modal_privacy-policy-link_18tcE",privacyPolicyLink:"telemetry-modal_privacy-policy-link_18tcE","radio-buttons":"telemetry-modal_radio-buttons_1Tkl7",radioButtons:"telemetry-modal_radio-buttons_1Tkl7","label-selected":"telemetry-modal_label-selected_NsTZr",labelSelected:"telemetry-modal_label-selected_NsTZr","button-row":"telemetry-modal_button-row_1DOWD",buttonRow:"telemetry-modal_button-row_1DOWD","setting-was-updated":"telemetry-modal_setting-was-updated_3U6oM",settingWasUpdated:"telemetry-modal_setting-was-updated_3U6oM","fade-out":"telemetry-modal_fade-out_5Xhoq",fadeOut:"telemetry-modal_fade-out_5Xhoq"}},function(e,t,n){e.exports=n.p+"static/assets/fb356e819d8ab210a241ce81b9bac33c.png"},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ .username-modal_modal-content_2AuAG {\n    width: 400px;\n} .username-modal_body_3Vuvu {\n    background: hsla(0, 100%, 100%, 1);\n    padding: 1.5rem 2.25rem;\n} [theme="dark"] .username-modal_body_3Vuvu {\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    background: var(--ui-primary, hsla(215, 100%, 95%, 1));\n} .username-modal_body_3Vuvu input[type="checkbox"],\n.username-modal_body_3Vuvu input[type="radio"] {\n    margin: 3px;\n} .username-modal_text-input_1gGP7 {\n    margin-bottom: 1.5rem;\n    width: 100%;\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    border-radius: 5px;\n    padding: 0 1rem;\n    height: 3rem;\n    color: hsla(225, 15%, 40%, 0.75);\n    font-size: .875rem;\n} [theme="dark"] .username-modal_text-input_1gGP7 {\n    background: var(--ui-secondary, hsla(215, 75%, 95%, 1));\n    color: white;\n} .username-modal_button-row_HCDS0 {\n    font-weight: bolder;\n    text-align: right;\n} .username-modal_button-row_HCDS0 button {\n    padding: 0.75rem 1rem;\n    border-radius: 0.25rem;\n    background: white;\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n    font-weight: 600;\n    font-size: 0.85rem;\n} .username-modal_button-row_HCDS0 button[disabled] {\n    opacity: 0.5;\n} [dir="ltr"] .username-modal_button-row_HCDS0 button + button {\n    margin-left: 0.5rem;\n} [dir="rtl"] .username-modal_button-row_HCDS0 button + button {\n    margin-right: 0.5rem;\n} .username-modal_button-row_HCDS0 button.username-modal_ok-button_3Ig9c {\n    background: hsla(0, 100%, 65%, 1);\n    border: hsla(0, 100%, 65%, 1);\n    color: white;\n} .username-modal_button-row_HCDS0 button.username-modal_cancel-button_GTsd- {\n    color: black;\n} .username-modal_help-text_3Rb6d {\n    margin-bottom: 1.5rem;\n} .username-modal_must-change_3SKT6 {\n    font-weight: bold;\n} .username-modal_reset-link_37lrN {\n    cursor: pointer;\n}\n',""]),t.locals={"modal-content":"username-modal_modal-content_2AuAG",modalContent:"username-modal_modal-content_2AuAG",body:"username-modal_body_3Vuvu","text-input":"username-modal_text-input_1gGP7",textInput:"username-modal_text-input_1gGP7","button-row":"username-modal_button-row_HCDS0",buttonRow:"username-modal_button-row_HCDS0","ok-button":"username-modal_ok-button_3Ig9c",okButton:"username-modal_ok-button_3Ig9c","cancel-button":"username-modal_cancel-button_GTsd-",cancelButton:"username-modal_cancel-button_GTsd-","help-text":"username-modal_help-text_3Rb6d",helpText:"username-modal_help-text_3Rb6d","must-change":"username-modal_must-change_3SKT6",mustChange:"username-modal_must-change_3SKT6","reset-link":"username-modal_reset-link_37lrN",resetLink:"username-modal_reset-link_37lrN"}},function(e,t,n){var a=n(199);(t=e.exports=n(9)(!1)).push([e.i,"/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ .checkbox_checkbox_1UwGU {\n    -webkit-appearance: none;\n       -moz-appearance: none;\n            appearance: none;\n    width: 18px;\n    height: 18px;\n    border-radius: 4px;\n    transition: .2s;\n    background-color: white;\n    transition-property: background-color;\n    background-size: 100%;\n    border: 1px solid rgb(92, 92, 92);\n    outline: none;\n} .checkbox_checkbox_1UwGU:hover, .checkbox_checkbox_1UwGU:focus, .checkbox_checkbox_1UwGU:active, .checkbox_checkbox_1UwGU:checked {\n    border-color: hsla(0, 100%, 65%, 1);\n} .checkbox_checkbox_1UwGU:focus, .checkbox_checkbox_1UwGU:active {\n    box-shadow: 0 0 0 3px hsla(0, 100%, 65%, 0.35);\n} .checkbox_checkbox_1UwGU:checked {\n    background-color: hsla(0, 100%, 65%, 1);\n    background-image: url("+a(n(1544))+');\n} [theme="dark"] .checkbox_checkbox_1UwGU {\n    border-color: transparent;\n}\n',""]),t.locals={checkbox:"checkbox_checkbox_1UwGU"}},function(e,t,n){e.exports=n.p+"static/assets/620f707d6d9dcd512ec6604b0eda2cb3.svg"},function(e,t,n){var a=n(199);(t=e.exports=n(9)(!1)).push([e.i,'/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* 35% transparent version of motion-primary */ /* 15% transparent version of motion-primary */ /* opt-in theme overrides */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* #0FBD8C */ /* #FF8C1A */ /* #FFB366 */ /* #FF8C1A */ /* 35% transparent version of extensions-primary */ /* opaque version of extensions-transparent, on white bg */ /* lighter than motion-primary */ .settings-modal_modal-content_14XGC {\n    max-width: 750px;\n} .settings-modal_body_2_OnB {\n    background: hsla(0, 100%, 100%, 1);\n    padding: 1.5rem 2.25rem;\n    min-height: 150px;\n    max-height: calc(100vh - 250px);\n    overflow-y: auto;\n} [theme="dark"] .settings-modal_body_2_OnB {\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n    background: var(--ui-primary, hsla(215, 100%, 95%, 1));\n} .settings-modal_setting_3KFrK {\n    display: flex;\n    flex-direction: column;\n    padding: 0.5rem 1rem;\n    margin: 0.25rem 0;\n    border-radius: 4px;\n} .settings-modal_setting_3KFrK.settings-modal_active_1Tl18 {\n    background: #dbebff;\n} .settings-modal_setting_3KFrK:hover,\n.settings-modal_setting_3KFrK:focus-within {\n    background: #cadef5;\n} [theme="dark"] .settings-modal_setting_3KFrK.settings-modal_active_1Tl18 {\n    background: #16202c;\n} [theme="dark"] .settings-modal_setting_3KFrK:hover,\n[theme="dark"] .settings-modal_setting_3KFrK:focus-within {\n    background: #202f41;\n} .settings-modal_label_21R3L {\n    height: 32px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n} .settings-modal_setting_3KFrK table {\n    border-collapse: collapse;\n} .settings-modal_setting_3KFrK tr,\n.settings-modal_setting_3KFrK td,\n.settings-modal_setting_3KFrK th {\n    padding: 0;\n    margin: 0;\n    border: 1px solid var(--ui-tertiary, hsla(215, 50%, 90%, 1));\n} .settings-modal_checkbox_3KZcV {\n    margin-right: 0.5rem;\n} .settings-modal_help-icon__QQqI {\n    border: 0;\n    background-color: transparent;\n    background-image: url('+a(n(1546))+');\n    width: 20px;\n    height: 20px;\n    background-size: 100%;\n    margin-left: 0.5rem;\n    cursor: pointer;\n} [theme="dark"] .settings-modal_help-icon__QQqI {\n    background-image: url('+a(n(1547))+');\n} .settings-modal_custom-stage-size_dr_Qv > * {\n    margin-right: 0.5rem;\n} .settings-modal_info_Ce_iV {\n    margin-bottom: 0.25rem;\n} .settings-modal_header_112iQ {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin: 0.5rem 0 0 0;\n    font-weight: bold;\n} .settings-modal_divider_3K8K_ {\n    flex-grow: 1;\n    margin-left: 1rem;\n    border-top: 1px dashed var(--ui-tertiary, hsla(215, 50%, 90%, 1));\n} .settings-modal_button_ACn0P {\n    font-family: inherit;\n    font-size: 14px;\n    background-color: hsla(0, 100%, 65%, 1);\n    color: white;\n    border: none;\n    padding: 0.5rem 1rem;\n    margin: 0;\n    border-radius: 4px;\n    cursor: pointer;\n    font-family: inherit;\n    font-weight: bold;\n} .settings-modal_button_ACn0P:active, .settings-modal_button_ACn0P:focus-within {\n    box-shadow: 0 0 0 3px hsla(0, 100%, 65%, 0.35);\n} .settings-modal_warning_3UmRm {\n    padding: 0.5rem 1rem;\n    margin: 0.25rem 0;\n    border-radius: 4px;\n    background: rgb(233, 233, 53);\n} [theme="dark"] .settings-modal_warning_3UmRm {\n    background: rgb(114, 102, 0);\n}\n',""]),t.locals={"modal-content":"settings-modal_modal-content_14XGC",modalContent:"settings-modal_modal-content_14XGC",body:"settings-modal_body_2_OnB",setting:"settings-modal_setting_3KFrK",active:"settings-modal_active_1Tl18",label:"settings-modal_label_21R3L",checkbox:"settings-modal_checkbox_3KZcV","help-icon":"settings-modal_help-icon__QQqI",helpIcon:"settings-modal_help-icon__QQqI","custom-stage-size":"settings-modal_custom-stage-size_dr_Qv",customStageSize:"settings-modal_custom-stage-size_dr_Qv",info:"settings-modal_info_Ce_iV",header:"settings-modal_header_112iQ",divider:"settings-modal_divider_3K8K_",button:"settings-modal_button_ACn0P",warning:"settings-modal_warning_3UmRm"}},function(e,t,n){e.exports=n.p+"static/assets/c4c75827d7f30081f493963fadec60a1.svg"},function(e,t,n){e.exports=n.p+"static/assets/171fbf8ebb9d7127d4c59a04568e2af4.svg"},function(e,t,n){(t=e.exports=n(9)(!1)).push([e.i,'/* make sure to keep these in sync with other constants,\ne.g. STAGE_DIMENSION_DEFAULTS in lib/screen-utils.js */\n\n/* layout contants from `layout-constants.js` */\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* 35% transparent version of motion-primary */\n\n/* 15% transparent version of motion-primary */\n\n/* opt-in theme overrides */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* #0FBD8C */\n\n/* #FF8C1A */\n\n/* #FFB366 */\n\n/* #FF8C1A */\n\n/* 35% transparent version of extensions-primary */\n\n/* opaque version of extensions-transparent, on white bg */\n\n/* lighter than motion-primary */\n\n/*\n    Contains constants for the z-index values of elements that are part of the global stack context.\n    In other words, z-index values that are "inside" a component are not added here.\n    This prevents conflicts between identical z-index values in different components.\n*/\n\n/* Toolbox z-index: 40; set in scratch-blocks */\n\n/* tooltips should go over add buttons if they overlap */\n\n/* monitors go over add buttons */\n\n/* "ask" block text input goes above monitors */\n\n/* menu-bar should go over monitors, alerts and tutorials */\n\n/* tw: show below menu bar normally */\n\n/* Block drag z-index: 1000; default 50 is overriden in blocks.css */\n\n/* so it is draggable into other panes */\n\n/* in most interfaces, the context menu is always on top */\n\n.gui_page-wrapper_r7IhT {\n    height: 100%;\n}\n\n.gui_body-wrapper_1T2l7 {\n    height: calc(100% - 3rem);\n    background-color: var(--ui-primary, hsla(215, 100%, 95%, 1));\n}\n\n.gui_body-wrapper_1T2l7 * {\n    box-sizing: border-box;\n}\n\n.gui_flex-wrapper_2AgdD {\n    display: flex;\n\n    /*\n        Make 2 columns:\n        a) for the blocks + workspace panes, and\n        b) for combined stage menu + stage + sprite/stage selectors\n    */\n    flex-direction: row;\n    height: 100%;\n\n    /*\n        Stop scrollbar popping in and out from scratch-blocks border issue\n        https://github.com/LLK/scratch-gui/issues/318\n    */\n    overflow: hidden;\n}\n\n.gui_editor-wrapper_WspaC {\n    /*\n        This is carefully balanced--  the minimum width at which the GUI will be displayed is 1024px.\n        At that size, the stage pane is 408px wide, with $space of padding to each side.\n        However, we must also add the border width to the stage pane. All-in-all, the stage pane\'s final width is\n        408px + ($space + $stage-standard-border-width * 2) (one border & padding per left/right side).\n\n        @todo This is in place to prevent "doubling up" of horizontal scrollbars in narrow windows, but there are likely\n        much better ways to solve that (e.g. undo #2124, remove this flex-basis entirely). However, they run their own\n        risks of breaking things, so let\'s just leave this as-is for the time being.\n    */\n    flex-basis: calc(1024px - 408px - ((0.5rem + 0.0625rem) * 2));\n    flex-grow: 1;\n    flex-shrink: 0;\n    position: relative;\n\n    display: flex;\n    flex-direction: column;\n}\n\n.gui_tab-list_3r8RB {\n    height: 2.75rem;\n    width: 250px; /* Match width of the toolbox */\n    display: flex;\n    align-items: flex-end;\n    flex-shrink: 0;\n\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-weight: 500;\n    font-size: 0.80rem;\n\n    /* Overrides for react-tabs styling */\n    margin: 0 !important;\n    border-bottom: 0 !important;\n}\n\n.gui_tab_3k_DV {\n    flex-grow: 1;\n    height: 80%;\n    margin-bottom: 0;\n\n    border-radius: 1rem 1rem 0 0;\n    border: 1px solid hsla(0, 0%, 0%, 0.15);\n\n    padding: 0.125rem 1.25rem 0;\n    font-size: 0.75rem;\n\n    background-color: var(--ui-tertiary, hsla(215, 50%, 90%, 1));\n    color: hsla(225, 15%, 40%, 0.75);\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    -webkit-user-select: none;\n\n       -moz-user-select: none;\n\n        -ms-user-select: none;\n\n            user-select: none;\n    white-space: nowrap;\n}\n\n[theme="dark"] .gui_tab_3k_DV {\n    color: var(--text-primary, hsla(225, 15%, 40%, 1));\n}\n\n[dir="ltr"] .gui_tab_3k_DV {\n    margin-left: -0.5rem;\n}\n\n[dir="rtl"] .gui_tab_3k_DV {\n    margin-right: -0.5rem;\n}\n\n[dir="ltr"] .gui_tab_3k_DV:nth-of-type(1) {\n    margin-left: 0;\n}\n\n[dir="rtl"] .gui_tab_3k_DV:nth-of-type(1) {\n    margin-right: 0;\n}\n\n/* Use z-indices to force left-on-top for tabs */\n\n.gui_tab_3k_DV:nth-of-type(1) {\n    z-index: 3;\n}\n\n.gui_tab_3k_DV:nth-of-type(2) {\n    z-index: 2;\n}\n\n.gui_tab_3k_DV:nth-of-type(3) {\n    z-index: 1;\n}\n\n.gui_tab_3k_DV:hover {\n  background-color: var(--ui-primary, hsla(215, 100%, 95%, 1));\n}\n\n[theme="dark"] .gui_tab_3k_DV:hover {\n    background-color: var(--ui-secondary, hsla(215, 75%, 95%, 1));\n}\n\n.gui_tab_3k_DV.gui_is-selected_3nXL3 {\n    height: 90%;\n    color: hsla(0, 100%, 65%, 1);\n    background-color: hsla(0, 100%, 100%, 1);\n    z-index: 4; /* Make sure selected is always above */\n}\n\n[theme="dark"] .gui_tab_3k_DV.gui_is-selected_3nXL3 {\n    background-color: var(--ui-secondary, hsla(215, 75%, 95%, 1));\n}\n\n.gui_tab_3k_DV img {\n    width: 1.375rem;\n    filter: grayscale(100%);\n}\n\n[dir="ltr"] .gui_tab_3k_DV img {\n    margin-right: 0.125rem;\n}\n\n[dir="rtl"] .gui_tab_3k_DV img {\n    margin-left: 0.125rem;\n}\n\n/* mirror blocks and sound tab icons */\n\n[dir="rtl"] .gui_tab_3k_DV:nth-of-type(1) img {\n    transform: scaleX(-1);\n}\n\n[dir="rtl"] .gui_tab_3k_DV:nth-of-type(3) img {\n    transform: scaleX(-1);\n}\n\n.gui_tab_3k_DV.gui_is-selected_3nXL3 img {\n    filter: none;\n}\n\n/* Tab style overrides from react-tabs */\n\n.gui_tab_3k_DV.gui_is-selected_3nXL3:after {\n    display: none;\n}\n\n.gui_tab_3k_DV.gui_is-selected_3nXL3:focus {\n    outline: none;\n    box-shadow: none;\n    border-color: hsla(0, 0%, 0%, 0.15);\n}\n\n.gui_tab_3k_DV.gui_is-selected_3nXL3:focus:after {\n    display: none;\n}\n\n/* Body of the tabs */\n\n.gui_tabs_3Cns4 {\n    position: relative;\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n}\n\n.gui_tab-panel_12yVw {\n    position: relative;\n    flex-grow: 1;\n    display: none;\n}\n\n.gui_tab-panel_12yVw.gui_is-selected_3nXL3 {\n    display: flex;\n}\n\n.gui_blocks-wrapper_oRY_r {\n    flex-grow: 1;\n    position: relative;\n}\n\n.gui_stage-and-target-wrapper_2TUbW {\n    /*\n        Makes rows for children:\n          1) stage menu\n          2) stage\n          3) sprite/stage selectors\n        Only reason we need this, is so .targetWrapper, which holds the selectors,\n        goes to full vertical height of the window\n    */\n    display: flex;\n    flex-direction: column;\n    /* pad entire wrapper to the left and right; allow children to fill width */\n    padding-left: 0.5rem;\n    padding-right: 0.5rem;\n\n    /* this will only ever be as wide as the stage */\n    flex-basis: 0;\n}\n\n.gui_target-wrapper_2YpM2 {\n    display: flex;\n    flex-grow: 1;\n    flex-basis: 0;\n\n    padding-top: 0.5rem;\n    min-height: 0; /* this makes it work in Firefox */\n\n    /*\n        For making the sprite-selector a scrollable pane\n        @todo: Not working in Safari\n    */\n    /* TODO this also breaks the thermometer menu */\n    /* overflow: hidden; */\n}\n\n.gui_extension-button-container_sM98M {\n    width: 3.75rem;\n    height: 3.25rem;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 42;\n    background: hsla(0, 100%, 65%, 1);\n\n    border: 1px solid hsla(0, 100%, 65%, 1);\n    box-sizing: content-box; /* To match scratch-block vertical toolbox borders */\n}\n\n.gui_extension-button-container_sM98M:before {\n    content: "";\n    position: absolute;\n    top: calc(calc(-1 * 15px) - 1px);\n    left: -1px;\n    background: linear-gradient(rgba(0, 0, 0, 0),rgba(0, 0, 0, 0.15));\n    height: 15px;\n    width: calc(100% + 0.5px);\n}\n\n.gui_extension-button_3Z58M {\n    background: none;\n    border: none;\n    outline: none;\n    width: 100%;\n    height: 100%;\n    cursor: pointer;\n}\n\n.gui_extension-button-icon_3lDFf {\n    width: 1.75rem;\n    height: 1.75rem;\n}\n\n[dir="rtl"] .gui_extension-button-icon_3lDFf {\n    transform: scaleX(-1);\n}\n\n.gui_extension-button_3Z58M > div {\n    margin-top: 0;\n}\n\n/* Sprite Selection Watermark */\n\n.gui_watermark_3oGgV {\n    position: absolute;\n    top: 1.25rem;\n    pointer-events: none;\n}\n\n[dir="ltr"] .gui_watermark_3oGgV {\n    right: 1.25rem;\n}\n\n[dir="rtl"] .gui_watermark_3oGgV {\n    left: 1.25rem;\n}\n\n/* Menu */\n\n.gui_menu-bar-position_6ejza {\n    position: relative;\n    z-index: 491;\n}\n\n/* Alerts */\n\n.gui_alerts-container_2cnr7 {\n    display: flex;\n    justify-content: center;\n    width: 100%;\n    z-index: 490;\n    position: absolute;\n    margin-top: 53px;\n    pointer-events: none;\n}\n\n/*\n    Make the (background) page not scrollable when modals are open\n    This CSS class is automatically added to the body when react-modal is open\n*/\n\n.ReactModal__Body--open {\n    overflow: hidden;\n}\n\n/* tw: tw: when window is fullscreen, put a solid white background behind the stage */\n\n.gui_fullscreen-background_2RW_a {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: white;\n}\n',""]),t.locals={"page-wrapper":"gui_page-wrapper_r7IhT",pageWrapper:"gui_page-wrapper_r7IhT","body-wrapper":"gui_body-wrapper_1T2l7",bodyWrapper:"gui_body-wrapper_1T2l7","flex-wrapper":"gui_flex-wrapper_2AgdD",flexWrapper:"gui_flex-wrapper_2AgdD","editor-wrapper":"gui_editor-wrapper_WspaC",editorWrapper:"gui_editor-wrapper_WspaC","tab-list":"gui_tab-list_3r8RB",tabList:"gui_tab-list_3r8RB",tab:"gui_tab_3k_DV","is-selected":"gui_is-selected_3nXL3",isSelected:"gui_is-selected_3nXL3",tabs:"gui_tabs_3Cns4","tab-panel":"gui_tab-panel_12yVw",tabPanel:"gui_tab-panel_12yVw","blocks-wrapper":"gui_blocks-wrapper_oRY_r",blocksWrapper:"gui_blocks-wrapper_oRY_r","stage-and-target-wrapper":"gui_stage-and-target-wrapper_2TUbW",stageAndTargetWrapper:"gui_stage-and-target-wrapper_2TUbW","target-wrapper":"gui_target-wrapper_2YpM2",targetWrapper:"gui_target-wrapper_2YpM2","extension-button-container":"gui_extension-button-container_sM98M",extensionButtonContainer:"gui_extension-button-container_sM98M","extension-button":"gui_extension-button_3Z58M",extensionButton:"gui_extension-button_3Z58M","extension-button-icon":"gui_extension-button-icon_3lDFf",extensionButtonIcon:"gui_extension-button-icon_3lDFf",watermark:"gui_watermark_3oGgV","menu-bar-position":"gui_menu-bar-position_6ejza",menuBarPosition:"gui_menu-bar-position_6ejza","alerts-container":"gui_alerts-container_2cnr7",alertsContainer:"gui_alerts-container_2cnr7","fullscreen-background":"gui_fullscreen-background_2RW_a",fullscreenBackground:"gui_fullscreen-background_2RW_a"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return K})),n.d(t,"guiInitialState",(function(){return q})),n.d(t,"guiMiddleware",(function(){return U})),n.d(t,"initEmbedded",(function(){return H})),n.d(t,"initFullScreen",(function(){return z})),n.d(t,"initPlayer",(function(){return G})),n.d(t,"initTelemetryModal",(function(){return V})),n.d(t,"initTutorialCard",(function(){return W}));var a=n(38),o=n(27),r=n(271),s=n(75),i=n(169),l=n(186),c=n(215),d=n(272),u=n(39),p=n(131),m=n(34),h=n(273),g=n(19),f=n(73),b=n(274),_=n(125),v=n(92),y=n(11),w=n(66),S=n(275),E=n(115),C=n(216),k=n(187),x=n(276),O=n(277),F=n(26),T=n(12),I=n.n(T),R=n(29);const j="scratch-gui/vm/SET_VM",D=new I.a;D.setCompatibilityMode(!0),D.attachStorage(R.a);const A=D;var P=n(126),M=n(278),N=n(710),L=n.n(N),B=n(81);const U=Object(a.d)(Object(a.a)(L()(300,{leading:!0,trailing:!0}))),q={alerts:o.a,assetDrag:r.a,blockDrag:d.a,cards:s.b,colorPicker:i.b,connectionModal:l.a,customProcedures:c.b,editorTab:u.f,mode:f.b,hoveredTarget:p.b,stageSize:C.c,menus:m.p,micIndicator:h.b,modals:g.n,monitors:b.b,monitorLayout:_.d,projectChanged:v.b,projectState:y.z,projectTitle:w.b,fontsLoaded:S.b,restoreDeletion:E.b,targets:k.c,timeout:x.c,toolbox:O.b,tw:F.r,vm:A,vmStatus:P.e,workspaceMetrics:M.c},G=function(e){return Object.assign({},e,{mode:{isEmbedded:!1,isFullScreen:e.mode.isFullScreen,isPlayerOnly:!0,hasEverEnteredEditor:!1}})},z=function(e){return Object.assign({},e,{mode:{isEmbedded:!1,isFullScreen:!0,isPlayerOnly:e.mode.isPlayerOnly,hasEverEnteredEditor:e.mode.hasEverEnteredEditor}})},H=function(e){return Object.assign({},e,{mode:{isEmbedded:!0,isFullScreen:!1,isPlayerOnly:!0,hasEverEnteredEditor:!1}})},W=function(e,t){return Object.assign({},e,{cards:{visible:!0,content:B.a,activeDeckId:t,expanded:!0,step:0,x:0,y:0,dragging:!1}})},V=function(e){return Object.assign({},e,{modals:{telemetryModal:!0}})},K=Object(a.c)({alerts:o.d,assetDrag:r.b,blockDrag:d.b,cards:s.d,colorPicker:i.d,connectionModal:l.b,customProcedures:c.d,editorTab:u.e,mode:f.a,hoveredTarget:p.a,stageSize:C.a,menus:m.j,micIndicator:h.a,modals:g.m,monitors:b.a,monitorLayout:_.b,projectChanged:v.a,projectState:y.d,projectTitle:w.a,fontsLoaded:S.a,restoreDeletion:E.a,targets:k.a,timeout:x.a,toolbox:O.a,tw:F.c,vm:function(e,t){switch(void 0===e&&(e=A),t.type){case j:return t.vm;default:return e}},vmStatus:P.a,workspaceMetrics:M.a})}]]);